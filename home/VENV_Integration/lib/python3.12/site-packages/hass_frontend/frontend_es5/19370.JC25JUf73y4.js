"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[19370,88557],{14767:function(e,t,n){var r=n(36565);e.exports=function(e,t,n){for(var i=0,o=arguments.length>2?n:r(t),a=new e(o);o>i;)a[i]=t[i++];return a}},88124:function(e,t,n){var r=n(66293),i=n(13113),o=n(88680),a=n(49940),s=n(80896),c=n(36565),l=n(82337),u=n(14767),f=Array,h=i([].push);e.exports=function(e,t,n,i){for(var d,p,m,v=a(e),g=o(v),y=r(t,n),b=l(null),x=c(g),k=0;x>k;k++)m=g[k],(p=s(y(m,k,v)))in b?h(b[p],m):b[p]=[m];if(i&&(d=i(v))!==f)for(p in b)b[p]=u(d,b[p]);return b}},32350:function(e,t,n){var r=n(32174),i=n(23444),o=n(33616),a=n(36565),s=n(87149),c=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,f=s("lastIndexOf"),h=u||!f;e.exports=h?function(e){if(u)return r(l,this,arguments)||0;var t=i(this),n=a(t);if(0===n)return-1;var s=n-1;for(arguments.length>1&&(s=c(s,o(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:l},73909:function(e,t,n){var r=n(13113),i=n(22669),o=n(53138),a=/"/g,s=r("".replace);e.exports=function(e,t,n,r){var c=o(i(e)),l="<"+t;return""!==n&&(l+=" "+n+'="'+s(o(r),a,"&quot;")+'"'),l+">"+c+"</"+t+">"}},78232:function(e,t,n){var r=n(26887),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},75022:function(e,t,n){var r=n(26906);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},34465:function(e,t,n){var r=n(54935).PROPER,i=n(26906),o=n(69329);e.exports=function(e){return i((function(){return!!o[e]()||"​᠎"!=="​᠎"[e]()||r&&o[e].name!==e}))}},4978:function(e,t,n){var r=n(41765),i=n(49940),o=n(36565),a=n(33616),s=n(2586);r({target:"Array",proto:!0},{at:function(e){var t=i(this),n=o(t),r=a(e),s=r>=0?r:n+r;return s<0||s>=n?void 0:t[s]}}),s("at")},88557:function(e,t,n){var r=n(41765),i=n(16320).findIndex,o=n(2586),a="findIndex",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},41442:function(e,t,n){var r=n(21621),i=n(70501),o=n(14349),a=n(73020),s=n(26906),c=r.RegExp,l=c.prototype;i&&s((function(){var e=!0;try{c(".","d")}catch(s){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",i=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in e&&(o.hasIndices="d"),o)i(a,o[a]);return Object.getOwnPropertyDescriptor(l,"flags").get.call(t)!==r||n!==r}))&&o(l,"flags",{configurable:!0,get:a})},33628:function(e,t,n){var r=n(41765),i=n(73909);r({target:"String",proto:!0,forced:n(75022)("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},8206:function(e,t,n){var r=n(41765),i=n(13113),o=n(22669),a=n(33616),s=n(53138),c=n(26906),l=i("".charAt);r({target:"String",proto:!0,forced:c((function(){return"\ud842"!=="𠮷".at(-2)}))},{at:function(e){var t=s(o(this)),n=t.length,r=a(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:l(t,i)}})},55383:function(e,t,n){var r=n(41765),i=n(73909);r({target:"String",proto:!0,forced:n(75022)("fixed")},{fixed:function(){return i(this,"tt","","")}})},2417:function(e,t,n){var r=n(41765),i=n(73909);r({target:"String",proto:!0,forced:n(75022)("link")},{link:function(e){return i(this,"a","href",e)}})},58750:function(e,t,n){var r=n(41765),i=n(18816),o=n(36643),a=n(13407),s=n(45144),c=n(22669),l=n(93187),u=n(53138),f=n(56674),h=n(81830),d=n(14329),p=n(49921),m=n(99393),v=n(26857),g=n(70029),y=n(26906),b=n(80674),x=n(44804),k=n(12850),w=n(9881),A=n(18326),C=n(53982),S=b("matchAll"),I="RegExp String",L=I+" Iterator",M=A.set,E=A.getterFor(L),O=RegExp.prototype,R=TypeError,F=o("".indexOf),D=o("".matchAll),T=!!D&&!y((function(){D("a",/./)})),P=a((function(e,t,n,r){M(this,{type:L,regexp:e,string:t,global:n,unicode:r,done:!1})}),I,(function(){var e=E(this);if(e.done)return s(void 0,!0);var t=e.regexp,n=e.string,r=w(t,n);return null===r?(e.done=!0,s(void 0,!0)):e.global?(""===u(r[0])&&(t.lastIndex=k(n,l(t.lastIndex),e.unicode)),s(r,!1)):(e.done=!0,s(r,!1))})),W=function(e){var t,n,r,i=f(this),o=u(e),a=x(i,RegExp),s=u(m(i));return t=new a(a===RegExp?i.source:i,s),n=!!~F(s,"g"),r=!!~F(s,"u"),t.lastIndex=l(i.lastIndex),new P(t,o,n,r)};r({target:"String",proto:!0,forced:T},{matchAll:function(e){var t,n,r,o,a=c(this);if(h(e)){if(T)return D(a,e)}else{if(p(e)&&(t=u(c(m(e))),!~F(t,"g")))throw new R("`.matchAll` does not allow non-global regexes");if(T)return D(a,e);if(void 0===(r=v(e,S))&&C&&"RegExp"===d(e)&&(r=W),r)return i(r,e,a)}return n=u(a),o=new RegExp(e,"g"),C?i(W,o,n):o[S](n)}}),C||S in O||g(O,S,W)},29276:function(e,t,n){var r=n(18816),i=n(80731),o=n(56674),a=n(81830),s=n(93187),c=n(53138),l=n(22669),u=n(26857),f=n(12850),h=n(9881);i("match",(function(e,t,n){return[function(t){var n=l(this),i=a(t)?void 0:u(t,e);return i?r(i,t,n):new RegExp(t)[e](c(n))},function(e){var r=o(this),i=c(e),a=n(t,r,i);if(a.done)return a.value;if(!r.global)return h(r,i);var l=r.unicode;r.lastIndex=0;for(var u,d=[],p=0;null!==(u=h(r,i));){var m=c(u[0]);d[p]=m,""===m&&(r.lastIndex=f(i,s(r.lastIndex),l)),p++}return 0===p?null:d}]}))},79641:function(e,t,n){var r=n(41765),i=n(38971).trim;r({target:"String",proto:!0,forced:n(34465)("trim")},{trim:function(){return i(this)}})},12073:function(e,t,n){var r=n(41765),i=n(88124),o=n(2586);r({target:"Array",proto:!0},{group:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("group")},5186:function(e,t,n){var r=n(41765),i=n(73201),o=n(95689),a=n(56674),s=n(1370);r({target:"Iterator",proto:!0,real:!0},{every:function(e){a(this),o(e);var t=s(this),n=0;return!i(t,(function(t,r){if(!e(t,n++))return r()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},30829:function(e,t,n){var r=n(22858).A,i=n(33994).A;n.a(e,function(){var e=r(i().mark((function e(r,o){var a,s,c,l,u,f,h,d,p,m,v,g,y,b,x,k,w,A,C,S,I,L,M,E,O,R,F,D,T,P,W,q,N,z,j,B,U,Z,_,$,H,K,J,V,Q,X,Y,G,ee,te,ne,re,ie,oe,ae,se,ce,le,ue,fe,he,de,pe,me,ve,ge,ye,be,xe,ke,we,Ae,Ce,Se,Ie,Le,Me,Ee,Oe,Re,Fe,De,Te,Pe,We,qe,Ne,ze,je,Be,Ue,Ze,_e,$e,He,Ke,Je,Ve,Qe,Xe,Ye,Ge,et,tt,nt;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[de,re,T.of(e),fe,tt,pe]},Ye=function(e,t,n){var r=e.charCategorizer(t);if(r(e.sliceDoc(t-1,t))!=CharCategory.Word)return t;var i,o=_createForOfIteratorHelper(n);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=t-a.length;if(e.sliceDoc(s,t)==a&&r(e.sliceDoc(s-1,s))!=CharCategory.Word)return s}}catch(c){o.e(c)}finally{o.f()}return-1},Xe=function(e,t,n,r){for(var i=syntaxTree(e).resolveInner(t,-1),o=r.reduce((function(e,t){return Math.max(e,t.length)}),0),a=0;a<5;a++){var s=e.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),c=s.indexOf(n);if(!c||c>-1&&r.indexOf(s.slice(0,c))>-1){for(var l=i.firstChild;l&&l.from==i.from&&l.to-l.from>n.length+c;){if(e.sliceDoc(l.to-n.length,l.to)==n)return!1;l=l.firstChild}return!0}var u=i.to==t&&i.parent;if(!u)break;i=u}return!1},Qe=function(e,t){var n=syntaxTree(e).resolveInner(t+1);return n.parent&&n.from==t},Ve=function(e,t,n,r){var i=r.stringPrefixes||We.stringPrefixes,o=null,a=e.changeByRange((function(r){if(!r.empty)return{changes:[{insert:t,from:r.from},{insert:t,from:r.to}],effects:qe.of(r.to+t.length),range:EditorSelection.range(r.anchor+t.length,r.head+t.length)};var a,s=r.head,c=$e(e.doc,s);if(c==t){if(Qe(e,s))return{changes:{insert:t+t,from:s},effects:qe.of(s+t.length),range:EditorSelection.cursor(s+t.length)};if(_e(e,s)){var l=n&&e.sliceDoc(s,s+3*t.length)==t+t+t?t+t+t:t;return{changes:{from:s,to:s+l.length,insert:l},range:EditorSelection.cursor(s+l.length)}}}else{if(n&&e.sliceDoc(s-2*t.length,s)==t+t&&(a=Ye(e,s-2*t.length,i))>-1&&Qe(e,a))return{changes:{insert:t+t+t+t,from:s},effects:qe.of(s+t.length),range:EditorSelection.cursor(s+t.length)};if(e.charCategorizer(s)(c)!=CharCategory.Word&&Ye(e,s,i)>-1&&!Xe(e,s,t,i))return{changes:{insert:t+t,from:s},effects:qe.of(s+t.length),range:EditorSelection.cursor(s+t.length)}}return{range:o=r}}));return o?null:e.update(a,{scrollIntoView:!0,userEvent:"input.type"})},Je=function(e,t,n){var r=null,i=e.changeByRange((function(t){return t.empty&&$e(e.doc,t.head)==n?{changes:{from:t.head,to:t.head+n.length,insert:n},range:EditorSelection.cursor(t.head+n.length)}:r={range:t}}));return r?null:e.update(i,{scrollIntoView:!0,userEvent:"input.type"})},Ke=function(e,t,n,r){var i=null,o=e.changeByRange((function(o){if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:n,from:o.to}],effects:qe.of(o.to+t.length),range:EditorSelection.range(o.anchor+t.length,o.head+t.length)};var a=$e(e.doc,o.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:t+n,from:o.head},effects:qe.of(o.head+t.length),range:EditorSelection.cursor(o.head+t.length)}:{range:i=o}}));return i?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})},He=function(e,t){var n=e.sliceString(t-2,t);return(0,p.Fh)((0,p.vS)(n,0))==n.length?n:n.slice(1)},$e=function(e,t){var n=e.sliceString(t,t+2);return n.slice(0,(0,p.Fh)((0,p.vS)(n,0)))},_e=function(e,t){var n=!1;return e.field(ze).between(0,e.doc.length,(function(e){e==t&&(n=!0)})),n},Ue=function(e,t){return e.languageDataAt("closeBrackets",t)[0]||We},Be=function(e){for(var t=0;t<je.length;t+=2)if(je.charCodeAt(t)==e)return je.charAt(t+1);return(0,p.MK)(e<128?e:e+1)},Pe=function(e,t,n,r,i){var o=e.length>=1e3,a=o&&t.get(e);if(a)return a;var s=[],c=Object.create(null);if(e.children){var l,u=0,f=_createForOfIteratorHelper(e.children);try{for(f.s();!(l=f.n()).done;){var h=l.value;if(h.length>=1e3){var d,p=_createForOfIteratorHelper(Pe(h,t,n,r-u,i-u));try{for(p.s();!(d=p.n()).done;){var m=d.value;c[m.label]||(c[m.label]=!0,s.push(m))}}catch(v){p.e(v)}finally{p.f()}}else Te(h,n,s,c,i-u);u+=h.length+1}}catch(v){f.e(v)}finally{f.f()}}else Te(e,n,s,c,i);return o&&s.length<2e3&&t.set(e,s),s},Te=function(e,t,n,r,i){for(var o=e.iterLines(),a=0;!o.next().done;){var s=o.value,c=void 0;for(t.lastIndex=0;c=t.exec(s);)if(!r[c[0]]&&a+c.index!=i&&(n.push({type:"text",label:c[0]}),r[c[0]]=!0,n.length>=2e3))return;a+=s.length+1}},De=function(e){return Fe[e]||(Fe[e]=new WeakMap)},Re=function(e,t){return new RegExp(t(e.source),e.unicode?"u":"")},Oe=function(e){var t=e.replace(/[\]\-\\]/g,"\\$&");try{return new RegExp("[\\p{Alphabetic}\\p{Number}_".concat(t,"]+"),"ug")}catch(n){return new RegExp("[w".concat(t,"]"),"g")}},Ce=function(e){return function(t){var n=t.state,r=t.dispatch,i=n.field(ke,!1);if(!i||e<0&&0==i.active)return!1;var o=i.active+e,a=e>0&&!i.ranges.some((function(t){return t.field==o+e}));return r(n.update({selection:we(i.ranges,o),effects:be.of(a?null:new ye(i.ranges,o)),scrollIntoView:!0})),!0}},Ae=function(e){var t=me.parse(e);return function(e,n,r,i){var o=t.instantiate(e.state,r),a=o.text,s=o.ranges,c={changes:{from:r,to:i,insert:Text.of(a)},scrollIntoView:!0,annotations:n?[I.of(n),Transaction.userEvent.of("input.complete")]:void 0};if(s.length&&(c.selection=we(s,0)),s.some((function(e){return e.field>0}))){var l=new ye(s,0),u=c.effects=[be.of(l)];void 0===e.state.field(ke,!1)&&u.push(StateEffect.appendConfig.of([ke,Me,Ee,pe]))}e.dispatch(e.state.update(c))}},we=function(e,t){return p.OF.create(e.filter((function(e){return e.field==t})).map((function(e){return p.OF.range(e.from,e.to)})))},ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"option";return function(n){var r=n.state.field(re,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(T).interactionDelay)return!1;var i,o=1;"page"==t&&(i=(0,m.Eg)(n,r.open.tooltip))&&(o=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));var a=r.open.options.length,s=r.open.selected>-1?r.open.selected+o*(e?1:-1):e?0:a-1;return s<0?s="page"==t?0:a-1:s>=a&&(s="page"==t?a-1:0),n.dispatch({effects:ne.of(s)}),!0}},ie=function(e,t){var n=t.completion.apply||t.completion.label,r=e.state.field(re).active.find((function(e){return e.source==t.source}));return r instanceof G&&("string"==typeof n?e.dispatch(Object.assign(Object.assign({},L(e.state,n,r.from,r.to)),{annotations:I.of(t.completion)})):n(e,t.completion,r.from,r.to),!0)},ee=function(e,t,n,r){if(!e)return!1;var i=t.sliceDoc(n,r);return"function"==typeof e?e(i,n,r,t):S(e,!0).test(i)},X=function(e,t){if(e.isUserEvent("input.complete")){var n=e.annotation(I);if(n&&t.activateOnCompletion(n))return 12}var r=e.isUserEvent("input.type");return r&&t.activateOnTyping?5:r?1:e.isUserEvent("delete.backward")?2:e.selection?8:e.docChanged?16:0},V=function(e,t){var n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n},H=function(e,t){if(e==t)return!0;for(var n=0,r=0;;){for(;n<e.length&&!e[n].hasResult;)n++;for(;r<t.length&&!t[r].hasResult;)r++;var i=n==e.length,o=r==t.length;if(i||o)return i==o;if(e[n++].result!=t[r++].result)return!1}},Z=function(e,t){var n,r=[],i=null,o=function(e){r.push(e);var t=e.completion.section;if(t){i||(i=[]);var n="string"==typeof t?t:t.name;i.some((function(e){return e.name==n}))||i.push("string"==typeof t?{name:n}:t)}},a=t.facet(T),s=(0,f.A)(e);try{for(s.s();!(n=s.n()).done;){var c=n.value;if(c.hasResult()){var l=c.result.getMatch;if(!1===c.result.filter){var u,h=(0,f.A)(c.result.options);try{for(h.s();!(u=h.n()).done;){var d=u.value;o(new A(d,c.source,l?l(d):[],1e9-r.length))}}catch(B){h.e(B)}finally{h.f()}}else{var p,m=t.sliceDoc(c.from,c.to),v=void 0,g=a.filterStrict?new D(m):new F(m),y=(0,f.A)(c.result.options);try{for(y.s();!(p=y.n()).done;){var b=p.value;if(v=g.match(b.label)){var x=b.displayLabel?l?l(b,v.matched):[]:v.matched;o(new A(b,c.source,x,v.score+(b.boost||0)))}}}catch(B){y.e(B)}finally{y.f()}}}}}catch(B){s.e(B)}finally{s.f()}if(i){var k,w=Object.create(null),C=0,S=(0,f.A)(i.sort((function(e,t){var n,r;return(null!==(n=e.rank)&&void 0!==n?n:1e9)-(null!==(r=t.rank)&&void 0!==r?r:1e9)||(e.name<t.name?-1:1)})));try{for(S.s();!(k=S.n()).done;){var I=k.value;C-=1e5,w[I.name]=C}}catch(B){S.e(B)}finally{S.f()}var L,M=(0,f.A)(r);try{for(M.s();!(L=M.n()).done;){var E=L.value,O=E.completion.section;O&&(E.score+=w["string"==typeof O?O:O.name])}}catch(B){M.e(B)}finally{M.f()}}var R,P=[],W=null,q=a.compareCompletions,N=(0,f.A)(r.sort((function(e,t){return t.score-e.score||q(e.completion,t.completion)})));try{for(N.s();!(R=N.n()).done;){var z=R.value,j=z.completion;!W||W.label!=j.label||W.detail!=j.detail||null!=W.type&&null!=j.type&&W.type!=j.type||W.apply!=j.apply||W.boost!=j.boost?P.push(z):U(z.completion)>U(W)&&(P[P.length-1]=z),W=z.completion}}catch(B){N.e(B)}finally{N.f()}return P},U=function(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)},B=function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.height/e.offsetHeight;r.top<n.top?e.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(e.scrollTop+=(r.bottom-n.bottom)/i)},j=function(e,t){return function(n){return new z(n,e,t)}},N=function(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){var r=Math.floor(t/n);return{from:r*n,to:(r+1)*n}}var i=Math.floor((e-t)/n);return{from:e-(i+1)*n,to:e-i*n}},q=function(e){var t=e.addToOptions.slice();return e.icons&&t.push({render:function(e){var t,n=document.createElement("div");return n.classList.add("cm-completionIcon"),e.type&&(t=n.classList).add.apply(t,(0,l.A)(e.type.split(/\s+/g).map((function(e){return"cm-completionIcon-"+e})))),n.setAttribute("aria-hidden","true"),n},position:20}),t.push({render:function(e,t,n,r){var i=document.createElement("span");i.className="cm-completionLabel";for(var o=e.displayLabel||e.label,a=0,s=0;s<r.length;){var c=r[s++],l=r[s++];c>a&&i.appendChild(document.createTextNode(o.slice(a,c)));var u=i.appendChild(document.createElement("span"));u.appendChild(document.createTextNode(o.slice(c,l))),u.className="cm-completionMatchedText",a=l}return a<o.length&&i.appendChild(document.createTextNode(o.slice(a))),i},position:50},{render:function(e){if(!e.detail)return null;var t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort((function(e,t){return e.position-t.position})).map((function(e){return e.render}))},W=function(e,t,n,r,i,o){var a,s,c=e.textDirection==m.OP.RTL,l=c,u=!1,f="top",h=t.left-i.left,d=i.right-t.right,p=r.right-r.left,v=r.bottom-r.top;if(l&&h<Math.min(p,d)?l=!1:!l&&d<Math.min(p,h)&&(l=!0),p<=(l?h:d))a=Math.max(i.top,Math.min(n.top,i.bottom-v))-t.top,s=Math.min(400,l?h:d);else{u=!0,s=Math.min(400,(c?t.right:i.right-t.left)-30);var g=i.bottom-t.bottom;g>=v||g>t.top?a=n.bottom-t.top:(f="bottom",a=t.bottom-n.top)}var y=(t.bottom-t.top)/o.offsetHeight,b=(t.right-t.left)/o.offsetWidth;return{style:"".concat(f,": ").concat(a/y,"px; max-width: ").concat(s/b,"px"),class:"cm-completionInfo-"+(u?c?"left-narrow":"right-narrow":l?"left":"right")}},P=function(e,t){return e?t?e+" "+t:e:t},E=function(e){if(!Array.isArray(e))return e;var t=M.get(e);return t||M.set(e,t=w(e)),t},L=function(e,t,n,r){var i=e.selection.main,o=n-i.from,a=r-i.from;return Object.assign(Object.assign({},e.changeByRange((function(s){if(s!=i&&n!=r&&e.sliceDoc(s.from+o,s.from+a)!=e.sliceDoc(n,r))return{range:s};var c=e.toText(t);return{changes:{from:s.from+o,to:r==i.from?s.to:s.from+a,insert:c},range:p.OF.cursor(s.from+o+c.length)}}))),{scrollIntoView:!0,userEvent:"input.complete"})},S=function(e,t){var n,r=e.source,i=t&&"^"!=r[0],o="$"!=r[r.length-1];return i||o?new RegExp("".concat(i?"^":"","(?:").concat(r,")").concat(o?"$":""),null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e},C=function(e){return e.selection.main.from},w=function(e){var t=e.map((function(e){return"string"==typeof e?{label:e}:e})),n=t.every((function(e){return/^\w+$/.test(e.label)}))?[/\w*$/,/\w+$/]:k(t),r=(0,u.A)(n,2),i=r[0],o=r[1];return function(e){var n=e.matchBefore(o);return n||e.explicit?{from:n?n.from:e.pos,options:t,validFor:i}:null}},k=function(e){var t,n=Object.create(null),r=Object.create(null),i=(0,f.A)(e);try{for(i.s();!(t=i.n()).done;){var o=t.value.label;n[o[0]]=!0;for(var a=1;a<o.length;a++)r[o[a]]=!0}}catch(c){i.e(c)}finally{i.f()}var s=x(n)+x(r)+"*$";return[new RegExp("^"+s),new RegExp(s)]},x=function(e){var t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),"[".concat(n?"\\w":"").concat(t.replace(/[^\w\s]/g,"\\$&"),"]")},n.d(t,{yU:function(){return Ge}}),a=n(91001),s=n(62193),c=n(2816),l=n(41981),u=n(658),f=n(64782),h=n(71008),d=n(35806),n(81027),n(13025),n(44124),n(39805),n(95737),n(79243),n(97741),n(89655),n(46469),n(18193),n(33231),n(97099),n(50693),n(26098),n(10507),n(39790),n(66457),n(66385),n(13448),n(36016),n(41442),n(64646),n(98185),n(7760),n(99019),n(29276),n(43037),n(20529),n(17001),n(33628),n(15129),n(253),n(5186),n(2075),n(94438),n(16891),n(37679),n(4525),n(96858),p=n(71070),m=n(11626),v=n(9283),!(g=r([v,m])).then){e.next=113;break}return e.next=109,g;case 109:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=114;break;case 113:e.t0=g;case 114:y=e.t0,v=y[0],m=y[1],b=function(){return(0,d.A)((function e(t,n,r,i){(0,h.A)(this,e),this.state=t,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}),[{key:"tokenBefore",value:function(e){for(var t=(0,v.mv)(this.state).resolveInner(this.pos,-1);t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}},{key:"matchBefore",value:function(e){var t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),r=t.text.slice(n-t.from,this.pos-t.from),i=r.search(S(e,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}},{key:"aborted",get:function(){return null==this.abortListeners}},{key:"addEventListener",value:function(e,t,n){"abort"==e&&this.abortListeners&&(this.abortListeners.push(t),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}])}(),A=(0,d.A)((function e(t,n,r,i){(0,h.A)(this,e),this.completion=t,this.source=n,this.match=r,this.score=i})),I=p.YH.define(),M=new WeakMap,O=p.Pe.define(),R=p.Pe.define(),F=function(){return(0,d.A)((function e(t){(0,h.A)(this,e),this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(var n=0;n<t.length;){var r=(0,p.vS)(t,n),i=(0,p.Fh)(r);this.chars.push(r);var o=t.slice(n,n+i),a=o.toUpperCase();this.folded.push((0,p.vS)(a==o?o.toLowerCase():a,0)),n+=i}this.astral=t.length!=this.chars.length}),[{key:"ret",value:function(e,t){return this.score=e,this.matched=t,this}},{key:"match",value:function(e){if(0==this.pattern.length)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;var t=this.chars,n=this.folded,r=this.any,i=this.precise,o=this.byWord;if(1==t.length){var a=(0,p.vS)(e,0),s=(0,p.Fh)(a),c=s==e.length?0:-100;if(a==t[0]);else{if(a!=n[0])return null;c+=-200}return this.ret(c,[0,s])}var l=e.indexOf(this.pattern);if(0==l)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);var u=t.length,f=0;if(l<0){for(var h=0,d=Math.min(e.length,200);h<d&&f<u;){var m=(0,p.vS)(e,h);m!=t[f]&&m!=n[f]||(r[f++]=h),h+=(0,p.Fh)(m)}if(f<u)return null}for(var v=0,g=0,y=!1,b=0,x=-1,k=-1,w=/[a-z]/.test(e),A=!0,C=0,S=Math.min(e.length,200),I=0;C<S&&g<u;){var L=(0,p.vS)(e,C);l<0&&(v<u&&L==t[v]&&(i[v++]=C),b<u&&(L==t[b]||L==n[b]?(0==b&&(x=C),k=C+1,b++):b=0));var M=void 0,E=L<255?L>=48&&L<=57||L>=97&&L<=122?2:L>=65&&L<=90?1:0:(M=(0,p.MK)(L))!=M.toLowerCase()?1:M!=M.toUpperCase()?2:0;(!C||1==E&&w||0==I&&0!=E)&&(t[g]==L||n[g]==L&&(y=!0)?o[g++]=C:o.length&&(A=!1)),I=E,C+=(0,p.Fh)(L)}return g==u&&0==o[0]&&A?this.result((y?-200:0)-100,o,e):b==u&&0==x?this.ret(-200-e.length+(k==e.length?0:-100),[0,k]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):b==u?this.ret(-900-e.length,[x,k]):g==u?this.result((y?-200:0)-100-700+(A?0:-1100),o,e):2==t.length?null:this.result((r[0]?-700:0)-200-1100,r,e)}},{key:"result",value:function(e,t,n){var r,i=[],o=0,a=(0,f.A)(t);try{for(a.s();!(r=a.n()).done;){var s=r.value,c=s+(this.astral?(0,p.Fh)((0,p.vS)(n,s)):1);o&&i[o-1]==s?i[o-1]=c:(i[o++]=s,i[o++]=c)}}catch(l){a.e(l)}finally{a.f()}return this.ret(e-n.length,i)}}])}(),D=function(){return(0,d.A)((function e(t){(0,h.A)(this,e),this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}),[{key:"match",value:function(e){if(e.length<this.pattern.length)return null;var t=e.slice(0,this.pattern.length),n=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return null==n?null:(this.matched=[0,t.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}])}(),T=p.sj.define({combine:function(e){return(0,p.QR)(e,{activateOnTyping:!0,activateOnCompletion:function(){return!1},activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:function(){return""},optionClass:function(){return""},aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:W,filterStrict:!1,compareCompletions:function(e,t){return e.label.localeCompare(t.label)},interactionDelay:75,updateSyncTime:100},{defaultKeymap:function(e,t){return e&&t},closeOnBlur:function(e,t){return e&&t},icons:function(e,t){return e&&t},tooltipClass:function(e,t){return function(n){return P(e(n),t(n))}},optionClass:function(e,t){return function(n){return P(e(n),t(n))}},addToOptions:function(e,t){return e.concat(t)},filterStrict:function(e,t){return e||t}})}}),z=function(){return(0,d.A)((function e(t,n,r){var i=this;(0,h.A)(this,e),this.view=t,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:function(){return i.measureInfo()},write:function(e){return i.placeInfo(e)},key:this},this.space=null,this.currentClass="";var o=t.state.field(n),a=o.open,s=a.options,c=a.selected,l=t.state.facet(T);this.optionContent=q(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=N(s.length,c,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",(function(e){for(var r,o=t.state.field(n).open.options,a=e.target;a&&a!=i.dom;a=a.parentNode)if("LI"==a.nodeName&&(r=/-(\d+)$/.exec(a.id))&&+r[1]<o.length)return i.applyCompletion(t,o[+r[1]]),void e.preventDefault()})),this.dom.addEventListener("focusout",(function(e){var n=t.state.field(i.stateField,!1);n&&n.tooltip&&t.state.facet(T).closeOnBlur&&e.relatedTarget!=t.contentDOM&&t.dispatch({effects:R.of(null)})})),this.showOptions(s,o.id)}),[{key:"mount",value:function(){this.updateSel()}},{key:"showOptions",value:function(e,t){var n=this;this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",(function(){n.info&&n.view.requestMeasure(n.placeInfoReq)}))}},{key:"update",value:function(e){var t,n=e.state.field(this.stateField),r=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=r){var i=n.open,o=i.options,a=i.selected,s=i.disabled;r.open&&r.open.options==o||(this.range=N(o.length,a,e.state.facet(T).maxRenderedOptions),this.showOptions(o,n.id)),this.updateSel(),s!=(null===(t=r.open)||void 0===t?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!s)}}},{key:"updateTooltipClass",value:function(e){var t=this.tooltipClass(e);if(t!=this.currentClass){var n,r=(0,f.A)(this.currentClass.split(" "));try{for(r.s();!(n=r.n()).done;){var i=n.value;i&&this.dom.classList.remove(i)}}catch(c){r.e(c)}finally{r.f()}var o,a=(0,f.A)(t.split(" "));try{for(a.s();!(o=a.n()).done;){var s=o.value;s&&this.dom.classList.add(s)}}catch(c){a.e(c)}finally{a.f()}this.currentClass=t}}},{key:"positioned",value:function(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}},{key:"updateSel",value:function(){var e=this,t=this.view.state.field(this.stateField),n=t.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=N(n.options.length,n.selected,this.view.state.facet(T).maxRenderedOptions),this.showOptions(n.options,t.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();var r=n.options[n.selected].completion,i=r.info;if(!i)return;var o="string"==typeof i?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then((function(n){n&&e.view.state.field(e.stateField,!1)==t&&e.addInfoPane(n,r)})).catch((function(t){return(0,m.c_)(e.view.state,t,"completion info")})):this.addInfoPane(o,r)}}},{key:"addInfoPane",value:function(e,t){this.destroyInfo();var n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",null!=e.nodeType)n.appendChild(e),this.infoDestroy=null;else{var r=e.dom,i=e.destroy;n.appendChild(r),this.infoDestroy=i||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}},{key:"updateSelectedOption",value:function(e){for(var t=null,n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)"LI"==n.nodeName&&n.id?r==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected"):r--;return t&&B(this.list,t),t}},{key:"measureInfo",value:function(){var e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;var t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),i=this.space;if(!i){var o=this.dom.ownerDocument.defaultView||window;i={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return r.top>Math.min(i.bottom,t.bottom)-10||r.bottom<Math.max(i.top,t.top)+10?null:this.view.state.facet(T).positionInfo(this.view,t,r,n,i,this.dom)}},{key:"placeInfo",value:function(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}},{key:"createListBox",value:function(e,t,n){var r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));for(var i=null,o=n.from;o<n.to;o++){var a=e[o],s=a.completion,c=a.match,l=s.section;if(l){var u="string"==typeof l?l:l.name;if(u!=i&&(o>n.from||0==n.from))if(i=u,"string"!=typeof l&&l.header)r.appendChild(l.header(l));else r.appendChild(document.createElement("completion-section")).textContent=u}var h=r.appendChild(document.createElement("li"));h.id=t+"-"+o,h.setAttribute("role","option");var d=this.optionClass(s);d&&(h.className=d);var p,m=(0,f.A)(this.optionContent);try{for(m.s();!(p=m.n()).done;){var v=(0,p.value)(s,this.view.state,this.view,c);v&&h.appendChild(v)}}catch(g){m.e(g)}finally{m.f()}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}},{key:"destroyInfo",value:function(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}},{key:"destroy",value:function(){this.destroyInfo()}}])}(),_=function(){function e(t,n,r,i,o,a){(0,h.A)(this,e),this.options=t,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=a}return(0,d.A)(e,[{key:"setSelected",value:function(t,n){return t==this.selected||t>=this.options.length?this:new e(this.options,V(n,t),this.tooltip,this.timestamp,t,this.disabled)}},{key:"map",value:function(t){return new e(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}],[{key:"build",value:function(t,n,r,i,o){var a=Z(t,n);if(!a.length)return i&&t.some((function(e){return 1==e.state}))?new e(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;var s=n.facet(T).selectOnOpen?0:-1;if(i&&i.selected!=s&&-1!=i.selected)for(var c=i.options[i.selected].completion,l=0;l<a.length;l++)if(a[l].completion==c){s=l;break}return new e(a,V(r,s),{pos:t.reduce((function(e,t){return t.hasResult()?Math.min(e,t.from):e}),1e8),create:oe,above:o.aboveCursor},i?i.timestamp:Date.now(),s,!1)}}])}(),$=function(){function e(t,n,r){(0,h.A)(this,e),this.active=t,this.id=n,this.open=r}return(0,d.A)(e,[{key:"update",value:function(t){var n=this,r=t.state,i=r.facet(T),o=(i.override||r.languageDataAt("autocomplete",C(r)).map(E)).map((function(e){return(n.active.find((function(t){return t.source==e}))||new Y(e,n.active.some((function(e){return 0!=e.state}))?1:0)).update(t,i)}));o.length==this.active.length&&o.every((function(e,t){return e==n.active[t]}))&&(o=this.active);var a=this.open;a&&t.docChanged&&(a=a.map(t.changes)),t.selection||o.some((function(e){return e.hasResult()&&t.changes.touchesRange(e.from,e.to)}))||!H(o,this.active)?a=_.build(o,r,this.id,a,i):a&&a.disabled&&!o.some((function(e){return 1==e.state}))&&(a=null),!a&&o.every((function(e){return 1!=e.state}))&&o.some((function(e){return e.hasResult()}))&&(o=o.map((function(e){return e.hasResult()?new Y(e.source,0):e})));var s,c=(0,f.A)(t.effects);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.is(ne)&&(a=a&&a.setSelected(l.value,this.id))}}catch(u){c.e(u)}finally{c.f()}return o==this.active&&a==this.open?this:new e(o,this.id,a)}},{key:"tooltip",get:function(){return this.open?this.open.tooltip:null}},{key:"attrs",get:function(){return this.open?this.open.attrs:this.active.length?K:J}}],[{key:"start",value:function(){return new e(Q,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}}])}(),K={"aria-autocomplete":"list"},J={},Q=[],Y=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;(0,h.A)(this,e),this.source=t,this.state=n,this.explicitPos=r}return(0,d.A)(e,[{key:"hasResult",value:function(){return!1}},{key:"update",value:function(t,n){var r=X(t,n),i=this;(8&r||16&r&&this.touches(t))&&(i=new e(i.source,0)),4&r&&0==i.state&&(i=new e(this.source,1)),i=i.updateFor(t,r);var o,a=(0,f.A)(t.effects);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.is(O))i=new e(i.source,1,s.value?C(t.state):-1);else if(s.is(R))i=new e(i.source,0);else if(s.is(te)){var c,l=(0,f.A)(s.value);try{for(l.s();!(c=l.n()).done;){var u=c.value;u.source==i.source&&(i=u)}}catch(h){l.e(h)}finally{l.f()}}}}catch(h){a.e(h)}finally{a.f()}return i}},{key:"updateFor",value:function(e,t){return this.map(e.changes)}},{key:"map",value:function(t){return t.empty||this.explicitPos<0?this:new e(this.source,this.state,t.mapPos(this.explicitPos))}},{key:"touches",value:function(e){return e.changes.touchesRange(C(e.state))}}])}(),G=function(e){function t(e,n,r,i,o){var a;return(0,h.A)(this,t),(a=(0,s.A)(this,t,[e,2,n])).result=r,a.from=i,a.to=o,a}return(0,c.A)(t,e),(0,d.A)(t,[{key:"hasResult",value:function(){return!0}},{key:"updateFor",value:function(e,n){var r;if(!(3&n))return this.map(e.changes);var i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));var o=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),s=C(e.state);if((this.explicitPos<0?s<=o:s<this.from)||s>a||!i||2&n&&C(e.startState)==this.from)return new Y(this.source,4&n?1:0);var c=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return ee(i.validFor,e.state,o,a)?new t(this.source,c,i,o,a):i.update&&(i=i.update(i,o,a,new b(e.state,s,c>=0)))?new t(this.source,c,i,i.from,null!==(r=i.to)&&void 0!==r?r:C(e.state)):new Y(this.source,1,c)}},{key:"map",value:function(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new t(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Y(this.source,0)}},{key:"touches",value:function(e){return e.changes.touchesRange(this.from,this.to)}}])}(Y),te=p.Pe.define({map:function(e,t){return e.map((function(e){return e.map(t)}))}}),ne=p.Pe.define(),oe=j(re=p.sU.define({create:function(){return $.start()},update:function(e,t){return e.update(t)},provide:function(e){return[m.DK.from(e,(function(e){return e.tooltip})),m.Lz.contentAttributes.from(e,(function(e){return e.attrs}))]}}),ie),se=function(e){var t=e.state.field(re,!1);return!(e.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<e.state.facet(T).interactionDelay)&&ie(e,t.open.options[t.open.selected])},ce=function(e){return!!e.state.field(re,!1)&&(e.dispatch({effects:O.of(!0)}),!0)},le=function(e){var t=e.state.field(re,!1);return!(!t||!t.active.some((function(e){return 0!=e.state})))&&(e.dispatch({effects:R.of(null)}),!0)},ue=(0,d.A)((function e(t,n){(0,h.A)(this,e),this.active=t,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0})),fe=m.Z9.fromClass(function(){return(0,d.A)((function e(t){(0,h.A)(this,e),this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;var n,r=(0,f.A)(t.state.field(re).active);try{for(r.s();!(n=r.n()).done;){var i=n.value;1==i.state&&this.startQuery(i)}}catch(o){r.e(o)}finally{r.f()}}),[{key:"update",value:function(e){var t=this,n=e.state.field(re),r=e.state.facet(T);if(e.selectionSet||e.docChanged||e.startState.field(re)!=n){for(var i=e.transactions.some((function(e){var t=X(e,r);return 8&t||(e.selection||e.docChanged)&&!(3&t)})),o=0;o<this.running.length;o++){var a=this.running[o];if(i||a.context.abortOnDocChange&&e.docChanged||a.updates.length+e.transactions.length>50&&Date.now()-a.time>1e3){var s,c=(0,f.A)(a.context.abortListeners);try{for(c.s();!(s=c.n()).done;){var u=s.value;try{u()}catch(y){(0,m.c_)(this.view.state,y)}}}catch(b){c.e(b)}finally{c.f()}a.context.abortListeners=null,this.running.splice(o--,1)}else{var h;(h=a.updates).push.apply(h,(0,l.A)(e.transactions))}}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),e.transactions.some((function(e){return e.effects.some((function(e){return e.is(O)}))}))&&(this.pendingStart=!0);var d=this.pendingStart?50:r.activateOnTypingDelay;if(this.debounceUpdate=n.active.some((function(e){return 1==e.state&&!t.running.some((function(t){return t.active.source==e.source}))}))?setTimeout((function(){return t.startUpdate()}),d):-1,0!=this.composing){var p,v=(0,f.A)(e.transactions);try{for(v.s();!(p=v.n()).done;){var g=p.value;g.isUserEvent("input.type")?this.composing=2:2==this.composing&&g.selection&&(this.composing=3)}}catch(b){v.e(b)}finally{v.f()}}}}},{key:"startUpdate",value:function(){var e=this;this.debounceUpdate=-1,this.pendingStart=!1;var t,n=this.view.state.field(re),r=(0,f.A)(n.active);try{var i=function(){var n=t.value;1!=n.state||e.running.some((function(e){return e.active.source==n.source}))||e.startQuery(n)};for(r.s();!(t=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}}},{key:"startQuery",value:function(e){var t=this,n=this.view.state,r=C(n),i=new b(n,r,e.explicitPos==r,this.view),o=new ue(e,i);this.running.push(o),Promise.resolve(e.source(i)).then((function(e){o.context.aborted||(o.done=e||null,t.scheduleAccept())}),(function(e){t.view.dispatch({effects:R.of(null)}),(0,m.c_)(t.view.state,e)}))}},{key:"scheduleAccept",value:function(){var e=this;this.running.every((function(e){return void 0!==e.done}))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((function(){return e.accept()}),this.view.state.facet(T).updateSyncTime))}},{key:"accept",value:function(){var e,t=this;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;for(var n=[],r=this.view.state.facet(T),i=function(i){var a=t.running[i];if(void 0===a.done)return o=i,0;if(t.running.splice(i--,1),a.done){var s,c=new G(a.active.source,a.active.explicitPos,a.done,a.done.from,null!==(e=a.done.to)&&void 0!==e?e:C(a.updates.length?a.updates[0].startState:t.view.state)),l=(0,f.A)(a.updates);try{for(l.s();!(s=l.n()).done;){var u=s.value;c=c.update(u,r)}}catch(g){l.e(g)}finally{l.f()}if(c.hasResult())return n.push(c),o=i,0}var h=t.view.state.field(re).active.find((function(e){return e.source==a.active.source}));if(h&&1==h.state)if(null==a.done){var d,p=new Y(a.active.source,0),m=(0,f.A)(a.updates);try{for(m.s();!(d=m.n()).done;){var v=d.value;p=p.update(v,r)}}catch(g){m.e(g)}finally{m.f()}1!=p.state&&n.push(p)}else t.startQuery(h);o=i},o=0;o<this.running.length;o++)i(o);n.length&&this.view.dispatch({effects:te.of(n)})}}])}(),{eventHandlers:{blur:function(e){var t=this,n=this.view.state.field(re,!1);if(n&&n.tooltip&&this.view.state.facet(T).closeOnBlur){var r=n.open&&(0,m.Eg)(this.view,n.open.tooltip);r&&r.dom.contains(e.relatedTarget)||setTimeout((function(){return t.view.dispatch({effects:R.of(null)})}),10)}},compositionstart:function(){this.composing=1},compositionend:function(){var e=this;3==this.composing&&setTimeout((function(){return e.view.dispatch({effects:O.of(!1)})}),20),this.composing=0}}}),he="object"==("undefined"==typeof navigator?"undefined":(0,a.A)(navigator))&&/Win/.test(navigator.platform),de=p.Nb.highest(m.Lz.domEventHandlers({keydown:function(e,t){var n=t.state.field(re,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||e.key.length>1||e.ctrlKey&&(!he||!e.altKey)||e.metaKey)return!1;var r=n.open.options[n.open.selected],i=n.active.find((function(e){return e.source==r.source})),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(e.key)>-1&&ie(t,r),!1}})),pe=m.Lz.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"".concat(400,"px"),boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"".concat(30,"px")},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"".concat(30,"px")},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),me=null,ve=m.NZ.widget({widget:new(function(e){function t(){return(0,h.A)(this,t),(0,s.A)(this,t,arguments)}return(0,c.A)(t,e),(0,d.A)(t,[{key:"toDOM",value:function(){var e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}},{key:"ignoreEvent",value:function(){return!1}}])}(m.xO))}),ge=m.NZ.mark({class:"cm-snippetField"}),ye=function(){function e(t,n){(0,h.A)(this,e),this.ranges=t,this.active=n,this.deco=m.NZ.set(t.map((function(e){return(e.from==e.to?ve:ge).range(e.from,e.to)})))}return(0,d.A)(e,[{key:"map",value:function(t){var n,r=[],i=(0,f.A)(this.ranges);try{for(i.s();!(n=i.n()).done;){var o=n.value.map(t);if(!o)return null;r.push(o)}}catch(a){i.e(a)}finally{i.f()}return new e(r,this.active)}},{key:"selectionInsideField",value:function(e){var t=this;return e.ranges.every((function(e){return t.ranges.some((function(n){return n.field==t.active&&n.from<=e.from&&n.to>=e.to}))}))}}])}(),be=p.Pe.define({map:function(e,t){return e&&e.map(t)}}),xe=p.Pe.define(),ke=p.sU.define({create:function(){return null},update:function(e,t){var n,r=(0,f.A)(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.is(be))return i.value;if(i.is(xe)&&e)return new ye(e.ranges,i.value)}}catch(o){r.e(o)}finally{r.f()}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:function(e){return m.Lz.decorations.from(e,(function(e){return e?e.deco:m.NZ.none}))}}),Se=function(e){var t=e.state,n=e.dispatch;return!!t.field(ke,!1)&&(n(t.update({effects:be.of(null)})),!0)},Ie=[{key:"Tab",run:Ce(1),shift:Ce(-1)},{key:"Escape",run:Se}],Le=p.sj.define({combine:function(e){return e.length?e[0]:Ie}}),Me=p.Nb.highest(m.w4.compute([Le],(function(e){return e.facet(Le)}))),Ee=m.Lz.domEventHandlers({mousedown:function(e,t){var n,r=t.state.field(ke,!1);if(!r||null==(n=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;var i=r.ranges.find((function(e){return e.from<=n&&e.to>=n}));return!(!i||i.field==r.active)&&(t.dispatch({selection:we(r.ranges,i.field),effects:be.of(r.ranges.some((function(e){return e.field>i.field}))?new ye(r.ranges,i.field):null),scrollIntoView:!0}),!0)}}),Fe=null,We={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},qe=p.Pe.define({map:function(e,t){var n=t.mapPos(e,-1,p.iR.TrackAfter);return null==n?void 0:n}}),Ne=new(function(e){function t(){return(0,h.A)(this,t),(0,s.A)(this,t,arguments)}return(0,c.A)(t,e),(0,d.A)(t)}(p.FB)),Ne.startSide=1,Ne.endSide=-1,ze=p.sU.define({create:function(){return p.om.empty},update:function(e,t){if(e=e.map(t.changes),t.selection){var n=t.state.doc.lineAt(t.selection.main.head);e=e.update({filter:function(e){return e>=n.from&&e<=n.to}})}var r,i=(0,f.A)(t.effects);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.is(qe)&&(e=e.update({add:[Ne.range(o.value,o.value+1)]}))}}catch(a){i.e(a)}finally{i.f()}return e}}),je="()[]{}<>","object"==("undefined"==typeof navigator?"undefined":(0,a.A)(navigator))&&/Android\b/.test(navigator.userAgent),Ze=null,et=[{key:"Ctrl-Space",run:ce},{mac:"Alt-`",run:ce},{key:"Escape",run:le},{key:"ArrowDown",run:ae(!0)},{key:"ArrowUp",run:ae(!1)},{key:"PageDown",run:ae(!0,"page")},{key:"PageUp",run:ae(!1,"page")},{key:"Enter",run:se}],tt=p.Nb.highest(m.w4.computeN([T],(function(e){return e.facet(T).defaultKeymap?[et]:[]}))),nt=new WeakMap,o(),e.next=185;break;case 182:e.prev=182,e.t2=e.catch(0),o(e.t2);case 185:case"end":return e.stop()}}),e,null,[[0,182]])})));return function(t,n){return e.apply(this,arguments)}}())},12764:function(e,t,n){n.d(t,{n:function(){return l}});n(79243),n(66385),n(13448),n(36016),n(64646),n(7760),n(29276);var r=["and","as","block","endblock","by","cycle","debug","else","elif","extends","filter","endfilter","firstof","do","for","endfor","if","endif","ifchanged","endifchanged","ifequal","endifequal","ifnotequal","set","raw","endraw","endifnotequal","in","include","load","not","now","or","parsed","regroup","reversed","spaceless","call","endcall","macro","endmacro","endspaceless","ssi","templatetag","openblock","closeblock","openvariable","closevariable","without","context","openbrace","closebrace","opencomment","closecomment","widthratio","url","with","endwith","get_current_language","trans","endtrans","noop","blocktrans","endblocktrans","get_available_languages","get_current_language_bidi","pluralize","autoescape","endautoescape"],i=/^[+\-*&%=<>!?|~^]/,o=/^[:\[\(\{]/,a=["true","false"],s=/^(\d[+\-\*\/])?\d+(\.\d+)?/;function c(e,t){var n=e.peek();if(t.incomment)return e.skipTo("#}")?(e.eatWhile(/\#|}/),t.incomment=!1):e.skipToEnd(),"comment";if(t.intag){if(t.operator){if(t.operator=!1,e.match(a))return"atom";if(e.match(s))return"number"}if(t.sign){if(t.sign=!1,e.match(a))return"atom";if(e.match(s))return"number"}if(t.instring)return n==t.instring&&(t.instring=!1),e.next(),"string";if("'"==n||'"'==n)return t.instring=n,e.next(),"string";if(t.inbraces>0&&")"==n)e.next(),t.inbraces--;else if("("==n)e.next(),t.inbraces++;else if(t.inbrackets>0&&"]"==n)e.next(),t.inbrackets--;else if("["==n)e.next(),t.inbrackets++;else{if(!t.lineTag&&(e.match(t.intag+"}")||e.eat("-")&&e.match(t.intag+"}")))return t.intag=!1,"tag";if(e.match(i))return t.operator=!0,"operator";if(e.match(o))t.sign=!0;else{if(1==e.column()&&t.lineTag&&e.match(r))return"keyword";if(e.eat(" ")||e.sol()){if(e.match(r))return"keyword";if(e.match(a))return"atom";if(e.match(s))return"number";e.sol()&&e.next()}else e.next()}}return"variable"}if(e.eat("{")){if(e.eat("#"))return t.incomment=!0,e.skipTo("#}")?(e.eatWhile(/\#|}/),t.incomment=!1):e.skipToEnd(),"comment";if(n=e.eat(/\{|%/))return t.intag=n,t.inbraces=0,t.inbrackets=0,"{"==n&&(t.intag="}"),e.eat("-"),"tag"}else if(e.eat("#")){if("#"==e.peek())return e.skipToEnd(),"comment";if(!e.eol())return t.intag=!0,t.lineTag=!0,t.inbraces=0,t.inbrackets=0,"tag"}e.next()}r=new RegExp("(("+r.join(")|(")+"))\\b"),a=new RegExp("(("+a.join(")|(")+"))\\b");var l={name:"jinja2",startState:function(){return{tokenize:c,inbrackets:0,inbraces:0}},token:function(e,t){var n=t.tokenize(e,t);return e.eol()&&t.lineTag&&!t.instring&&0==t.inbraces&&0==t.inbrackets&&(t.intag=!1,t.lineTag=!1),n},languageData:{commentTokens:{block:{open:"{#",close:"#}",line:"##"}}}}},68297:function(e,t,n){n.d(t,{o:function(){return i}});n(79243),n(66385),n(13448),n(36016),n(64646),n(98185),n(7760),n(29276);var r=new RegExp("\\b(("+["true","false","on","off","yes","no"].join(")|(")+"))$","i"),i={name:"yaml",token:function(e,t){var n=e.peek(),i=t.escaped;if(t.escaped=!1,"#"==n&&(0==e.pos||/\s/.test(e.string.charAt(e.pos-1))))return e.skipToEnd(),"comment";if(e.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(t.literal&&e.indentation()>t.keyCol)return e.skipToEnd(),"string";if(t.literal&&(t.literal=!1),e.sol()){if(t.keyCol=0,t.pair=!1,t.pairStart=!1,e.match("---"))return"def";if(e.match("..."))return"def";if(e.match(/^\s*-\s+/))return"meta"}if(e.match(/^(\{|\}|\[|\])/))return"{"==n?t.inlinePairs++:"}"==n?t.inlinePairs--:"["==n?t.inlineList++:t.inlineList--,"meta";if(t.inlineList>0&&!i&&","==n)return e.next(),"meta";if(t.inlinePairs>0&&!i&&","==n)return t.keyCol=0,t.pair=!1,t.pairStart=!1,e.next(),"meta";if(t.pairStart){if(e.match(/^\s*(\||\>)\s*/))return t.literal=!0,"meta";if(e.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable";if(0==t.inlinePairs&&e.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(t.inlinePairs>0&&e.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(e.match(r))return"keyword"}return!t.pair&&e.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(t.pair=!0,t.keyCol=e.indentation(),"atom"):t.pair&&e.match(/^:\s*/)?(t.pairStart=!0,"meta"):(t.pairStart=!1,t.escaped="\\"==n,e.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},languageData:{commentTokens:{line:"#"}}}},42661:function(e,t,n){var r=n(22858).A,i=n(33994).A;n.a(e,function(){var e=r(i().mark((function e(r,o){var a,s,c,l,u,f,h,d,p,m,v,g,y,b,x,k,w,A,C,S,I,L,M,E,O,R,F,D,T,P,W,q,N,z,j,B,U,Z,_,$,H,K,J,V,Q,X,Y,G,ee,te,ne,re,ie,oe,ae,se,ce,le,ue,fe,he,de,pe,me,ve,ge,ye,be,xe,ke,we,Ae,Ce,Se,Ie,Le,Me;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Ie=function(e,t){var n=t.from,r=t.to,i=e.state.doc.lineAt(n),o=e.state.doc.lineAt(r).to,a=Math.max(i.from,n-Ce),s=Math.min(o,r+Ce),c=e.state.sliceDoc(a,s);if(a!=i.from)for(var l=0;l<Ce;l++)if(!Se.test(c[l+1])&&Se.test(c[l])){c=c.slice(l);break}if(s!=o)for(var u=c.length-1;u>c.length-Ce;u--)if(!Se.test(c[u-1])&&Se.test(c[u])){c=c.slice(0,u);break}return d.Lz.announce.of("".concat(e.state.phrase("current match"),". ").concat(c," ").concat(e.state.phrase("on line")," ").concat(i.number,"."))},Ae=function(e,t){return e.state.phrase(t)},ye=function(e){var t=ge(e);t&&t==e.root.activeElement&&t.select()},ge=function(e){var t=(0,d.ld)(e,me);return t&&t.dom.querySelector("[main-field]")},ve=function(e,t){var n,r,i,o,a,s=e.selection.main,c=s.empty||s.to>s.from+100?"":e.sliceDoc(s.from,s.to);if(t&&!c)return t;var l=e.facet(_);return new $({search:(null!==(n=null==t?void 0:t.literal)&&void 0!==n?n:l.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null==t?void 0:t.caseSensitive)&&void 0!==r?r:l.caseSensitive,literal:null!==(i=null==t?void 0:t.literal)&&void 0!==i?i:l.literal,regexp:null!==(o=null==t?void 0:t.regexp)&&void 0!==o?o:l.regexp,wholeWord:null!==(a=null==t?void 0:t.wholeWord)&&void 0!==a?a:l.wholeWord})},me=function(e){return e.state.facet(_).createPanel(e)},ce=function(e){return function(t){var n=t.state.field(re,!1);return n&&n.query.spec.valid?e(t,n):be(t)}},G=function(e){return function(t,n,r){return!r[0].length||(e(X(r.input,r.index))!=p.Je.Word||e(Y(r.input,r.index))!=p.Je.Word)&&(e(Y(r.input,r.index+r[0].length))!=p.Je.Word||e(X(r.input,r.index+r[0].length))!=p.Je.Word)}},Y=function(e,t){return e.slice(t,(0,p.zK)(e,t))},X=function(e,t){return e.slice((0,p.zK)(e,t,!1),t)},Q=function(e,t,n,r){return new k(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?G(t.charCategorizer(t.selection.main.head)):void 0},n,r)},J=function(e,t){return function(n,r,i,o){return(o>n||o+i.length<r)&&(o=Math.max(0,n-2),i=e.sliceString(o,Math.min(e.length,r+2))),!(t(X(i,n-o))==p.Je.Word&&t(Y(i,n-o))==p.Je.Word||t(Y(i,r-o))==p.Je.Word&&t(X(i,r-o))==p.Je.Word)}},K=function(e,t,n,r){return new y(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:function(e){return e.toLowerCase()},e.wholeWord?J(t.doc,t.charCategorizer(t.selection.main.head)):void 0)},U=function(e,t){for(var n,r=e.selection,i=r.main,o=r.ranges,a=e.wordAt(i.head),s=a&&a.from==i.from&&a.to==i.to,c=function(n,r){if(r.next(),!r.done){if(n&&o.some((function(e){return e.from==r.value.from})))return l=n,u=r,0;if(s){var i=e.wordAt(r.value.from);if(!i||i.from!=r.value.from||i.to!=r.value.to)return l=n,u=r,0}return{v:r.value}}if(n)return{v:null};r=new y(e.doc,t,0,Math.max(0,o[o.length-1].from-1)),l=n=!0,u=r},l=!1,u=new y(e.doc,t,o[o.length-1].to);;)if(0!==(n=c(l,u))&&n)return n.v},N=function(e,t,n,r){return e(t.sliceDoc(n,n+1))==p.Je.Word&&e(t.sliceDoc(r-1,r))==p.Je.Word},q=function(e,t,n,r){return!(0!=n&&e(t.sliceDoc(n-1,n))==p.Je.Word||r!=t.doc.length&&e(t.sliceDoc(r,r+1))==p.Je.Word)},T=function(e){var t=[j,z];return e&&t.push(D.of(e)),t},L=function(e){var t=String(e.state.doc.lineAt(e.state.selection.main.head).number),n=(0,m.A)("input",{class:"cm-textfield",name:"line",value:t});function r(){var t=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(t){var r=e.state,i=r.doc.lineAt(r.selection.main.head),o=(0,u.A)(t,5),a=o[1],s=o[2],c=o[3],l=o[4],f=c?+c.slice(1):0,h=s?+s:i.number;if(s&&l){var m=h/100;a&&(m=m*("-"==a?-1:1)+i.number/r.doc.lines),h=Math.round(r.doc.lines*m)}else s&&a&&(h=h*("-"==a?-1:1)+i.number);var v=r.doc.line(Math.max(1,Math.min(r.doc.lines,h))),g=p.OF.cursor(v.from+Math.max(0,Math.min(f,v.length)));e.dispatch({effects:[M.of(!1),d.Lz.scrollIntoView(g.from,{y:"center"})],selection:g}),e.focus()}}return{dom:(0,m.A)("form",{class:"cm-gotoLine",onkeydown:function(t){27==t.keyCode?(t.preventDefault(),e.dispatch({effects:M.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),r())},onsubmit:function(e){e.preventDefault(),r()}},(0,m.A)("label",e.state.phrase("Go to line"),": ",n)," ",(0,m.A)("button",{class:"cm-button",type:"submit"},e.state.phrase("go")))}},I=function(e,t){if(t>=e.length)return t;for(var n,r=e.lineAt(t);t<r.to&&(n=r.text.charCodeAt(t-r.from))>=56320&&n<57344;)t++;return t},S=function(e){try{return new RegExp(e,x),!0}catch(t){return!1}},n.d(t,{Eo:function(){return ke},gN:function(){return T}}),a=n(41981),s=n(62193),c=n(2816),l=n(64782),u=n(658),f=n(71008),h=n(35806),n(42942),n(48062),n(67336),n(81027),n(34456),n(95737),n(97741),n(89655),n(18193),n(97099),n(32179),n(39790),n(66385),n(13448),n(36016),n(64646),n(98185),n(7760),n(99019),n(29276),n(58750),n(43037),n(20529),n(15129),n(253),n(16891),n(4525),n(96858),d=n(11626),p=n(71070),m=n(20714),!(v=r([d])).then){e.next=71;break}return e.next=67,v;case 67:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=72;break;case 71:e.t0=v;case 72:d=e.t0[0],g="function"==typeof String.prototype.normalize?function(e){return e.normalize("NFKD")}:function(e){return e},y=function(){return(0,h.A)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;(0,f.A)(this,e),this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(r,i),this.bufferStart=r,this.normalize=o?function(e){return o(g(e))}:g,this.query=this.normalize(n)}),[{key:"peek",value:function(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,p.vS)(this.buffer,this.bufferPos)}},{key:"next",value:function(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}},{key:"nextOverlapping",value:function(){for(;;){var e=this.peek();if(e<0)return this.done=!0,this;var t=(0,p.MK)(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=(0,p.Fh)(e);for(var r=this.normalize(t),i=0,o=n;;i++){var a=r.charCodeAt(i),s=this.match(a,o,this.bufferPos+this.bufferStart);if(i==r.length-1){if(s)return this.value=s,this;break}o==n&&i<t.length&&t.charCodeAt(i)==a&&o++}}}},{key:"match",value:function(e,t,n){for(var r=null,i=0;i<this.matches.length;i+=2){var o=this.matches[i],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?r={from:this.matches[i+1],to:n}:(this.matches[i]++,a=!0)),a||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?r={from:t,to:n}:this.matches.push(1,t)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}])}(),"undefined"!=typeof Symbol&&(y.prototype[Symbol.iterator]=function(){return this}),b={from:-1,to:-1,match:/.*/.exec("")},x="gm"+(null==/x/.unicode?"":"u"),k=function(){return(0,h.A)((function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length;if((0,f.A)(this,e),this.text=t,this.to=o,this.curLine="",this.done=!1,this.value=b,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new C(t,n,r,i,o);this.re=new RegExp(n,x+((null==r?void 0:r.ignoreCase)?"i":"")),this.test=null==r?void 0:r.test,this.iter=t.iter();var a=t.lineAt(i);this.curLineStart=a.from,this.matchPos=I(t,i),this.getLine(this.curLineStart)}),[{key:"getLine",value:function(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}},{key:"nextLine",value:function(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}},{key:"next",value:function(){for(var e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;var t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){var n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=I(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}])}(),w=new WeakMap,A=function(){function e(t,n){(0,f.A)(this,e),this.from=t,this.text=n}return(0,h.A)(e,[{key:"to",get:function(){return this.from+this.text.length}}],[{key:"get",value:function(t,n,r){var i=w.get(t);if(!i||i.from>=r||i.to<=n){var o=new e(n,t.sliceString(n,r));return w.set(t,o),o}if(i.from==n&&i.to==r)return i;var a=i.text,s=i.from;return s>n&&(a=t.sliceString(n,s)+a,s=n),i.to<r&&(a+=t.sliceString(i.to,r)),w.set(t,new e(s,a)),new e(n,a.slice(n-s,r-s))}}])}(),C=function(){return(0,h.A)((function e(t,n,r,i,o){(0,f.A)(this,e),this.text=t,this.to=o,this.done=!1,this.value=b,this.matchPos=I(t,i),this.re=new RegExp(n,x+((null==r?void 0:r.ignoreCase)?"i":"")),this.test=null==r?void 0:r.test,this.flat=A.get(t,i,this.chunkEnd(i+5e3))}),[{key:"chunkEnd",value:function(e){return e>=this.to?this.to:this.text.lineAt(e).to}},{key:"next",value:function(){for(;;){var e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){var n=this.flat.from+t.index,r=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this.matchPos=I(this.text,r+(n==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=A.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}])}(),"undefined"!=typeof Symbol&&(k.prototype[Symbol.iterator]=C.prototype[Symbol.iterator]=function(){return this}),M=p.Pe.define(),E=p.sU.define({create:function(){return!0},update:function(e,t){var n,r=(0,l.A)(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.is(M)&&(e=i.value)}}catch(o){r.e(o)}finally{r.f()}return e},provide:function(e){return d.S7.from(e,(function(e){return e?L:null}))}}),O=function(e){var t=(0,d.ld)(e,L);if(!t){var n=[M.of(!0)];null==e.state.field(E,!1)&&n.push(p.Pe.appendConfig.of([E,R])),e.dispatch({effects:n}),t=(0,d.ld)(e,L)}return t&&t.dom.querySelector("input").select(),!0},R=d.Lz.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),F={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},D=p.sj.define({combine:function(e){return(0,p.QR)(e,F,{highlightWordAroundCursor:function(e,t){return e||t},minSelectionLength:Math.min,maxMatches:Math.min})}}),P=d.NZ.mark({class:"cm-selectionMatch"}),W=d.NZ.mark({class:"cm-selectionMatch cm-selectionMatch-main"}),z=d.Z9.fromClass(function(){return(0,h.A)((function e(t){(0,f.A)(this,e),this.decorations=this.getDeco(t)}),[{key:"update",value:function(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var t=e.state.facet(D),n=e.state,r=n.selection;if(r.ranges.length>1)return d.NZ.none;var i,o=r.main,a=null;if(o.empty){if(!t.highlightWordAroundCursor)return d.NZ.none;var s=n.wordAt(o.head);if(!s)return d.NZ.none;a=n.charCategorizer(o.head),i=n.sliceDoc(s.from,s.to)}else{var c=o.to-o.from;if(c<t.minSelectionLength||c>200)return d.NZ.none;if(t.wholeWords){if(i=n.sliceDoc(o.from,o.to),a=n.charCategorizer(o.head),!q(a,n,o.from,o.to)||!N(a,n,o.from,o.to))return d.NZ.none}else if(!(i=n.sliceDoc(o.from,o.to)))return d.NZ.none}var u,f=[],h=(0,l.A)(e.visibleRanges);try{for(h.s();!(u=h.n()).done;)for(var p=u.value,m=new y(n.doc,i,p.from,p.to);!m.next().done;){var v=m.value,g=v.from,b=v.to;if((!a||q(a,n,g,b))&&(o.empty&&g<=o.from&&b>=o.to?f.push(W.range(g,b)):(g>=o.to||b<=o.from)&&f.push(P.range(g,b)),f.length>t.maxMatches))return d.NZ.none}}catch(x){h.e(x)}finally{h.f()}return d.NZ.set(f)}}])}(),{decorations:function(e){return e.decorations}}),j=d.Lz.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),B=function(e){var t=e.state,n=e.dispatch,r=t.selection,i=p.OF.create(r.ranges.map((function(e){return t.wordAt(e.head)||p.OF.cursor(e.head)})),r.mainIndex);return!i.eq(r)&&(n(t.update({selection:i})),!0)},Z=function(e){var t=e.state,n=e.dispatch,r=t.selection.ranges;if(r.some((function(e){return e.from===e.to})))return B({state:t,dispatch:n});var i=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some((function(e){return t.sliceDoc(e.from,e.to)!=i})))return!1;var o=U(t,i);return!!o&&(n(t.update({selection:t.selection.addRange(p.OF.range(o.from,o.to),!1),effects:d.Lz.scrollIntoView(o.to)})),!0)},_=p.sj.define({combine:function(e){return(0,p.QR)(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:function(e){return new we(e)},scrollToMatch:function(e){return d.Lz.scrollIntoView(e)}})}}),$=function(){return(0,h.A)((function e(t){(0,f.A)(this,e),this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||S(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}),[{key:"unquote",value:function(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"}))}},{key:"eq",value:function(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}},{key:"create",value:function(){return this.regexp?new ee(this):new V(this)}},{key:"getCursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=e.doc?e:p.$t.create({doc:e});return null==n&&(n=r.doc.length),this.regexp?Q(this,r,t,n):K(this,r,t,n)}}])}(),V=function(e){function t(e){return(0,f.A)(this,t),(0,s.A)(this,t,[e])}return(0,c.A)(t,e),(0,h.A)(t,[{key:"nextMatch",value:function(e,t,n){var r=K(this.spec,e,n,e.doc.length).nextOverlapping();return r.done&&(r=K(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}},{key:"prevMatchInRange",value:function(e,t,n){for(var r=n;;){for(var i=Math.max(t,r-1e4-this.spec.unquoted.length),o=K(this.spec,e,i,r),a=null;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(i==t)return null;r-=1e4}}},{key:"prevMatch",value:function(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}},{key:"getReplacement",value:function(e){return this.spec.unquote(this.spec.replace)}},{key:"matchAll",value:function(e,t){for(var n=K(this.spec,e,0,e.doc.length),r=[];!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}},{key:"highlight",value:function(e,t,n,r){for(var i=K(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));!i.next().done;)r(i.value.from,i.value.to)}}])}(H=(0,h.A)((function e(t){(0,f.A)(this,e),this.spec=t}))),ee=function(e){function t(){return(0,f.A)(this,t),(0,s.A)(this,t,arguments)}return(0,c.A)(t,e),(0,h.A)(t,[{key:"nextMatch",value:function(e,t,n){var r=Q(this.spec,e,n,e.doc.length).next();return r.done&&(r=Q(this.spec,e,0,t).next()),r.done?null:r.value}},{key:"prevMatchInRange",value:function(e,t,n){for(var r=1;;r++){for(var i=Math.max(t,n-1e4*r),o=Q(this.spec,e,i,n),a=null;!o.next().done;)a=o.value;if(a&&(i==t||a.from>i+10))return a;if(i==t)return null}}},{key:"prevMatch",value:function(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}},{key:"getReplacement",value:function(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(function(t,n){return"$"==n?"$":"&"==n?e.match[0]:"0"!=n&&+n<e.match.length?e.match[n]:t}))}},{key:"matchAll",value:function(e,t){for(var n=Q(this.spec,e,0,e.doc.length),r=[];!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}},{key:"highlight",value:function(e,t,n,r){for(var i=Q(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));!i.next().done;)r(i.value.from,i.value.to)}}])}(H),te=p.Pe.define(),ne=p.Pe.define(),re=p.sU.define({create:function(e){return new ie(ve(e).create(),null)},update:function(e,t){var n,r=(0,l.A)(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.is(te)?e=new ie(i.value.create(),e.panel):i.is(ne)&&(e=new ie(e.query,i.value?me:null))}}catch(o){r.e(o)}finally{r.f()}return e},provide:function(e){return d.S7.from(e,(function(e){return e.panel}))}}),ie=(0,h.A)((function e(t,n){(0,f.A)(this,e),this.query=t,this.panel=n})),oe=d.NZ.mark({class:"cm-searchMatch"}),ae=d.NZ.mark({class:"cm-searchMatch cm-searchMatch-selected"}),se=d.Z9.fromClass(function(){return(0,h.A)((function e(t){(0,f.A)(this,e),this.view=t,this.decorations=this.highlight(t.state.field(re))}),[{key:"update",value:function(e){var t=e.state.field(re);(t!=e.startState.field(re)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}},{key:"highlight",value:function(e){var t=e.query;if(!e.panel||!t.spec.valid)return d.NZ.none;for(var n=this.view,r=new p.vB,i=0,o=n.visibleRanges,a=o.length;i<a;i++){for(var s=o[i],c=s.from,l=s.to;i<a-1&&l>o[i+1].from-500;)l=o[++i].to;t.highlight(n.state,c,l,(function(e,t){var i=n.state.selection.ranges.some((function(n){return n.from==e&&n.to==t}));r.add(e,t,i?ae:oe)}))}return r.finish()}}])}(),{decorations:function(e){return e.decorations}}),le=ce((function(e,t){var n=t.query,r=e.state.selection.main.to,i=n.nextMatch(e.state,r,r);if(!i)return!1;var o=p.OF.single(i.from,i.to),a=e.state.facet(_);return e.dispatch({selection:o,effects:[Ie(e,i),a.scrollToMatch(o.main,e)],userEvent:"select.search"}),ye(e),!0})),ue=ce((function(e,t){var n=t.query,r=e.state,i=r.selection.main.from,o=n.prevMatch(r,i,i);if(!o)return!1;var a=p.OF.single(o.from,o.to),s=e.state.facet(_);return e.dispatch({selection:a,effects:[Ie(e,o),s.scrollToMatch(a.main,e)],userEvent:"select.search"}),ye(e),!0})),fe=ce((function(e,t){var n=t.query.matchAll(e.state,1e3);return!(!n||!n.length)&&(e.dispatch({selection:p.OF.create(n.map((function(e){return p.OF.range(e.from,e.to)}))),userEvent:"select.search.matches"}),!0)})),he=function(e){var t=e.state,n=e.dispatch,r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;for(var i=r.main,o=i.from,a=i.to,s=[],c=0,l=new y(t.doc,t.sliceDoc(o,a));!l.next().done;){if(s.length>1e3)return!1;l.value.from==o&&(c=s.length),s.push(p.OF.range(l.value.from,l.value.to))}return n(t.update({selection:p.OF.create(s,c),userEvent:"select.search.matches"})),!0},de=ce((function(e,t){var n=t.query,r=e.state,i=r.selection.main,o=i.from,a=i.to;if(r.readOnly)return!1;var s=n.nextMatch(r,o,o);if(!s)return!1;var c,l,u=[],f=[];if(s.from==o&&s.to==a&&(l=r.toText(n.getReplacement(s)),u.push({from:s.from,to:s.to,insert:l}),s=n.nextMatch(r,s.from,s.to),f.push(d.Lz.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(o).number)+"."))),s){var h=0==u.length||u[0].from>=s.to?0:s.to-s.from-l.length;c=p.OF.single(s.from-h,s.to-h),f.push(Ie(e,s)),f.push(r.facet(_).scrollToMatch(c.main,e))}return e.dispatch({changes:u,selection:c,effects:f,userEvent:"input.replace"}),!0})),pe=ce((function(e,t){var n=t.query;if(e.state.readOnly)return!1;var r=n.matchAll(e.state,1e9).map((function(e){return{from:e.from,to:e.to,insert:n.getReplacement(e)}}));if(!r.length)return!1;var i=e.state.phrase("replaced $ matches",r.length)+".";return e.dispatch({changes:r,effects:d.Lz.announce.of(i),userEvent:"input.replace.all"}),!0})),ke=[{key:"Mod-f",run:be=function(e){var t=e.state.field(re,!1);if(t&&t.panel){var n=ge(e);if(n&&n!=e.root.activeElement){var r=ve(e.state,t.query.spec);r.valid&&e.dispatch({effects:te.of(r)}),n.focus(),n.select()}}else e.dispatch({effects:[ne.of(!0),t?te.of(ve(e.state,t.query.spec)):p.Pe.appendConfig.of(Me)]});return!0},scope:"editor search-panel"},{key:"F3",run:le,shift:ue,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:le,shift:ue,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:xe=function(e){var t=e.state.field(re,!1);if(!t||!t.panel)return!1;var n=(0,d.ld)(e,me);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:ne.of(!1)}),!0},scope:"editor search-panel"},{key:"Mod-Shift-l",run:he},{key:"Mod-Alt-g",run:O},{key:"Mod-d",run:Z,preventDefault:!0}],we=function(){return(0,h.A)((function e(t){var n=this;(0,f.A)(this,e),this.view=t;var r=this.query=t.state.field(re).query.spec;function i(e,t,n){return(0,m.A)("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=(0,m.A)("input",{value:r.search,placeholder:Ae(t,"Find"),"aria-label":Ae(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=(0,m.A)("input",{value:r.replace,placeholder:Ae(t,"Replace"),"aria-label":Ae(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=(0,m.A)("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=(0,m.A)("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=(0,m.A)("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit}),this.dom=(0,m.A)("div",{onkeydown:function(e){return n.keydown(e)},class:"cm-search"},[this.searchField,i("next",(function(){return le(t)}),[Ae(t,"next")]),i("prev",(function(){return ue(t)}),[Ae(t,"previous")]),i("select",(function(){return fe(t)}),[Ae(t,"all")]),(0,m.A)("label",null,[this.caseField,Ae(t,"match case")]),(0,m.A)("label",null,[this.reField,Ae(t,"regexp")]),(0,m.A)("label",null,[this.wordField,Ae(t,"by word")])].concat((0,a.A)(t.state.readOnly?[]:[(0,m.A)("br"),this.replaceField,i("replace",(function(){return de(t)}),[Ae(t,"replace")]),i("replaceAll",(function(){return pe(t)}),[Ae(t,"replace all")])]),[(0,m.A)("button",{name:"close",onclick:function(){return xe(t)},"aria-label":Ae(t,"close"),type:"button"},["×"])]))}),[{key:"commit",value:function(){var e=new $({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:te.of(e)}))}},{key:"keydown",value:function(e){(0,d.TS)(this.view,e,"search-panel")?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?ue:le)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),de(this.view))}},{key:"update",value:function(e){var t,n=(0,l.A)(e.transactions);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=(0,l.A)(i.effects);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.is(te)&&!a.value.eq(this.query)&&this.setQuery(a.value)}}catch(s){o.e(s)}finally{o.f()}}}catch(s){n.e(s)}finally{n.f()}}},{key:"setQuery",value:function(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}},{key:"mount",value:function(){this.searchField.select()}},{key:"pos",get:function(){return 80}},{key:"top",get:function(){return this.view.state.facet(_).top}}])}(),Ce=30,Se=/[\s\.,:;?!]/,Le=d.Lz.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Me=[re,p.Nb.low(se),Le],o(),e.next=126;break;case 123:e.prev=123,e.t2=e.catch(0),o(e.t2);case 126:case"end":return e.stop()}}),e,null,[[0,123]])})));return function(t,n){return e.apply(this,arguments)}}())},68733:function(e,t,n){var r=n(22858).A,i=n(33994).A;n.a(e,function(){var e=r(i().mark((function e(r,o){var a,s,c,l,u,f,h,d,p,m,v,g,y,b,x,k,w,A;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[g.of(e),b(e.colors),f.Z9.fromClass(w,{decorations:function(e){return e.decorations}})]},k=function(e,t,n,r,i){var o=e.level,a=e.active;if(i=null!=i?i:r,n&&0===o)return[];var s=n?1:0,c=[];if(void 0!==a){var l=a-s-1;l>0&&c.push(x("--indent-marker-bg-color",r,t,s,l)),c.push(x("--indent-marker-active-bg-color",i,t,a-1,1)),a!==o&&c.push(x("--indent-marker-bg-color",r,t,a,o-a))}else c.push(x("--indent-marker-bg-color",r,t,s,o-s));return c.join(",")},x=function(e,t,n,r,i){var o="repeating-linear-gradient(to right, var(".concat(e,") 0 ").concat(t,"px, transparent ").concat(t,"px ").concat(n,"ch)");return"".concat(o," ").concat(r*n,".5ch/calc(").concat(n*i,"ch - 1px) no-repeat")},b=function(e){var t={light:"#F0F1F2",dark:"#2B3245",activeLight:"#E4E5E6",activeDark:"#3C445C"},n=t;return e&&(n=Object.assign(Object.assign({},t),e)),f.Lz.baseTheme({"&light":{"--indent-marker-bg-color":n.light,"--indent-marker-active-bg-color":n.activeLight},"&dark":{"--indent-marker-bg-color":n.dark,"--indent-marker-active-bg-color":n.activeDark},".cm-line":{position:"relative"},".cm-indent-markers::before":{content:'""',position:"absolute",top:0,left:"2px",right:0,bottom:0,background:"var(--indent-markers)",pointerEvents:"none",zIndex:"-1"}})},v=function(e,t){var n=0;e:for(var r=0;r<e.length;r++)switch(e[r]){case" ":case" ":n+=1;continue e;case"\t":n+=t-n%t;continue e;case"\r":continue e;default:break e}return n},m=function(e){var t=e.selection.main.head;return e.doc.lineAt(t)},p=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.state,r=new Set,i=(0,c.A)(e.visibleRanges);try{for(i.s();!(t=i.n()).done;)for(var o=t.value,a=o.from,s=o.to,l=a;l<=s;){var u=n.doc.lineAt(l);r.has(u)||r.add(u),l=u.to+1}}catch(f){i.e(f)}finally{i.f()}return r},n.d(t,{h:function(){return A}}),a=n(71008),s=n(35806),c=n(64782),n(71499),n(81027),n(95737),n(79243),n(97741),n(89655),n(33822),n(26098),n(39790),n(74268),n(24545),n(51855),n(82130),n(31743),n(22328),n(4959),n(62435),n(99019),n(79641),n(16891),n(96858),l=n(9283),u=n(71070),f=n(11626),!(h=r([f,l])).then){e.next=44;break}return e.next=40,h;case 40:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=45;break;case 44:e.t0=h;case 45:d=e.t0,f=d[0],l=d[1],g=u.sj.define({combine:function(e){return(0,u.QR)(e,{highlightActiveBlock:!0,hideFirstIndent:!1,markerType:"fullScope",thickness:1})}}),y=function(){return(0,s.A)((function e(t,n,r,i){(0,a.A)(this,e),this.lines=t,this.state=n,this.map=new Map,this.unitWidth=r,this.markerType=i;var o,s=(0,c.A)(this.lines);try{for(s.s();!(o=s.n()).done;){var l=o.value;this.add(l)}}catch(u){s.e(u)}finally{s.f()}this.state.facet(g).highlightActiveBlock&&this.findAndSetActiveLines()}),[{key:"has",value:function(e){return this.map.has("number"==typeof e?e:e.number)}},{key:"get",value:function(e){var t=this.map.get("number"==typeof e?e:e.number);if(!t)throw new Error("Line not found in indentation map");return t}},{key:"set",value:function(e,t,n){var r=!e.text.trim().length,i={line:e,col:t,level:n,empty:r};return this.map.set(i.line.number,i),i}},{key:"add",value:function(e){if(this.has(e))return this.get(e);if(!e.length||!e.text.trim().length){if(1===e.number)return this.set(e,0,0);if(e.number===this.state.doc.lines){var t=this.closestNonEmpty(e,-1);return this.set(e,0,t.level)}var n=this.closestNonEmpty(e,-1),r=this.closestNonEmpty(e,1);return n.level>=r.level&&"codeOnly"!==this.markerType?this.set(e,0,n.level):n.empty&&0===n.level&&0!==r.level?this.set(e,0,0):r.level>n.level?this.set(e,0,n.level+1):this.set(e,0,r.level)}var i=v(e.text,this.state.tabSize),o=Math.floor(i/this.unitWidth);return this.set(e,i,o)}},{key:"closestNonEmpty",value:function(e,t){for(var n=e.number+t;-1===t?n>=1:n<=this.state.doc.lines;){if(this.has(n)){var r=this.get(n);if(!r.empty)return r}var i=this.state.doc.line(n);if(i.text.trim().length){var o=v(i.text,this.state.tabSize),a=Math.floor(o/this.unitWidth);return this.set(i,o,a)}n+=t}var s=this.state.doc.line(-1===t?1:this.state.doc.lines);return this.set(s,0,0)}},{key:"findAndSetActiveLines",value:function(){var e=m(this.state);if(this.has(e)){var t=this.get(e);if(this.has(t.line.number+1)){var n=this.get(t.line.number+1);n.level>t.level&&(t=n)}if(this.has(t.line.number-1)){var r=this.get(t.line.number-1);r.level>t.level&&(t=r)}if(0!==t.level){var i,o;for(t.active=t.level,i=t.line.number;i>1;i--)if(this.has(i-1)){var a=this.get(i-1);if(a.level<t.level)break;a.active=t.level}for(o=t.line.number;o<this.state.doc.lines;o++)if(this.has(o+1)){var s=this.get(o+1);if(s.level<t.level)break;s.active=t.level}}}}}])}(),w=function(){return(0,s.A)((function e(t){(0,a.A)(this,e),this.view=t,this.unitWidth=(0,l.tp)(t.state),this.currentLineNumber=m(t.state).number,this.generate(t.state)}),[{key:"update",value:function(e){var t=(0,l.tp)(e.state),n=t!==this.unitWidth;n&&(this.unitWidth=t);var r=m(e.state).number,i=r!==this.currentLineNumber;this.currentLineNumber=r;var o=e.state.facet(g).highlightActiveBlock&&i;(e.docChanged||e.viewportChanged||n||o)&&this.generate(e.state)}},{key:"generate",value:function(e){var t,n=new u.vB,r=p(this.view,e),i=e.facet(g),o=i.hideFirstIndent,a=i.markerType,s=i.thickness,l=i.activeThickness,h=new y(r,e,this.unitWidth,a),d=(0,c.A)(r);try{for(d.s();!(t=d.n()).done;){var m=t.value,v=h.get(m.number);if(null==v?void 0:v.level){var b=k(v,this.unitWidth,o,s,l);n.add(m.from,m.from,f.NZ.line({class:"cm-indent-markers",attributes:{style:"--indent-markers: ".concat(b)}}))}}}catch(x){d.e(x)}finally{d.f()}this.decorations=n.finish()}}])}(),o(),e.next=57;break;case 54:e.prev=54,e.t2=e.catch(0),o(e.t2);case 57:case"end":return e.stop()}}),e,null,[[0,54]])})));return function(t,n){return e.apply(this,arguments)}}())},20714:function(e,t,n){n.d(t,{A:function(){return i}});var r=n(91001);n(71499);function i(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==(0,r.A)(n)&&null==n.nodeType&&!Array.isArray(n)){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var a=n[i];"string"==typeof a?e.setAttribute(i,a):null!=a&&(e[i]=a)}t++}for(;t<arguments.length;t++)o(e,arguments[t]);return e}function o(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)o(e,t[n])}}}}]);
//# sourceMappingURL=19370.JC25JUf73y4.js.map