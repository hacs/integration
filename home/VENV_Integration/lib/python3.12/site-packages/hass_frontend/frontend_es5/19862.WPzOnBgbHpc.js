"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[19862,13292],{65459:function(e,t,n){n.d(t,{t:function(){return a}});var r=n(213),a=function(e){return(0,r.m)(e.entity_id)}},42496:function(e,t,n){n.d(t,{$:function(){return r}});var r=function(e,t){return a(e.attributes,t)},a=function(e,t){return!!(e.supported_features&t)}},13292:function(e,t,n){n.r(t);var r,a,i,o,s=n(14842),c=n(64599),l=n(35806),u=n(71008),d=n(62193),h=n(2816),f=n(27927),p=(n(81027),n(15112)),g=n(29818),v=n(85323),y=n(34897),m=(n(28066),n(88400),{info:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z",warning:"M12,2L1,21H23M12,6L19.53,19H4.47M11,10V14H13V10M11,16V18H13V16",error:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z",success:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2,4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"});(0,f.A)([(0,g.EM)("ha-alert")],(function(e,t){var n=function(t){function n(){var t;(0,u.A)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=(0,d.A)(this,n,[].concat(a)),e(t),t}return(0,h.A)(n,t),(0,l.A)(n)}(t);return{F:n,d:[{kind:"field",decorators:[(0,g.MZ)()],key:"title",value:function(){return""}},{kind:"field",decorators:[(0,g.MZ)({attribute:"alert-type"})],key:"alertType",value:function(){return"info"}},{kind:"field",decorators:[(0,g.MZ)({type:Boolean})],key:"dismissable",value:function(){return!1}},{kind:"method",key:"render",value:function(){return(0,p.qy)(r||(r=(0,c.A)([' <div class="issue-type ','" role="alert"> <div class="icon ','"> <slot name="icon"> <ha-svg-icon .path="','"></ha-svg-icon> </slot> </div> <div class="content"> <div class="main-content"> ',' <slot></slot> </div> <div class="action"> <slot name="action"> '," </slot> </div> </div> </div> "])),(0,v.H)((0,s.A)({},this.alertType,!0)),this.title?"":"no-title",m[this.alertType],this.title?(0,p.qy)(a||(a=(0,c.A)(['<div class="title">',"</div>"])),this.title):"",this.dismissable?(0,p.qy)(i||(i=(0,c.A)(['<ha-icon-button @click="','" label="Dismiss alert" .path="','"></ha-icon-button>'])),this._dismiss_clicked,"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"):"")}},{kind:"method",key:"_dismiss_clicked",value:function(){(0,y.r)(this,"alert-dismissed-clicked")}},{kind:"field",static:!0,key:"styles",value:function(){return(0,p.AH)(o||(o=(0,c.A)(['.issue-type{position:relative;padding:8px;display:flex}.issue-type::after{position:absolute;top:0;right:0;bottom:0;left:0;opacity:.12;pointer-events:none;content:"";border-radius:4px}.icon{z-index:1}.icon.no-title{align-self:center}.content{display:flex;justify-content:space-between;align-items:center;width:100%;text-align:var(--float-start)}.action{z-index:1;width:min-content;--mdc-theme-primary:var(--primary-text-color)}.main-content{overflow-wrap:anywhere;word-break:break-word;margin-left:8px;margin-right:0;margin-inline-start:8px;margin-inline-end:0}.title{margin-top:2px;font-weight:700}.action ha-icon-button,.action mwc-button{--mdc-theme-primary:var(--primary-text-color);--mdc-icon-button-size:36px}.issue-type.info>.icon{color:var(--info-color)}.issue-type.info::after{background-color:var(--info-color)}.issue-type.warning>.icon{color:var(--warning-color)}.issue-type.warning::after{background-color:var(--warning-color)}.issue-type.error>.icon{color:var(--error-color)}.issue-type.error::after{background-color:var(--error-color)}.issue-type.success>.icon{color:var(--success-color)}.issue-type.success::after{background-color:var(--success-color)}:host ::slotted(ul){margin:0;padding-inline-start:20px}'])))}}]}}),p.WF)},13082:function(e,t,n){var r,a,i,o=n(64599),s=n(35806),c=n(71008),l=n(62193),u=n(2816),d=n(27927),h=(n(81027),n(15112)),f=n(29818);(0,d.A)([(0,f.EM)("ha-card")],(function(e,t){var n=function(t){function n(){var t;(0,c.A)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=(0,l.A)(this,n,[].concat(a)),e(t),t}return(0,u.A)(n,t),(0,s.A)(n)}(t);return{F:n,d:[{kind:"field",decorators:[(0,f.MZ)()],key:"header",value:void 0},{kind:"field",decorators:[(0,f.MZ)({type:Boolean,reflect:!0})],key:"raised",value:function(){return!1}},{kind:"get",static:!0,key:"styles",value:function(){return(0,h.AH)(r||(r=(0,o.A)([":host{background:var(--ha-card-background,var(--card-background-color,#fff));-webkit-backdrop-filter:var(--ha-card-backdrop-filter,none);backdrop-filter:var(--ha-card-backdrop-filter,none);box-shadow:var(--ha-card-box-shadow,none);box-sizing:border-box;border-radius:var(--ha-card-border-radius,12px);border-width:var(--ha-card-border-width,1px);border-style:solid;border-color:var(--ha-card-border-color,var(--divider-color,#e0e0e0));color:var(--primary-text-color);display:block;transition:all .3s ease-out;position:relative}:host([raised]){border:none;box-shadow:var(--ha-card-box-shadow,0px 2px 1px -1px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 1px 3px 0px rgba(0,0,0,.12))}.card-header,:host ::slotted(.card-header){color:var(--ha-card-header-color,--primary-text-color);font-family:var(--ha-card-header-font-family, inherit);font-size:var(--ha-card-header-font-size, 24px);letter-spacing:-.012em;line-height:48px;padding:12px 16px 16px;display:block;margin-block-start:0px;margin-block-end:0px;font-weight:400}:host ::slotted(.card-content:not(:first-child)),slot:not(:first-child)::slotted(.card-content){padding-top:0px;margin-top:-8px}:host ::slotted(.card-content){padding:16px}:host ::slotted(.card-actions){border-top:1px solid var(--divider-color,#e8e8e8);padding:5px 16px}"])))}},{kind:"method",key:"render",value:function(){return(0,h.qy)(a||(a=(0,o.A)([" "," <slot></slot> "])),this.header?(0,h.qy)(i||(i=(0,o.A)(['<h1 class="card-header">',"</h1>"])),this.header):h.s6)}}]}}),h.WF)},24640:function(e,t,n){var r,a,i=n(64599),o=n(35806),s=n(71008),c=n(62193),l=n(2816),u=n(27927),d=(n(81027),n(15112)),h=n(29818);(0,u.A)([(0,h.EM)("ha-settings-row")],(function(e,t){var n=function(t){function n(){var t;(0,s.A)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=(0,c.A)(this,n,[].concat(a)),e(t),t}return(0,l.A)(n,t),(0,o.A)(n)}(t);return{F:n,d:[{kind:"field",decorators:[(0,h.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:function(){return!1}},{kind:"field",decorators:[(0,h.MZ)({type:Boolean,attribute:"three-line"})],key:"threeLine",value:function(){return!1}},{kind:"field",decorators:[(0,h.MZ)({type:Boolean,attribute:"wrap-heading",reflect:!0})],key:"wrapHeading",value:function(){return!1}},{kind:"method",key:"render",value:function(){return(0,d.qy)(r||(r=(0,i.A)([' <div class="prefix-wrap"> <slot name="prefix"></slot> <div class="body" ?two-line="','" ?three-line="','"> <slot name="heading"></slot> <div class="secondary"><slot name="description"></slot></div> </div> </div> <div class="content"><slot></slot></div> '])),!this.threeLine,this.threeLine)}},{kind:"get",static:!0,key:"styles",value:function(){return(0,d.AH)(a||(a=(0,i.A)([":host{display:flex;padding:0 16px;align-content:normal;align-self:auto;align-items:center}.body{padding-top:8px;padding-bottom:8px;padding-left:0;padding-inline-start:0;padding-right:16x;padding-inline-end:16px;overflow:hidden;display:var(--layout-vertical_-_display);flex-direction:var(--layout-vertical_-_flex-direction);justify-content:var(--layout-center-justified_-_justify-content);flex:var(--layout-flex_-_flex);flex-basis:var(--layout-flex_-_flex-basis)}.body[three-line]{min-height:var(--paper-item-body-three-line-min-height,88px)}:host(:not([wrap-heading])) body>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.body>.secondary{display:block;padding-top:4px;font-family:var(\n          --mdc-typography-body2-font-family,\n          var(--mdc-typography-font-family, Roboto, sans-serif)\n        );-webkit-font-smoothing:antialiased;font-size:var(--mdc-typography-body2-font-size, .875rem);font-weight:var(--mdc-typography-body2-font-weight,400);line-height:normal;color:var(--secondary-text-color)}.body[two-line]{min-height:calc(var(--paper-item-body-two-line-min-height,72px) - 16px);flex:1}.content{display:contents}:host(:not([narrow])) .content{display:var(--settings-row-content-display,flex);justify-content:flex-end;flex:1;padding:16px 0}.content ::slotted(*){width:var(--settings-row-content-width)}:host([narrow]){align-items:normal;flex-direction:column;border-top:1px solid var(--divider-color);padding-bottom:8px}::slotted(ha-switch){padding:16px 0}.secondary{white-space:normal}.prefix-wrap{display:var(--settings-row-prefix-display)}:host([narrow]) .prefix-wrap{display:flex;align-items:center}"])))}}]}}),d.WF)},70857:function(e,t,n){var r,a,i,o,s=n(64599),c=n(35806),l=n(71008),u=n(62193),d=n(2816),h=n(27927),f=(n(81027),n(15112)),p=n(29818),g=n(10296),v=n(94872),y=n(65459),m=n(68236);n(20144),n(88400),(0,h.A)([(0,p.EM)("ha-state-icon")],(function(e,t){var n=function(t){function n(){var t;(0,l.A)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=(0,u.A)(this,n,[].concat(a)),e(t),t}return(0,d.A)(n,t),(0,c.A)(n)}(t);return{F:n,d:[{kind:"field",decorators:[(0,p.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,p.MZ)({attribute:!1})],key:"stateObj",value:void 0},{kind:"field",decorators:[(0,p.MZ)({attribute:!1})],key:"stateValue",value:void 0},{kind:"field",decorators:[(0,p.MZ)()],key:"icon",value:void 0},{kind:"method",key:"render",value:function(){var e,t,n=this,o=this.icon||this.stateObj&&(null===(e=this.hass)||void 0===e||null===(e=e.entities[this.stateObj.entity_id])||void 0===e?void 0:e.icon)||(null===(t=this.stateObj)||void 0===t?void 0:t.attributes.icon);if(o)return(0,f.qy)(r||(r=(0,s.A)(['<ha-icon .icon="','"></ha-icon>'])),o);if(!this.stateObj)return f.s6;if(!this.hass)return this._renderFallback();var c=(0,m.fq)(this.hass,this.stateObj,this.stateValue).then((function(e){return e?(0,f.qy)(a||(a=(0,s.A)(['<ha-icon .icon="','"></ha-icon>'])),e):n._renderFallback()}));return(0,f.qy)(i||(i=(0,s.A)(["",""])),(0,g.T)(c))}},{kind:"method",key:"_renderFallback",value:function(){var e=(0,y.t)(this.stateObj);return(0,f.qy)(o||(o=(0,s.A)([' <ha-svg-icon .path="','"></ha-svg-icon> '])),v.n_[e]||v.lW)}}]}}),f.WF)},98041:function(e,t,n){n.d(t,{Al:function(){return s},KY:function(){return o},PN:function(){return u},RM:function(){return y},dG:function(){return h},jm:function(){return d},m7:function(){return _},sR:function(){return f},t1:function(){return l},t2:function(){return g},x:function(){return m},yu:function(){return p}});n(81027),n(50693),n(10507);var r=n(88444),a=n(18409),i=n(46092),o=["bluetooth","dhcp","discovery","hardware","hassio","homekit","integration_discovery","mqtt","ssdp","unignore","usb","zeroconf"],s=["reauth"],c={"HA-Frontend-Base":"".concat(location.protocol,"//").concat(location.host)},l=function(e,t,n){var r;return e.callApi("POST","config/config_entries/flow",{handler:t,show_advanced_options:Boolean(null===(r=e.userData)||void 0===r?void 0:r.showAdvanced),entry_id:n},c)},u=function(e,t){return e.callApi("GET","config/config_entries/flow/".concat(t),void 0,c)},d=function(e,t,n){return e.callApi("POST","config/config_entries/flow/".concat(t),n,c)},h=function(e,t,n){return e.callWS({type:"config_entries/ignore_flow",flow_id:t,title:n})},f=function(e,t){return e.callApi("DELETE","config/config_entries/flow/".concat(t))},p=function(e,t){return e.callApi("GET","config/config_entries/flow_handlers".concat(t?"?type=".concat(t):""))},g=function(e){return e.sendMessagePromise({type:"config_entries/flow/progress"})},v=function(e,t){return e.subscribeEvents((0,a.s)((function(){return g(e).then((function(e){return t.setState(e,!0)}))}),500,!0),"config_entry_discovered")},y=function(e){return(0,r.X)(e,"_configFlowProgress",g,v)},m=function(e,t){return y(e.connection).subscribe(t)},_=function(e,t){return t.context.title_placeholders&&0!==Object.keys(t.context.title_placeholders).length?e("component.".concat(t.handler,".config.flow_title"),t.context.title_placeholders)||("name"in t.context.title_placeholders?t.context.title_placeholders.name:(0,i.p$)(e,t.handler)):(0,i.p$)(e,t.handler)}},30581:function(e,t,n){n.d(t,{W:function(){return b}});var r,a,i,o,s,c,l,u,d,h=n(64599),f=n(33994),p=n(658),g=n(22858),v=(n(42942),n(48062),n(81027),n(95737),n(50693),n(39790),n(66457),n(99019),n(96858),n(15112)),y=n(98041),m=n(46092),_=n(41572),b=function(e,t){return(0,_.g)(e,t,{flowType:"config_flow",loadDevicesAndAreas:!0,createFlow:(b=(0,g.A)((0,f.A)().mark((function e(n,r){var a,i,o;return(0,f.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,y.t1)(n,r,t.entryId),n.loadFragmentTranslation("config"),n.loadBackendTranslation("config",r),n.loadBackendTranslation("selector",r),n.loadBackendTranslation("title",r)]);case 2:return a=e.sent,i=(0,p.A)(a,1),o=i[0],e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return b.apply(this,arguments)}),fetchFlow:(n=(0,g.A)((0,f.A)().mark((function e(t,n){var r;return(0,f.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.PN)(t,n);case 2:return r=e.sent,e.next=5,t.loadFragmentTranslation("config");case 5:return e.next=7,t.loadBackendTranslation("config",r.handler);case 7:return e.next=9,t.loadBackendTranslation("selector",r.handler);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)}),handleFlowStep:y.jm,deleteFlow:y.sR,renderAbortDescription:function(e,t){var n=e.localize("component.".concat(t.translation_domain||t.handler,".config.abort.").concat(t.reason),t.description_placeholders);return n?(0,v.qy)(r||(r=(0,h.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),n):t.reason},renderShowFormStepHeader:function(e,t){return e.localize("component.".concat(t.translation_domain||t.handler,".config.step.").concat(t.step_id,".title"),t.description_placeholders)||e.localize("component.".concat(t.handler,".title"))},renderShowFormStepDescription:function(e,t){var n=e.localize("component.".concat(t.translation_domain||t.handler,".config.step.").concat(t.step_id,".description"),t.description_placeholders);return n?(0,v.qy)(a||(a=(0,h.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),n):""},renderShowFormStepFieldLabel:function(e,t,n,r){var a;if("expandable"===n.type)return e.localize("component.".concat(t.handler,".config.step.").concat(t.step_id,".sections.").concat(n.name,".name"));var i=null!=r&&null!==(a=r.path)&&void 0!==a&&a[0]?"sections.".concat(r.path[0],"."):"";return e.localize("component.".concat(t.handler,".config.step.").concat(t.step_id,".").concat(i,"data.").concat(n.name))||n.name},renderShowFormStepFieldHelper:function(e,t,n,r){var a;if("expandable"===n.type)return e.localize("component.".concat(t.translation_domain||t.handler,".config.step.").concat(t.step_id,".sections.").concat(n.name,".description"));var o=null!=r&&null!==(a=r.path)&&void 0!==a&&a[0]?"sections.".concat(r.path[0],"."):"",s=e.localize("component.".concat(t.translation_domain||t.handler,".config.step.").concat(t.step_id,".").concat(o,"data_description.").concat(n.name),t.description_placeholders);return s?(0,v.qy)(i||(i=(0,h.A)(['<ha-markdown breaks .content="','"></ha-markdown>'])),s):""},renderShowFormStepFieldError:function(e,t,n){return e.localize("component.".concat(t.translation_domain||t.translation_domain||t.handler,".config.error.").concat(n),t.description_placeholders)||n},renderShowFormStepFieldLocalizeValue:function(e,t,n){return e.localize("component.".concat(t.handler,".selector.").concat(n))},renderShowFormStepSubmitButton:function(e,t){return e.localize("component.".concat(t.handler,".config.step.").concat(t.step_id,".submit"))||e.localize("ui.panel.config.integrations.config_flow.".concat(!1===t.last_step?"next":"submit"))},renderExternalStepHeader:function(e,t){return e.localize("component.".concat(t.handler,".config.step.").concat(t.step_id,".title"))||e.localize("ui.panel.config.integrations.config_flow.external_step.open_site")},renderExternalStepDescription:function(e,t){var n=e.localize("component.".concat(t.translation_domain||t.handler,".config.").concat(t.step_id,".description"),t.description_placeholders);return(0,v.qy)(o||(o=(0,h.A)([" <p> "," </p> "," "])),e.localize("ui.panel.config.integrations.config_flow.external_step.description"),n?(0,v.qy)(s||(s=(0,h.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),n):"")},renderCreateEntryDescription:function(e,t){var n=e.localize("component.".concat(t.translation_domain||t.handler,".config.create_entry.").concat(t.description||"default"),t.description_placeholders);return(0,v.qy)(c||(c=(0,h.A)([" "," <p> "," </p> "])),n?(0,v.qy)(l||(l=(0,h.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),n):"",e.localize("ui.panel.config.integrations.config_flow.created_config",{name:t.title}))},renderShowFormProgressHeader:function(e,t){return e.localize("component.".concat(t.handler,".config.step.").concat(t.step_id,".title"))||e.localize("component.".concat(t.handler,".title"))},renderShowFormProgressDescription:function(e,t){var n=e.localize("component.".concat(t.translation_domain||t.handler,".config.progress.").concat(t.progress_action),t.description_placeholders);return n?(0,v.qy)(u||(u=(0,h.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),n):""},renderMenuHeader:function(e,t){return e.localize("component.".concat(t.handler,".config.step.").concat(t.step_id,".title"))||e.localize("component.".concat(t.handler,".title"))},renderMenuDescription:function(e,t){var n=e.localize("component.".concat(t.translation_domain||t.handler,".config.step.").concat(t.step_id,".description"),t.description_placeholders);return n?(0,v.qy)(d||(d=(0,h.A)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),n):""},renderMenuOption:function(e,t,n){return e.localize("component.".concat(t.translation_domain||t.handler,".config.step.").concat(t.step_id,".menu_options.").concat(n),t.description_placeholders)},renderLoadingDescription:function(e,t,n,r){if("loading_flow"!==t&&"loading_step"!==t)return"";var a=(null==r?void 0:r.handler)||n;return e.localize("ui.panel.config.integrations.config_flow.loading.".concat(t),{integration:a?(0,m.p$)(e.localize,a):e.localize("ui.panel.config.integrations.config_flow.loading.fallback_title")})}});var n,b}},41572:function(e,t,n){n.d(t,{g:function(){return i}});n(95737),n(26098),n(39790),n(66457),n(99019),n(96858);var r=n(34897),a=function(){return Promise.all([n.e(94131),n.e(14121),n.e(33810),n.e(92106),n.e(10963),n.e(40319),n.e(7726),n.e(7986),n.e(89059),n.e(21689),n.e(55792),n.e(9421),n.e(25756),n.e(34793)]).then(n.bind(n,93608))},i=function(e,t,n){(0,r.r)(e,"show-dialog",{dialogTag:"dialog-data-entry-flow",dialogImport:a,dialogParams:Object.assign(Object.assign({},t),{},{flowConfig:n,dialogParentElement:e})})}},42088:function(e,t,n){var r=n(22858).A,a=n(33994).A;n.a(e,function(){var e=r(a().mark((function e(t,r){var i,o,s,c,l,u,d,h,f,p,g,v,y,m,_,b,k,w,A,x,M,L,H,C,O,z,j,V,S,F,Z,q,P,T,E,D,R;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=n(33994),o=n(22858),s=n(64599),c=n(35806),l=n(71008),u=n(62193),d=n(2816),h=n(27927),f=n(81027),p=n(13025),g=n(97741),v=n(89655),y=n(26098),m=n(39790),_=n(253),b=n(2075),k=n(54846),w=n(16891),A=n(66555),n(54838),x=n(15112),M=n(29818),L=n(34897),n(13082),n(28066),n(24640),H=n(47076),C=n(4826),O=n(6121),z=n(55321),j=n(84976),V=n(71919),n(55798),S=n(39258),!(F=t([H])).then){e.next=54;break}return e.next=50,F;case 50:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=55;break;case 54:e.t0=F;case 55:H=e.t0[0],R="M16 20H8V6H16M16.67 4H15V2H9V4H7.33C6.6 4 6 4.6 6 5.33V20.67C6 21.4 6.6 22 7.33 22H16.67C17.41 22 18 21.41 18 20.67V5.33C18 4.6 17.4 4 16.67 4M15 16H9V19H15V16M15 7H9V10H15V7M15 11.5H9V14.5H15V11.5Z",(0,h.A)([(0,M.EM)("ha-energy-battery-settings")],(function(e,t){var n,r,a=function(t){function n(){var t;(0,l.A)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=(0,u.A)(this,n,[].concat(a)),e(t),t}return(0,d.A)(n,t),(0,c.A)(n)}(t);return{F:a,d:[{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"preferences",value:void 0},{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"statsMetadata",value:void 0},{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"validationResult",value:void 0},{kind:"method",key:"render",value:function(){var e=this,t=[],n=[];return this.preferences.energy_sources.forEach((function(r,a){"battery"===r.type&&(t.push(r),e.validationResult&&n.push(e.validationResult.energy_sources[a]))})),(0,x.qy)(Z||(Z=(0,s.A)([' <ha-card outlined> <h1 class="card-header"> <ha-svg-icon .path="','"></ha-svg-icon> ',' </h1> <div class="card-content"> <p> ',' <a target="_blank" rel="noopener noreferrer" href="','">',"</a> </p> "," <h3> "," </h3> ",' <div class="row border-bottom"> <ha-svg-icon .path="','"></ha-svg-icon> <mwc-button @click="','">',"</mwc-button> </div> </div> </ha-card> "])),R,this.hass.localize("ui.panel.config.energy.battery.title"),this.hass.localize("ui.panel.config.energy.battery.sub"),(0,j.o)(this.hass,"/docs/energy/battery/"),this.hass.localize("ui.panel.config.energy.battery.learn_more"),n.map((function(t){return(0,x.qy)(q||(q=(0,s.A)([' <ha-energy-validation-result .hass="','" .issues="','"></ha-energy-validation-result> '])),e.hass,t)})),this.hass.localize("ui.panel.config.energy.battery.battery_systems"),t.map((function(t){var n,r,a=e.hass.states[t.stat_energy_to];return(0,x.qy)(P||(P=(0,s.A)([' <div class="row" .source="','"> ',' <div class="content"> <span class="label">','</span> <span class="label">','</span> </div> <ha-icon-button .label="','" @click="','" .path="','"></ha-icon-button> <ha-icon-button .label="','" @click="','" .path="','"></ha-icon-button> </div> '])),t,null!=a&&a.attributes.icon?(0,x.qy)(T||(T=(0,s.A)(['<ha-icon .icon="','"></ha-icon>'])),a.attributes.icon):(0,x.qy)(E||(E=(0,s.A)(['<ha-svg-icon .path="','"></ha-svg-icon>'])),R),(0,C.$O)(e.hass,t.stat_energy_from,null===(n=e.statsMetadata)||void 0===n?void 0:n[t.stat_energy_from]),(0,C.$O)(e.hass,t.stat_energy_to,null===(r=e.statsMetadata)||void 0===r?void 0:r[t.stat_energy_to]),e.hass.localize("ui.panel.config.energy.battery.edit_battery_system"),e._editSource,"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",e.hass.localize("ui.panel.config.energy.battery.delete_battery_system"),e._deleteSource,"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z")})),R,this._addSource,this.hass.localize("ui.panel.config.energy.battery.add_battery_system"))}},{kind:"method",key:"_addSource",value:function(){var e,t=this;(0,V.m5)(this,{battery_sources:this.preferences.energy_sources.filter((function(e){return"battery"===e.type})),saveCallback:(e=(0,o.A)((0,i.A)().mark((function e(n){return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._savePreferences(Object.assign(Object.assign({},t.preferences),{},{energy_sources:t.preferences.energy_sources.concat(n)}));case 2:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})}},{kind:"method",key:"_editSource",value:function(e){var t,n=this,r=e.currentTarget.closest(".row").source;(0,V.m5)(this,{source:Object.assign({},r),battery_sources:this.preferences.energy_sources.filter((function(e){return"battery"===e.type})),saveCallback:(t=(0,o.A)((0,i.A)().mark((function e(t){return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._savePreferences(Object.assign(Object.assign({},n.preferences),{},{energy_sources:n.preferences.energy_sources.map((function(e){return e===r?t:e}))}));case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})})}},{kind:"method",key:"_deleteSource",value:(r=(0,o.A)((0,i.A)().mark((function e(t){var n;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget.closest(".row").source,e.next=3,(0,O.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.energy.delete_source")});case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,this._savePreferences(Object.assign(Object.assign({},this.preferences),{},{energy_sources:this.preferences.energy_sources.filter((function(e){return e!==n}))}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),(0,O.showAlertDialog)(this,{title:"Failed to save config: ".concat(e.t0.message)});case 13:case"end":return e.stop()}}),e,this,[[5,10]])}))),function(e){return r.apply(this,arguments)})},{kind:"method",key:"_savePreferences",value:(n=(0,o.A)((0,i.A)().mark((function e(t){var n;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,H.WN)(this.hass,t);case 2:n=e.sent,(0,L.r)(this,"value-changed",{value:n});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[z.RF,S.X,(0,x.AH)(D||(D=(0,s.A)([".row{height:58px}.content{display:flex;flex-direction:column}.label{overflow:hidden;text-overflow:ellipsis}"])))]}}]}}),x.WF),r(),e.next=66;break;case 63:e.prev=63,e.t2=e.catch(0),r(e.t2);case 66:case"end":return e.stop()}}),e,null,[[0,63]])})));return function(t,n){return e.apply(this,arguments)}}())},95005:function(e,t,n){var r=n(22858).A,a=n(33994).A;n.a(e,function(){var e=r(a().mark((function e(t,r){var i,o,s,c,l,u,d,h,f,p,g,v,y,m,_,b,k,w,A,x,M,L,H,C,O,z,j,V,S,F,Z,q;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=n(33994),o=n(22858),s=n(64599),c=n(35806),l=n(71008),u=n(62193),d=n(2816),h=n(27927),f=n(81027),p=n(13025),g=n(97741),v=n(50693),y=n(26098),m=n(39790),_=n(253),b=n(2075),k=n(16891),n(54838),w=n(15112),A=n(29818),x=n(34897),n(13082),n(28066),n(70857),M=n(47076),L=n(4826),H=n(6121),C=n(55321),O=n(84976),z=n(71919),n(55798),j=n(39258),!(V=t([M])).then){e.next=50;break}return e.next=46,V;case 46:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=51;break;case 50:e.t0=V;case 51:M=e.t0[0],q="M3 6H21V4H3C1.9 4 1 4.9 1 6V18C1 19.1 1.9 20 3 20H7V18H3V6M13 12H9V13.78C8.39 14.33 8 15.11 8 16C8 16.89 8.39 17.67 9 18.22V20H13V18.22C13.61 17.67 14 16.88 14 16S13.61 14.33 13 13.78V12M11 17.5C10.17 17.5 9.5 16.83 9.5 16S10.17 14.5 11 14.5 12.5 15.17 12.5 16 11.83 17.5 11 17.5M22 8H16C15.5 8 15 8.5 15 9V19C15 19.5 15.5 20 16 20H22C22.5 20 23 19.5 23 19V9C23 8.5 22.5 8 22 8M21 18H17V10H21V18Z",(0,h.A)([(0,A.EM)("ha-energy-device-settings")],(function(e,t){var n,r,a=function(t){function n(){var t;(0,l.A)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=(0,u.A)(this,n,[].concat(a)),e(t),t}return(0,d.A)(n,t),(0,c.A)(n)}(t);return{F:a,d:[{kind:"field",decorators:[(0,A.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,A.MZ)({attribute:!1})],key:"preferences",value:void 0},{kind:"field",decorators:[(0,A.MZ)({attribute:!1})],key:"statsMetadata",value:void 0},{kind:"field",decorators:[(0,A.MZ)({attribute:!1})],key:"validationResult",value:void 0},{kind:"method",key:"render",value:function(){var e,t=this;return(0,w.qy)(S||(S=(0,s.A)([' <ha-card outlined> <h1 class="card-header"> <ha-svg-icon .path="','"></ha-svg-icon> ',' </h1> <div class="card-content"> <p> ',' <a target="_blank" rel="noopener noreferrer" href="','">',"</a> </p> "," <h3> "," </h3> ",' <div class="row"> <ha-svg-icon .path="','"></ha-svg-icon> <mwc-button @click="','">',"</mwc-button> </div> </div> </ha-card> "])),q,this.hass.localize("ui.panel.config.energy.device_consumption.title"),this.hass.localize("ui.panel.config.energy.device_consumption.sub"),(0,O.o)(this.hass,"/docs/energy/individual-devices/"),this.hass.localize("ui.panel.config.energy.device_consumption.learn_more"),null===(e=this.validationResult)||void 0===e?void 0:e.device_consumption.map((function(e){return(0,w.qy)(F||(F=(0,s.A)([' <ha-energy-validation-result .hass="','" .issues="','"></ha-energy-validation-result> '])),t.hass,e)})),this.hass.localize("ui.panel.config.energy.device_consumption.devices"),this.preferences.device_consumption.map((function(e){var n,r=t.hass.states[e.stat_consumption];return(0,w.qy)(Z||(Z=(0,s.A)([' <div class="row" .device="','"> <ha-state-icon .hass="','" .stateObj="','"></ha-state-icon> <span class="content">','</span> <ha-icon-button .label="','" @click="','" .path="','"></ha-icon-button> <ha-icon-button .label="','" @click="','" .device="','" .path="','"></ha-icon-button> </div> '])),e,t.hass,r,e.name||(0,L.$O)(t.hass,e.stat_consumption,null===(n=t.statsMetadata)||void 0===n?void 0:n[e.stat_consumption]),t.hass.localize("ui.common.edit"),t._editDevice,"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",t.hass.localize("ui.common.delete"),t._deleteDevice,e,"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z")})),q,this._addDevice,this.hass.localize("ui.panel.config.energy.device_consumption.add_device"))}},{kind:"method",key:"_editDevice",value:function(e){var t,n=this,r=e.currentTarget.closest(".row").device;(0,z.D0)(this,{device:Object.assign({},r),device_consumptions:this.preferences.device_consumption,saveCallback:(t=(0,o.A)((0,i.A)().mark((function e(t){return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._savePreferences(Object.assign(Object.assign({},n.preferences),{},{device_consumption:n.preferences.device_consumption.map((function(e){return e===r?t:e}))}));case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})})}},{kind:"method",key:"_addDevice",value:function(){var e,t=this;(0,z.D0)(this,{device_consumptions:this.preferences.device_consumption,saveCallback:(e=(0,o.A)((0,i.A)().mark((function e(n){return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._savePreferences(Object.assign(Object.assign({},t.preferences),{},{device_consumption:t.preferences.device_consumption.concat(n)}));case 2:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})}},{kind:"method",key:"_deleteDevice",value:(r=(0,o.A)((0,i.A)().mark((function e(t){var n;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget.device,e.next=3,(0,H.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.energy.delete_source")});case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,this._savePreferences(Object.assign(Object.assign({},this.preferences),{},{device_consumption:this.preferences.device_consumption.filter((function(e){return e!==n}))}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),(0,H.showAlertDialog)(this,{title:"Failed to save config: ".concat(e.t0.message)});case 13:case"end":return e.stop()}}),e,this,[[5,10]])}))),function(e){return r.apply(this,arguments)})},{kind:"method",key:"_savePreferences",value:(n=(0,o.A)((0,i.A)().mark((function e(t){var n;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,M.WN)(this.hass,t);case 2:n=e.sent,(0,x.r)(this,"value-changed",{value:n});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[C.RF,j.X]}}]}}),w.WF),r(),e.next=62;break;case 59:e.prev=59,e.t2=e.catch(0),r(e.t2);case 62:case"end":return e.stop()}}),e,null,[[0,59]])})));return function(t,n){return e.apply(this,arguments)}}())},97208:function(e,t,n){var r=n(22858).A,a=n(33994).A;n.a(e,function(){var e=r(a().mark((function e(t,r){var i,o,s,c,l,u,d,h,f,p,g,v,y,m,_,b,k,w,A,x,M,L,H,C,O,z,j,V,S,F,Z,q,P,T,E,D;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=n(33994),o=n(22858),s=n(64599),c=n(35806),l=n(71008),u=n(62193),d=n(2816),h=n(27927),f=n(81027),p=n(13025),g=n(97741),v=n(89655),y=n(26098),m=n(39790),_=n(253),b=n(2075),k=n(54846),w=n(16891),A=n(66555),n(54838),x=n(15112),M=n(29818),L=n(34897),n(13082),n(28066),H=n(47076),C=n(4826),O=n(6121),z=n(55321),j=n(84976),V=n(71919),n(55798),S=n(39258),!(F=t([H])).then){e.next=53;break}return e.next=49,F;case 49:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=54;break;case 53:e.t0=F;case 54:H=e.t0[0],D="M17.66 11.2C17.43 10.9 17.15 10.64 16.89 10.38C16.22 9.78 15.46 9.35 14.82 8.72C13.33 7.26 13 4.85 13.95 3C13 3.23 12.17 3.75 11.46 4.32C8.87 6.4 7.85 10.07 9.07 13.22C9.11 13.32 9.15 13.42 9.15 13.55C9.15 13.77 9 13.97 8.8 14.05C8.57 14.15 8.33 14.09 8.14 13.93C8.08 13.88 8.04 13.83 8 13.76C6.87 12.33 6.69 10.28 7.45 8.64C5.78 10 4.87 12.3 5 14.47C5.06 14.97 5.12 15.47 5.29 15.97C5.43 16.57 5.7 17.17 6 17.7C7.08 19.43 8.95 20.67 10.96 20.92C13.1 21.19 15.39 20.8 17.03 19.32C18.86 17.66 19.5 15 18.56 12.72L18.43 12.46C18.22 12 17.66 11.2 17.66 11.2M14.5 17.5C14.22 17.74 13.76 18 13.4 18.1C12.28 18.5 11.16 17.94 10.5 17.28C11.69 17 12.4 16.12 12.61 15.23C12.78 14.43 12.46 13.77 12.33 13C12.21 12.26 12.23 11.63 12.5 10.94C12.69 11.32 12.89 11.7 13.13 12C13.9 13 15.11 13.44 15.37 14.8C15.41 14.94 15.43 15.08 15.43 15.23C15.46 16.05 15.1 16.95 14.5 17.5H14.5Z",(0,h.A)([(0,M.EM)("ha-energy-gas-settings")],(function(e,t){var n,r,a=function(t){function n(){var t;(0,l.A)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=(0,u.A)(this,n,[].concat(a)),e(t),t}return(0,d.A)(n,t),(0,c.A)(n)}(t);return{F:a,d:[{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"preferences",value:void 0},{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"statsMetadata",value:void 0},{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"validationResult",value:void 0},{kind:"method",key:"render",value:function(){var e=this,t=[],n=[];return this.preferences.energy_sources.forEach((function(r,a){"gas"===r.type&&(t.push(r),e.validationResult&&n.push(e.validationResult.energy_sources[a]))})),(0,x.qy)(Z||(Z=(0,s.A)([' <ha-card outlined> <h1 class="card-header"> <ha-svg-icon .path="','"></ha-svg-icon> ',' </h1> <div class="card-content"> <p> ',' <a target="_blank" rel="noopener noreferrer" href="','">',"</a> </p> "," <h3> "," </h3> ",' <div class="row border-bottom"> <ha-svg-icon .path="','"></ha-svg-icon> <mwc-button @click="','">',"</mwc-button> </div> </div> </ha-card> "])),D,this.hass.localize("ui.panel.config.energy.gas.title"),this.hass.localize("ui.panel.config.energy.gas.sub"),(0,j.o)(this.hass,"/docs/energy/gas/"),this.hass.localize("ui.panel.config.energy.gas.learn_more"),n.map((function(t){return(0,x.qy)(q||(q=(0,s.A)([' <ha-energy-validation-result .hass="','" .issues="','"></ha-energy-validation-result> '])),e.hass,t)})),this.hass.localize("ui.panel.config.energy.gas.gas_consumption"),t.map((function(t){var n,r=e.hass.states[t.stat_energy_from];return(0,x.qy)(P||(P=(0,s.A)([' <div class="row" .source="','"> ',' <span class="content">','</span> <ha-icon-button .label="','" @click="','" .path="','"></ha-icon-button> <ha-icon-button .label="','" @click="','" .path="','"></ha-icon-button> </div> '])),t,null!=r&&r.attributes.icon?(0,x.qy)(T||(T=(0,s.A)(['<ha-icon .icon="','"></ha-icon>'])),r.attributes.icon):(0,x.qy)(E||(E=(0,s.A)(['<ha-svg-icon .path="','"></ha-svg-icon>'])),D),(0,C.$O)(e.hass,t.stat_energy_from,null===(n=e.statsMetadata)||void 0===n?void 0:n[t.stat_energy_from]),e.hass.localize("ui.panel.config.energy.gas.edit_gas_source"),e._editSource,"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",e.hass.localize("ui.panel.config.energy.gas.delete_gas_source"),e._deleteSource,"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z")})),D,this._addSource,this.hass.localize("ui.panel.config.energy.gas.add_gas_source"))}},{kind:"method",key:"_addSource",value:function(){var e,t=this;(0,V.yH)(this,{allowedGasUnitClass:(0,H._d)(this.preferences,this.statsMetadata),gas_sources:this.preferences.energy_sources.filter((function(e){return"gas"===e.type})),saveCallback:(e=(0,o.A)((0,i.A)().mark((function e(n){return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete n.unit_of_measurement,e.next=3,t._savePreferences(Object.assign(Object.assign({},t.preferences),{},{energy_sources:t.preferences.energy_sources.concat(n)}));case 3:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})}},{kind:"method",key:"_editSource",value:function(e){var t,n,r=this,a=e.currentTarget.closest(".row").source;(0,V.yH)(this,{source:Object.assign({},a),allowedGasUnitClass:(0,H._d)(this.preferences,this.statsMetadata,a.stat_energy_from),metadata:null===(t=this.statsMetadata)||void 0===t?void 0:t[a.stat_energy_from],gas_sources:this.preferences.energy_sources.filter((function(e){return"gas"===e.type})),saveCallback:(n=(0,o.A)((0,i.A)().mark((function e(t){return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._savePreferences(Object.assign(Object.assign({},r.preferences),{},{energy_sources:r.preferences.energy_sources.map((function(e){return e===a?t:e}))}));case 2:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})})}},{kind:"method",key:"_deleteSource",value:(r=(0,o.A)((0,i.A)().mark((function e(t){var n;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget.closest(".row").source,e.next=3,(0,O.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.energy.delete_source")});case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,this._savePreferences(Object.assign(Object.assign({},this.preferences),{},{energy_sources:this.preferences.energy_sources.filter((function(e){return e!==n}))}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),(0,O.showAlertDialog)(this,{title:"Failed to save config: ".concat(e.t0.message)});case 13:case"end":return e.stop()}}),e,this,[[5,10]])}))),function(e){return r.apply(this,arguments)})},{kind:"method",key:"_savePreferences",value:(n=(0,o.A)((0,i.A)().mark((function e(t){var n;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,H.WN)(this.hass,t);case 2:n=e.sent,(0,L.r)(this,"value-changed",{value:n});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[z.RF,S.X]}}]}}),x.WF),r(),e.next=65;break;case 62:e.prev=62,e.t2=e.catch(0),r(e.t2);case 65:case"end":return e.stop()}}),e,null,[[0,62]])})));return function(t,n){return e.apply(this,arguments)}}())},48039:function(e,t,n){var r=n(22858).A,a=n(33994).A;n.a(e,function(){var e=r(a().mark((function e(t,r){var i,o,s,c,l,u,d,h,f,p,g,v,y,m,_,b,k,w,A,x,M,L,H,C,O,z,j,V,S,F,Z,q,P,T,E,D,R,W,$,B,X,I,N,G,Y,U,K,Q,J,ee,te;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=n(41981),o=n(33994),s=n(22858),c=n(64599),l=n(35806),u=n(71008),d=n(62193),h=n(2816),f=n(27927),p=n(81027),g=n(13025),v=n(44124),y=n(88557),m=n(97741),_=n(89655),b=n(46469),k=n(26098),w=n(39790),A=n(253),x=n(2075),M=n(94438),L=n(16891),H=n(37679),n(54838),C=n(15112),O=n(29818),z=n(34897),n(13082),n(28066),j=n(31265),V=n(47076),S=n(4826),F=n(30581),Z=n(6121),q=n(55321),P=n(51842),T=n(84976),E=n(71919),n(55798),D=n(39258),!(R=t([V])).then){e.next=63;break}return e.next=59,R;case 59:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=64;break;case 63:e.t0=R;case 64:V=e.t0[0],Q="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",J="M24 13L20 17V14H11V12H20V9L24 13M4 20V12H1L11 3L18 9.3V10H15.79L11 5.69L6 10.19V18H16V16H18V20H4Z",ee="M15 13L11 17V14H2V12H11V9L15 13M5 20V16H7V18H17V10.19L12 5.69L7.21 10H4.22L12 3L22 12H19V20H5Z",te="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",(0,f.A)([(0,O.EM)("ha-energy-grid-settings")],(function(e,t){var n,r,a,f,p,g=function(t){function n(){var t;(0,u.A)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=(0,d.A)(this,n,[].concat(a)),e(t),t}return(0,h.A)(n,t),(0,l.A)(n)}(t);return{F:g,d:[{kind:"field",decorators:[(0,O.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,O.MZ)({attribute:!1})],key:"preferences",value:void 0},{kind:"field",decorators:[(0,O.MZ)({attribute:!1})],key:"statsMetadata",value:void 0},{kind:"field",decorators:[(0,O.MZ)({attribute:!1})],key:"validationResult",value:void 0},{kind:"field",decorators:[(0,O.wk)()],key:"_co2ConfigEntry",value:void 0},{kind:"method",key:"firstUpdated",value:function(){this._fetchCO2SignalConfigEntries()}},{kind:"method",key:"render",value:function(){var e,t,n,r,a,i=this,o=this.preferences.energy_sources.findIndex((function(e){return"grid"===e.type}));return-1===o?r=(0,V.uh)():(r=this.preferences.energy_sources[o],this.validationResult&&(a=this.validationResult.energy_sources[o])),(0,C.qy)(W||(W=(0,c.A)([' <ha-card outlined> <h1 class="card-header"> <ha-svg-icon .path="','"></ha-svg-icon> ',' </h1> <div class="card-content"> <p> ',' <a target="_blank" rel="noopener noreferrer" href="','">',"</a> </p> "," <h3> "," </h3> ",' <div class="row border-bottom"> <ha-svg-icon .path="','"></ha-svg-icon> <mwc-button @click="','">',"</mwc-button> </div> <h3> "," </h3> ",' <div class="row border-bottom"> <ha-svg-icon .path="','"></ha-svg-icon> <mwc-button @click="','">',"</mwc-button> </div> <h3> "," </h3> "," </div> </ha-card> "])),"M8.28,5.45L6.5,4.55L7.76,2H16.23L17.5,4.55L15.72,5.44L15,4H9L8.28,5.45M18.62,8H14.09L13.3,5H10.7L9.91,8H5.38L4.1,10.55L5.89,11.44L6.62,10H17.38L18.1,11.45L19.89,10.56L18.62,8M17.77,22H15.7L15.46,21.1L12,15.9L8.53,21.1L8.3,22H6.23L9.12,11H11.19L10.83,12.35L12,14.1L13.16,12.35L12.81,11H14.88L17.77,22M11.4,15L10.5,13.65L9.32,18.13L11.4,15M14.68,18.12L13.5,13.64L12.6,15L14.68,18.12Z",this.hass.localize("ui.panel.config.energy.grid.title"),this.hass.localize("ui.panel.config.energy.grid.sub"),(0,T.o)(this.hass,"/docs/energy/electricity-grid/"),this.hass.localize("ui.panel.config.energy.grid.learn_more"),a?(0,C.qy)($||($=(0,c.A)([' <ha-energy-validation-result .hass="','" .issues="','"></ha-energy-validation-result> '])),this.hass,a):"",this.hass.localize("ui.panel.config.energy.grid.grid_consumption"),r.flow_from.map((function(e){var t,n=i.hass.states[e.stat_energy_from];return(0,C.qy)(B||(B=(0,c.A)([' <div class="row" .source="','"> ',' <span class="content">','</span> <ha-icon-button .label="','" @click="','" .path="','"></ha-icon-button> <ha-icon-button .label="','" @click="','" .path="','"></ha-icon-button> </div> '])),e,null!=n&&n.attributes.icon?(0,C.qy)(X||(X=(0,c.A)(['<ha-icon .icon="','"></ha-icon>'])),null==n?void 0:n.attributes.icon):(0,C.qy)(I||(I=(0,c.A)(['<ha-svg-icon .path="','"></ha-svg-icon>'])),ee),(0,S.$O)(i.hass,e.stat_energy_from,null===(t=i.statsMetadata)||void 0===t?void 0:t[e.stat_energy_from]),i.hass.localize("ui.panel.config.energy.grid.edit_consumption"),i._editFromSource,te,i.hass.localize("ui.panel.config.energy.grid.delete_consumption"),i._deleteFromSource,Q)})),ee,this._addFromSource,this.hass.localize("ui.panel.config.energy.grid.add_consumption"),this.hass.localize("ui.panel.config.energy.grid.return_to_grid"),r.flow_to.map((function(e){var t,n=i.hass.states[e.stat_energy_to];return(0,C.qy)(N||(N=(0,c.A)([' <div class="row" .source="','"> ',' <span class="content">','</span> <ha-icon-button .label="','" @click="','" .path="','"></ha-icon-button> <ha-icon-button .label="','" @click="','" .path="','"></ha-icon-button> </div> '])),e,null!=n&&n.attributes.icon?(0,C.qy)(G||(G=(0,c.A)(['<ha-icon .icon="','"></ha-icon>'])),n.attributes.icon):(0,C.qy)(Y||(Y=(0,c.A)(['<ha-svg-icon .path="','"></ha-svg-icon>'])),J),(0,S.$O)(i.hass,e.stat_energy_to,null===(t=i.statsMetadata)||void 0===t?void 0:t[e.stat_energy_to]),i.hass.localize("ui.panel.config.energy.grid.edit_return"),i._editToSource,te,i.hass.localize("ui.panel.config.energy.grid.delete_return"),i._deleteToSource,Q)})),J,this._addToSource,this.hass.localize("ui.panel.config.energy.grid.add_return"),this.hass.localize("ui.panel.config.energy.grid.grid_carbon_footprint"),this._co2ConfigEntry?(0,C.qy)(U||(U=(0,c.A)(['<div class="row" .entry="','"> <img alt="" crossorigin="anonymous" referrerpolicy="no-referrer" src="','"> <span class="content">','</span> <a href="','"> <ha-icon-button .path="','"></ha-icon-button> </a> <ha-icon-button .label="','" @click="','" .path="','"></ha-icon-button> </div>'])),this._co2ConfigEntry,(0,P.MR)({domain:"co2signal",type:"icon",darkOptimized:null===(e=this.hass.themes)||void 0===e?void 0:e.darkMode}),this._co2ConfigEntry.title,"/config/integrations/integration/".concat(null===(t=this._co2ConfigEntry)||void 0===t?void 0:t.domain),te,this.hass.localize("ui.panel.config.energy.grid.remove_co2_signal"),this._removeCO2Sensor,Q):(0,C.qy)(K||(K=(0,c.A)([' <div class="row border-bottom"> <img alt="" crossorigin="anonymous" referrerpolicy="no-referrer" src="','"> <mwc-button @click="','"> '," </mwc-button> </div> "])),(0,P.MR)({domain:"co2signal",type:"icon",darkOptimized:null===(n=this.hass.themes)||void 0===n?void 0:n.darkMode}),this._addCO2Sensor,this.hass.localize("ui.panel.config.energy.grid.add_co2_signal")))}},{kind:"method",key:"_fetchCO2SignalConfigEntries",value:(p=(0,s.A)((0,o.A)().mark((function e(){var t;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,j.VN)(this.hass,{domain:"co2signal"});case 2:t=e.sent,this._co2ConfigEntry=t.length?t[0]:void 0;case 4:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{kind:"method",key:"_addCO2Sensor",value:function(){var e=this;(0,F.W)(this,{startFlowHandler:"co2signal",dialogClosedCallback:function(){e._fetchCO2SignalConfigEntries()}})}},{kind:"method",key:"_removeCO2Sensor",value:(f=(0,s.A)((0,o.A)().mark((function e(t){var n;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget.closest(".row").entry.entry_id,e.next=3,(0,Z.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.energy.delete_integration")});case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,(0,j.eM)(this.hass,n);case 7:this._fetchCO2SignalConfigEntries();case 8:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{kind:"method",key:"_addFromSource",value:function(){var e,t=this,n=this.preferences.energy_sources.find((function(e){return"grid"===e.type}));(0,E.xu)(this,{grid_source:n,saveCallback:(e=(0,s.A)((0,o.A)().mark((function e(r){var a;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?Object.assign(Object.assign({},t.preferences),{},{energy_sources:t.preferences.energy_sources.map((function(e){return"grid"===e.type?Object.assign(Object.assign({},e),{},{flow_from:[].concat((0,i.A)(n.flow_from),[r])}):e}))}):Object.assign(Object.assign({},t.preferences),{},{energy_sources:[].concat((0,i.A)(t.preferences.energy_sources),[Object.assign(Object.assign({},(0,V.uh)()),{},{flow_from:[r]})])}),e.next=3,t._savePreferences(a);case 3:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})}},{kind:"method",key:"_addToSource",value:function(){var e,t=this,n=this.preferences.energy_sources.find((function(e){return"grid"===e.type}));(0,E.An)(this,{grid_source:n,saveCallback:(e=(0,s.A)((0,o.A)().mark((function e(r){var a;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?Object.assign(Object.assign({},t.preferences),{},{energy_sources:t.preferences.energy_sources.map((function(e){return"grid"===e.type?Object.assign(Object.assign({},e),{},{flow_to:[].concat((0,i.A)(n.flow_to),[r])}):e}))}):Object.assign(Object.assign({},t.preferences),{},{energy_sources:[].concat((0,i.A)(t.preferences.energy_sources),[Object.assign(Object.assign({},(0,V.uh)()),{},{flow_to:[r]})])}),e.next=3,t._savePreferences(a);case 3:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})}},{kind:"method",key:"_editFromSource",value:function(e){var t,n,r=this,a=e.currentTarget.closest(".row").source,i=this.preferences.energy_sources.find((function(e){return"grid"===e.type}));(0,E.xu)(this,{source:Object.assign({},a),grid_source:i,metadata:null===(t=this.statsMetadata)||void 0===t?void 0:t[a.stat_energy_from],saveCallback:(n=(0,s.A)((0,o.A)().mark((function e(t){var n,i;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,V.E$)(r.preferences).grid[0].flow_from,i=Object.assign(Object.assign({},r.preferences),{},{energy_sources:r.preferences.energy_sources.map((function(e){return"grid"===e.type?Object.assign(Object.assign({},e),{},{flow_from:n.map((function(e){return e===a?t:e}))}):e}))}),e.next=4,r._savePreferences(i);case 4:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})})}},{kind:"method",key:"_editToSource",value:function(e){var t,n,r=this,a=e.currentTarget.closest(".row").source,i=this.preferences.energy_sources.find((function(e){return"grid"===e.type}));(0,E.An)(this,{source:Object.assign({},a),grid_source:i,metadata:null===(t=this.statsMetadata)||void 0===t?void 0:t[a.stat_energy_to],saveCallback:(n=(0,s.A)((0,o.A)().mark((function e(t){var n,i;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,V.E$)(r.preferences).grid[0].flow_to,i=Object.assign(Object.assign({},r.preferences),{},{energy_sources:r.preferences.energy_sources.map((function(e){return"grid"===e.type?Object.assign(Object.assign({},e),{},{flow_to:n.map((function(e){return e===a?t:e}))}):e}))}),e.next=4,r._savePreferences(i);case 4:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})})}},{kind:"method",key:"_deleteFromSource",value:(a=(0,s.A)((0,o.A)().mark((function e(t){var n,r,a,i;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget.closest(".row").source,e.next=3,(0,Z.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.energy.delete_source")});case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return r=(0,V.E$)(this.preferences).grid[0].flow_from.filter((function(e){return e!==n})),a=Object.assign(Object.assign({},this.preferences),{},{energy_sources:this.preferences.energy_sources.map((function(e){return"grid"===e.type?Object.assign(Object.assign({},e),{},{flow_from:r}):e}))}),i=this._removeEmptySources(a),e.next=10,this._savePreferences(i);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{kind:"method",key:"_deleteToSource",value:(r=(0,s.A)((0,o.A)().mark((function e(t){var n,r,a,i;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget.closest(".row").source,e.next=3,(0,Z.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.energy.delete_source")});case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return r=(0,V.E$)(this.preferences).grid[0].flow_to.filter((function(e){return e!==n})),a=Object.assign(Object.assign({},this.preferences),{},{energy_sources:this.preferences.energy_sources.map((function(e){return"grid"===e.type?Object.assign(Object.assign({},e),{},{flow_to:r}):e}))}),i=this._removeEmptySources(a),e.next=10,this._savePreferences(i);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{kind:"method",key:"_removeEmptySources",value:function(e){return e.energy_sources=e.energy_sources.reduce((function(e,t){return("grid"!==t.type||t.flow_from.length>0||t.flow_to.length>0)&&e.push(t),e}),[]),e}},{kind:"method",key:"_savePreferences",value:(n=(0,s.A)((0,o.A)().mark((function e(t){var n;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,V.WN)(this.hass,t);case 3:n=e.sent,(0,z.r)(this,"value-changed",{value:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,Z.showAlertDialog)(this,{title:"Failed to save config: ".concat(e.t0.message)});case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return n.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[q.RF,D.X]}}]}}),C.WF),r(),e.next=77;break;case 74:e.prev=74,e.t2=e.catch(0),r(e.t2);case 77:case"end":return e.stop()}}),e,null,[[0,74]])})));return function(t,n){return e.apply(this,arguments)}}())},77028:function(e,t,n){var r=n(22858).A,a=n(33994).A;n.a(e,function(){var e=r(a().mark((function e(t,r){var i,o,s,c,l,u,d,h,f,p,g,v,y,m,_,b,k,w,A,x,M,L,H,C,O,z,j,V,S,F,Z,q,P,T,E,D,R,W;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=n(33994),o=n(22858),s=n(64599),c=n(35806),l=n(71008),u=n(62193),d=n(2816),h=n(27927),f=n(81027),p=n(13025),g=n(97741),v=n(89655),y=n(26098),m=n(39790),_=n(253),b=n(2075),k=n(54846),w=n(16891),A=n(66555),n(54838),x=n(15112),M=n(29818),L=n(34897),n(13082),n(28066),H=n(47076),C=n(4826),O=n(6121),z=n(55321),j=n(84976),V=n(71919),n(55798),S=n(39258),!(F=t([H])).then){e.next=53;break}return e.next=49,F;case 49:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=54;break;case 53:e.t0=F;case 54:H=e.t0[0],W="M11.45,2V5.55L15,3.77L11.45,2M10.45,8L8,10.46L11.75,11.71L10.45,8M2,11.45L3.77,15L5.55,11.45H2M10,2H2V10C2.57,10.17 3.17,10.25 3.77,10.25C7.35,10.26 10.26,7.35 10.27,3.75C10.26,3.16 10.17,2.57 10,2M17,22V16H14L19,7V13H22L17,22Z",(0,h.A)([(0,M.EM)("ha-energy-solar-settings")],(function(e,t){var n,r,a=function(t){function n(){var t;(0,l.A)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=(0,u.A)(this,n,[].concat(a)),e(t),t}return(0,d.A)(n,t),(0,c.A)(n)}(t);return{F:a,d:[{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"preferences",value:void 0},{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"statsMetadata",value:void 0},{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"validationResult",value:void 0},{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"info",value:void 0},{kind:"method",key:"render",value:function(){var e=this,t=[],n=[];return this.preferences.energy_sources.forEach((function(r,a){"solar"===r.type&&(t.push(r),e.validationResult&&n.push(e.validationResult.energy_sources[a]))})),(0,x.qy)(Z||(Z=(0,s.A)([' <ha-card outlined> <h1 class="card-header"> <ha-svg-icon .path="','"></ha-svg-icon> ',' </h1> <div class="card-content"> <p> ',' <a target="_blank" rel="noopener noreferrer" href="','">',"</a> </p> "," <h3> "," </h3> "," "," </div> </ha-card> "])),W,this.hass.localize("ui.panel.config.energy.solar.title"),this.hass.localize("ui.panel.config.energy.solar.sub"),(0,j.o)(this.hass,"/docs/energy/solar-panels/"),this.hass.localize("ui.panel.config.energy.solar.learn_more"),n.map((function(t){return(0,x.qy)(q||(q=(0,s.A)([' <ha-energy-validation-result .hass="','" .issues="','"></ha-energy-validation-result> '])),e.hass,t)})),this.hass.localize("ui.panel.config.energy.solar.solar_production"),t.map((function(t){var n,r=e.hass.states[t.stat_energy_from];return(0,x.qy)(P||(P=(0,s.A)([' <div class="row" .source="','"> ',' <span class="content">',"</span> ",' <ha-icon-button .label="','" @click="','" .path="','"></ha-icon-button> </div> '])),t,null!=r&&r.attributes.icon?(0,x.qy)(T||(T=(0,s.A)(['<ha-icon .icon="','"></ha-icon>'])),r.attributes.icon):(0,x.qy)(E||(E=(0,s.A)(['<ha-svg-icon .path="','"></ha-svg-icon>'])),W),(0,C.$O)(e.hass,t.stat_energy_from,null===(n=e.statsMetadata)||void 0===n?void 0:n[t.stat_energy_from]),e.info?(0,x.qy)(D||(D=(0,s.A)([' <ha-icon-button .label="','" @click="','" .path="','"></ha-icon-button> '])),e.hass.localize("ui.panel.config.energy.solar.edit_solar_production"),e._editSource,"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"):"",e.hass.localize("ui.panel.config.energy.solar.delete_solar_production"),e._deleteSource,"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z")})),this.info?(0,x.qy)(R||(R=(0,s.A)([' <div class="row border-bottom"> <ha-svg-icon .path="','"></ha-svg-icon> <mwc-button @click="','"> '," </mwc-button> </div> "])),W,this._addSource,this.hass.localize("ui.panel.config.energy.solar.add_solar_production")):"")}},{kind:"method",key:"_addSource",value:function(){var e,t=this;(0,V.se)(this,{info:this.info,solar_sources:this.preferences.energy_sources.filter((function(e){return"solar"===e.type})),saveCallback:(e=(0,o.A)((0,i.A)().mark((function e(n){return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._savePreferences(Object.assign(Object.assign({},t.preferences),{},{energy_sources:t.preferences.energy_sources.concat(n)}));case 2:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})}},{kind:"method",key:"_editSource",value:function(e){var t,n=this,r=e.currentTarget.closest(".row").source;(0,V.se)(this,{info:this.info,source:Object.assign({},r),solar_sources:this.preferences.energy_sources.filter((function(e){return"solar"===e.type})),saveCallback:(t=(0,o.A)((0,i.A)().mark((function e(t){return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._savePreferences(Object.assign(Object.assign({},n.preferences),{},{energy_sources:n.preferences.energy_sources.map((function(e){return e===r?t:e}))}));case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})})}},{kind:"method",key:"_deleteSource",value:(r=(0,o.A)((0,i.A)().mark((function e(t){var n;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget.closest(".row").source,e.next=3,(0,O.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.energy.delete_source")});case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,this._savePreferences(Object.assign(Object.assign({},this.preferences),{},{energy_sources:this.preferences.energy_sources.filter((function(e){return e!==n}))}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),(0,O.showAlertDialog)(this,{title:"Failed to save config: ".concat(e.t0.message)});case 13:case"end":return e.stop()}}),e,this,[[5,10]])}))),function(e){return r.apply(this,arguments)})},{kind:"method",key:"_savePreferences",value:(n=(0,o.A)((0,i.A)().mark((function e(t){var n;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,H.WN)(this.hass,t);case 2:n=e.sent,(0,L.r)(this,"value-changed",{value:n});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[z.RF,S.X]}}]}}),x.WF),r(),e.next=65;break;case 62:e.prev=62,e.t2=e.catch(0),r(e.t2);case 65:case"end":return e.stop()}}),e,null,[[0,62]])})));return function(t,n){return e.apply(this,arguments)}}())},55798:function(e,t,n){var r,a,i,o,s,c=n(658),l=n(64599),u=n(35806),d=n(71008),h=n(62193),f=n(2816),p=n(27927),g=(n(81027),n(97741),n(16891),n(15112)),v=n(29818);n(13292),(0,p.A)([(0,v.EM)("ha-energy-validation-result")],(function(e,t){var n=function(t){function n(){var t;(0,d.A)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=(0,h.A)(this,n,[].concat(a)),e(t),t}return(0,f.A)(n,t),(0,u.A)(n)}(t);return{F:n,d:[{kind:"field",decorators:[(0,v.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,v.MZ)({attribute:!1})],key:"issues",value:void 0},{kind:"method",key:"render",value:function(){var e=this;return 0===this.issues.length?g.s6:this.issues.map((function(t){return(0,g.qy)(r||(r=(0,l.A)([' <ha-alert alert-type="warning" .title="','"> '," "," <ul> "," </ul> </ha-alert> "])),e.hass.localize("component.energy.issues.".concat(t.type,".title"))||t.type,e.hass.localize("component.energy.issues.".concat(t.type,".description"),t.translation_placeholders),"recorder_untracked"===t.type?(0,g.qy)(a||(a=(0,l.A)(['(<a href="https://www.home-assistant.io/integrations/recorder#configure-filter" target="_blank" rel="noopener noreferrer">',"</a>)"])),e.hass.localize("ui.panel.config.common.learn_more")):"",t.affected_entities.map((function(e){var t=(0,c.A)(e,2),n=t[0],r=t[1];return(0,g.qy)(i||(i=(0,l.A)(["<li>","","</li>"])),n,r?(0,g.qy)(o||(o=(0,l.A)([" (",")"])),r):"")})))}))}},{kind:"field",static:!0,key:"styles",value:function(){return(0,g.AH)(s||(s=(0,l.A)(["ul{padding-left:24px;padding-inline-start:24px padding-inline-end: initial;margin:4px 0}a{color:var(--primary-color)}"])))}}]}}),g.WF)},62206:function(e,t,n){var r=n(22858).A,a=n(33994).A;n.a(e,function(){var e=r(a().mark((function e(t,r){var i,o,s,c,l,u,d,h,f,p,g,v,y,m,_,b,k,w,A,x,M,L,H,C,O,z,j,V,S,F,Z,q,P,T,E,D;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=n(33994),o=n(22858),s=n(64599),c=n(35806),l=n(71008),u=n(62193),d=n(2816),h=n(27927),f=n(81027),p=n(13025),g=n(97741),v=n(89655),y=n(26098),m=n(39790),_=n(253),b=n(2075),k=n(54846),w=n(16891),A=n(66555),n(54838),x=n(15112),M=n(29818),L=n(34897),n(13082),n(28066),H=n(47076),C=n(4826),O=n(6121),z=n(55321),j=n(84976),V=n(71919),n(55798),S=n(39258),!(F=t([H])).then){e.next=53;break}return e.next=49,F;case 49:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=54;break;case 53:e.t0=F;case 54:H=e.t0[0],D="M12,20A6,6 0 0,1 6,14C6,10 12,3.25 12,3.25C12,3.25 18,10 18,14A6,6 0 0,1 12,20Z",(0,h.A)([(0,M.EM)("ha-energy-water-settings")],(function(e,t){var n,r,a=function(t){function n(){var t;(0,l.A)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return t=(0,u.A)(this,n,[].concat(a)),e(t),t}return(0,d.A)(n,t),(0,c.A)(n)}(t);return{F:a,d:[{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"preferences",value:void 0},{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"statsMetadata",value:void 0},{kind:"field",decorators:[(0,M.MZ)({attribute:!1})],key:"validationResult",value:void 0},{kind:"method",key:"render",value:function(){var e=this,t=[],n=[];return this.preferences.energy_sources.forEach((function(r,a){"water"===r.type&&(t.push(r),e.validationResult&&n.push(e.validationResult.energy_sources[a]))})),(0,x.qy)(Z||(Z=(0,s.A)([' <ha-card outlined> <h1 class="card-header"> <ha-svg-icon .path="','"></ha-svg-icon> ',' </h1> <div class="card-content"> <p> ',' <a target="_blank" rel="noopener noreferrer" href="','">',"</a> </p> "," <h3> "," </h3> ",' <div class="row border-bottom"> <ha-svg-icon .path="','"></ha-svg-icon> <mwc-button @click="','">',"</mwc-button> </div> </div> </ha-card> "])),D,this.hass.localize("ui.panel.config.energy.water.title"),this.hass.localize("ui.panel.config.energy.water.sub"),(0,j.o)(this.hass,"/docs/energy/water/"),this.hass.localize("ui.panel.config.energy.water.learn_more"),n.map((function(t){return(0,x.qy)(q||(q=(0,s.A)([' <ha-energy-validation-result .hass="','" .issues="','"></ha-energy-validation-result> '])),e.hass,t)})),this.hass.localize("ui.panel.config.energy.water.water_consumption"),t.map((function(t){var n,r=e.hass.states[t.stat_energy_from];return(0,x.qy)(P||(P=(0,s.A)([' <div class="row" .source="','"> ',' <span class="content">','</span> <ha-icon-button .label="','" @click="','" .path="','"></ha-icon-button> <ha-icon-button .label="','" @click="','" .path="','"></ha-icon-button> </div> '])),t,null!=r&&r.attributes.icon?(0,x.qy)(T||(T=(0,s.A)(['<ha-icon .icon="','"></ha-icon>'])),r.attributes.icon):(0,x.qy)(E||(E=(0,s.A)(['<ha-svg-icon .path="','"></ha-svg-icon>'])),D),(0,C.$O)(e.hass,t.stat_energy_from,null===(n=e.statsMetadata)||void 0===n?void 0:n[t.stat_energy_from]),e.hass.localize("ui.panel.config.energy.water.edit_water_source"),e._editSource,"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",e.hass.localize("ui.panel.config.energy.water.delete_water_source"),e._deleteSource,"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z")})),D,this._addSource,this.hass.localize("ui.panel.config.energy.water.add_water_source"))}},{kind:"method",key:"_addSource",value:function(){var e,t=this;(0,V.YX)(this,{water_sources:this.preferences.energy_sources.filter((function(e){return"water"===e.type})),saveCallback:(e=(0,o.A)((0,i.A)().mark((function e(n){return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete n.unit_of_measurement,e.next=3,t._savePreferences(Object.assign(Object.assign({},t.preferences),{},{energy_sources:t.preferences.energy_sources.concat(n)}));case 3:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})}},{kind:"method",key:"_editSource",value:function(e){var t,n,r=this,a=e.currentTarget.closest(".row").source;(0,V.YX)(this,{source:Object.assign({},a),metadata:null===(t=this.statsMetadata)||void 0===t?void 0:t[a.stat_energy_from],water_sources:this.preferences.energy_sources.filter((function(e){return"water"===e.type})),saveCallback:(n=(0,o.A)((0,i.A)().mark((function e(t){return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._savePreferences(Object.assign(Object.assign({},r.preferences),{},{energy_sources:r.preferences.energy_sources.map((function(e){return e===a?t:e}))}));case 2:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})})}},{kind:"method",key:"_deleteSource",value:(r=(0,o.A)((0,i.A)().mark((function e(t){var n;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget.closest(".row").source,e.next=3,(0,O.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.energy.delete_source")});case 3:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,this._savePreferences(Object.assign(Object.assign({},this.preferences),{},{energy_sources:this.preferences.energy_sources.filter((function(e){return e!==n}))}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),(0,O.showAlertDialog)(this,{title:"Failed to save config: ".concat(e.t0.message)});case 13:case"end":return e.stop()}}),e,this,[[5,10]])}))),function(e){return r.apply(this,arguments)})},{kind:"method",key:"_savePreferences",value:(n=(0,o.A)((0,i.A)().mark((function e(t){var n;return(0,i.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,H.WN)(this.hass,t);case 2:n=e.sent,(0,L.r)(this,"value-changed",{value:n});case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[z.RF,S.X]}}]}}),x.WF),r(),e.next=65;break;case 62:e.prev=62,e.t2=e.catch(0),r(e.t2);case 65:case"end":return e.stop()}}),e,null,[[0,62]])})));return function(t,n){return e.apply(this,arguments)}}())},39258:function(e,t,n){n.d(t,{X:function(){return i}});var r,a=n(64599),i=(0,n(15112).AH)(r||(r=(0,a.A)(["ha-card{height:100%}.card-header ha-svg-icon{height:32px;width:32px;margin-right:8px;margin-inline-end:8px;margin-inline-start:initial;direction:var(--direction)}h3{margin-top:24px;margin-bottom:4px}.row{display:flex;align-items:center;border-top:1px solid var(--divider-color);height:48px;box-sizing:border-box}.row ha-icon,.row ha-svg-icon,.row img{margin-right:16px;margin-inline-end:16px;margin-inline-start:initial;direction:var(--direction)}.row img{height:24px}.row .content{flex-grow:1;overflow:hidden;text-overflow:ellipsis}ha-icon-button{color:var(--secondary-text-color)}"])))},71919:function(e,t,n){n.d(t,{An:function(){return u},D0:function(){return a},YX:function(){return c},m5:function(){return i},se:function(){return o},xu:function(){return l},yH:function(){return s}});n(95737),n(26098),n(39790),n(66457),n(99019),n(96858);var r=n(34897),a=function(e,t){(0,r.r)(e,"show-dialog",{dialogTag:"dialog-energy-device-settings",dialogImport:function(){return Promise.all([n.e(94131),n.e(14121),n.e(33810),n.e(10963),n.e(40319),n.e(7726),n.e(3051),n.e(5300),n.e(55792),n.e(12675),n.e(94548),n.e(46413)]).then(n.bind(n,72137))},dialogParams:t})},i=function(e,t){(0,r.r)(e,"show-dialog",{dialogTag:"dialog-energy-battery-settings",dialogImport:function(){return Promise.all([n.e(94131),n.e(14121),n.e(33810),n.e(10963),n.e(40319),n.e(7726),n.e(55792),n.e(12675),n.e(69258)]).then(n.bind(n,41220))},dialogParams:t})},o=function(e,t){(0,r.r)(e,"show-dialog",{dialogTag:"dialog-energy-solar-settings",dialogImport:function(){return Promise.all([n.e(94131),n.e(14121),n.e(33810),n.e(10963),n.e(40319),n.e(7726),n.e(99196),n.e(3051),n.e(5300),n.e(55792),n.e(12675),n.e(24531)]).then(n.bind(n,65960))},dialogParams:t})},s=function(e,t){(0,r.r)(e,"show-dialog",{dialogTag:"dialog-energy-gas-settings",dialogImport:function(){return Promise.all([n.e(94131),n.e(14121),n.e(33810),n.e(10963),n.e(40319),n.e(7726),n.e(3051),n.e(5300),n.e(55792),n.e(12675),n.e(94548),n.e(85860)]).then(n.bind(n,64100))},dialogParams:t})},c=function(e,t){(0,r.r)(e,"show-dialog",{dialogTag:"dialog-energy-water-settings",dialogImport:function(){return Promise.all([n.e(94131),n.e(14121),n.e(33810),n.e(10963),n.e(40319),n.e(7726),n.e(3051),n.e(5300),n.e(55792),n.e(12675),n.e(94548),n.e(47226)]).then(n.bind(n,92874))},dialogParams:t})},l=function(e,t){(0,r.r)(e,"show-dialog",{dialogTag:"dialog-energy-grid-flow-settings",dialogImport:function(){return Promise.all([n.e(94131),n.e(14121),n.e(33810),n.e(10963),n.e(40319),n.e(7726),n.e(3051),n.e(5300),n.e(55792),n.e(12675),n.e(94548),n.e(4530)]).then(n.bind(n,92806))},dialogParams:Object.assign(Object.assign({},t),{},{direction:"from"})})},u=function(e,t){(0,r.r)(e,"show-dialog",{dialogTag:"dialog-energy-grid-flow-settings",dialogImport:function(){return Promise.all([n.e(94131),n.e(14121),n.e(33810),n.e(10963),n.e(40319),n.e(7726),n.e(3051),n.e(5300),n.e(55792),n.e(12675),n.e(94548),n.e(4530)]).then(n.bind(n,92806))},dialogParams:Object.assign(Object.assign({},t),{},{direction:"to"})})}},51842:function(e,t,n){n.d(t,{MR:function(){return r},QR:function(){return a},a_:function(){return i},bg:function(){return o}});n(81027),n(92765);var r=function(e){return"https://brands.home-assistant.io/".concat(e.brand?"brands/":"").concat(e.useFallback?"_/":"").concat(e.domain,"/").concat(e.darkOptimized?"dark_":"").concat(e.type,".png")},a=function(e){return"https://brands.home-assistant.io/hardware/".concat(e.category,"/").concat(e.darkOptimized?"dark_":"").concat(e.manufacturer).concat(e.model?"_".concat(e.model):"",".png")},i=function(e){return e.split("/")[4]},o=function(e){return e.startsWith("https://brands.home-assistant.io/")}},84976:function(e,t,n){n.d(t,{o:function(){return r}});n(81027),n(82386),n(36604);var r=function(e,t){return"https://".concat(e.config.version.includes("b")?"rc":e.config.version.includes("dev")?"next":"www",".home-assistant.io").concat(t)}}}]);
//# sourceMappingURL=19862.WPzOnBgbHpc.js.map