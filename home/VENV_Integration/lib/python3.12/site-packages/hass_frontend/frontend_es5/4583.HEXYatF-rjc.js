"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[4583],{20712:function(e,n,t){t.d(n,{E:function(){return d}});var i=t(64782),r=t(35806),a=t(71008),o=t(62193),s=t(2816),u=t(27927),c=t(35890),l=(t(81027),t(82386),t(95737),t(39790),t(66457),t(36604),t(253),t(4525),t(96858),t(29818)),d=function(e){var n=(0,u.A)(null,(function(e,n){var t=function(n){function t(){var n;(0,a.A)(this,t);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=(0,o.A)(this,t,[].concat(r)),e(n),n}return(0,s.A)(t,n),(0,r.A)(t)}(n);return{F:t,d:[{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:void 0},{kind:"field",key:"__unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,c.A)(t,"connectedCallback",this,3)([]),this.__checkSubscribed()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,c.A)(t,"disconnectedCallback",this,3)([]),this.__unsubs){for(;this.__unsubs.length;){var e=this.__unsubs.pop();e instanceof Promise?e.then((function(e){return e()})):e()}this.__unsubs=void 0}}},{kind:"method",key:"updated",value:function(e){if((0,c.A)(t,"updated",this,3)([e]),e.has("hass"))this.__checkSubscribed();else if(this.hassSubscribeRequiredHostProps){var n,r=(0,i.A)(e.keys());try{for(r.s();!(n=r.n()).done;){var a=n.value;if(this.hassSubscribeRequiredHostProps.includes(a))return void this.__checkSubscribed()}}catch(o){r.e(o)}finally{r.f()}}}},{kind:"method",key:"hassSubscribe",value:function(){return[]}},{kind:"method",key:"__checkSubscribed",value:function(){var e,n=this;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(e=this.hassSubscribeRequiredHostProps)&&void 0!==e&&e.some((function(e){return void 0===n[e]}))||(this.__unsubs=this.hassSubscribe())}}]}}),e);return n}},42681:function(e,n,t){var i=t(22858).A,r=t(33994).A;t.a(e,function(){var e=i(r().mark((function e(i,a){var o,s,u,c,l,d,h,f,v,g,_,p,k,y,b,m,x,A,w,M,z,S,F,H,D;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.r(n),o=t(64599),s=t(35806),u=t(71008),c=t(62193),l=t(2816),d=t(27927),h=t(81027),f=t(97741),v=t(16891),t(7986),g=t(15112),_=t(29818),p=t(63073),t(13082),k=t(43106),t(88400),y=t(47076),b=t(4826),m=t(20712),x=t(57540),A=t(7934),!(w=i([k,y,x])).then){e.next=34;break}return e.next=30,w;case 30:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=35;break;case 34:e.t0=w;case 35:M=e.t0,k=M[0],y=M[1],x=M[2],D={maximumFractionDigits:0},(0,d.A)([(0,_.EM)("hui-energy-solar-consumed-gauge-card")],(function(e,n){var t=function(n){function t(){var n;(0,u.A)(this,t);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=(0,c.A)(this,t,[].concat(r)),e(n),n}return(0,l.A)(t,n),(0,s.A)(t)}(n);return{F:t,d:[{kind:"field",decorators:[(0,_.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,_.wk)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,_.wk)()],key:"_data",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:function(){return["_config"]}},{kind:"method",key:"hassSubscribe",value:function(){var e,n=this;return[(0,y.tb)(this.hass,{key:null===(e=this._config)||void 0===e?void 0:e.collection_key}).subscribe((function(e){n._data=e}))]}},{kind:"method",key:"getCardSize",value:function(){return 4}},{kind:"method",key:"setConfig",value:function(e){this._config=e}},{kind:"method",key:"shouldUpdate",value:function(e){return(0,A.xP)(this,e)||e.size>1||!e.has("hass")}},{kind:"method",key:"render",value:function(){if(!this._config||!this.hass)return g.s6;if(!this._data)return(0,g.qy)(z||(z=(0,o.A)(["",""])),this.hass.localize("ui.panel.lovelace.cards.energy.loading"));var e=this._data.prefs,n=(0,y.E$)(e);if(!n.solar)return g.s6;var t,i=(0,b.gF)(this._data.stats,n.solar.map((function(e){return e.stat_energy_from})))||0,r=(0,b.gF)(this._data.stats,n.grid[0].flow_to.map((function(e){return e.stat_energy_to})));null!==r&&i&&(t=Math.max(0,i-r)/i*100);return(0,g.qy)(S||(S=(0,o.A)([" <ha-card> "," </ha-card> "])),void 0!==t?(0,g.qy)(F||(F=(0,o.A)([' <ha-svg-icon id="info" .path="','"></ha-svg-icon> <simple-tooltip animation-delay="0" for="info" position="left"> <span> '," <br><br> ",' </span> </simple-tooltip> <ha-gauge min="0" max="100" .value="','" label="%" .formatOptions="','" .locale="','" style="','"></ha-gauge> <div class="name"> '," </div> "])),"M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.card_indicates_solar_energy_used"),this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.card_indicates_solar_energy_used_charge_home_bat"),t,D,this.hass.locale,(0,p.W)({"--gauge-color":this._computeSeverity(t)}),this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.self_consumed_solar_energy")):0===i?this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.not_produced_solar_energy"):this.hass.localize("ui.panel.lovelace.cards.energy.solar_consumed_gauge.self_consumed_solar_could_not_calc"))}},{kind:"method",key:"_computeSeverity",value:function(e){return e>75?x.severityMap.green:e<50?x.severityMap.yellow:x.severityMap.normal}},{kind:"get",static:!0,key:"styles",value:function(){return(0,g.AH)(H||(H=(0,o.A)(["ha-card{height:100%;overflow:hidden;padding:16px;display:flex;align-items:center;justify-content:center;flex-direction:column;box-sizing:border-box}ha-gauge{width:100%;max-width:250px;direction:ltr}.name{text-align:center;line-height:initial;color:var(--primary-text-color);width:100%;font-size:15px;margin-top:8px}ha-svg-icon{position:absolute;right:4px;inset-inline-end:4px;inset-inline-start:initial;top:4px;color:var(--secondary-text-color)}simple-tooltip>span{font-size:12px;line-height:12px}simple-tooltip{width:80%;max-width:250px;top:8px!important}"])))}}]}}),(0,m.E)(g.WF)),a(),e.next=48;break;case 45:e.prev=45,e.t2=e.catch(0),a(e.t2);case 48:case"end":return e.stop()}}),e,null,[[0,45]])})));return function(n,t){return e.apply(this,arguments)}}())},46091:function(e,n,t){t.d(n,{f:function(){return a}});var i=t(76270),r=t(21710);function a(e,n,t){var a=(0,r.a)(e,null==t?void 0:t.in);return isNaN(n)?(0,i.w)((null==t?void 0:t.in)||e,NaN):n?(a.setDate(a.getDate()+n),a):a}},97405:function(e,n,t){t.d(n,{L:function(){return a}});var i=t(34542),r=t(40086);function a(e,n,t){return(0,i.A)(e,n*r.s0,t)}},34542:function(e,n,t){t.d(n,{A:function(){return a}});var i=t(76270),r=t(21710);function a(e,n,t){return(0,i.w)((null==t?void 0:t.in)||e,+(0,r.a)(e)+n)}},56235:function(e,n,t){t.d(n,{P:function(){return a}});var i=t(76270),r=t(21710);function a(e,n,t){var a=(0,r.a)(e,null==t?void 0:t.in);if(isNaN(n))return(0,i.w)((null==t?void 0:t.in)||e,NaN);if(!n)return a;var o=a.getDate(),s=(0,i.w)((null==t?void 0:t.in)||e,a.getTime());return s.setMonth(a.getMonth()+n+1,0),o>=s.getDate()?s:(a.setFullYear(s.getFullYear(),s.getMonth(),o),a)}},73583:function(e,n,t){t.d(n,{z:function(){return r}});var i=t(21710);function r(e,n){var t=+(0,i.a)(e)-+(0,i.a)(n);return t<0?-1:t>0?1:t}},7792:function(e,n,t){t.d(n,{W:function(){return u}});var i=t(658),r=t(52142),a=t(73583);function o(e,n,t){var a=(0,r.x)(null==t?void 0:t.in,e,n),o=(0,i.A)(a,2),s=o[0],u=o[1];return 12*(s.getFullYear()-u.getFullYear())+(s.getMonth()-u.getMonth())}var s=t(76476);function u(e,n,t){var u=(0,r.x)(null==t?void 0:t.in,e,e,n),c=(0,i.A)(u,3),l=c[0],d=c[1],h=c[2],f=(0,a.z)(d,h),v=Math.abs(o(d,h));if(v<1)return 0;1===d.getMonth()&&d.getDate()>27&&d.setDate(30),d.setMonth(d.getMonth()-f*v);var g=(0,a.z)(d,h)===-f;(0,s.c)(l)&&1===v&&1===(0,a.z)(l,h)&&(g=!1);var _=f*(v-+g);return 0===_?0:_}},31077:function(e,n,t){t.d(n,{D:function(){return r}});var i=t(21710);function r(e,n){var t=(0,i.a)(e,null==n?void 0:n.in);return t.setHours(23,59,59,999),t}},4537:function(e,n,t){t.d(n,{p:function(){return r}});var i=t(21710);function r(e,n){var t=(0,i.a)(e,null==n?void 0:n.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}},40102:function(e,n,t){t.d(n,{e:function(){return r}});var i=t(21710);function r(e,n){return 1===(0,i.a)(e,null==n?void 0:n.in).getDate()}},76476:function(e,n,t){t.d(n,{c:function(){return o}});var i=t(31077),r=t(4537),a=t(21710);function o(e,n){var t=(0,a.a)(e,null==n?void 0:n.in);return+(0,i.D)(t,n)==+(0,r.p)(t,n)}}}]);
//# sourceMappingURL=4583.HEXYatF-rjc.js.map