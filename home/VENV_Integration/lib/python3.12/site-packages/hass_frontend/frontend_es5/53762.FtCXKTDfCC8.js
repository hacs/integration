"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[53762],{66018:function(e,t,n){var i=n(22858).A,a=n(33994).A;n.a(e,function(){var e=i(a().mark((function e(t,i){var r,s,o,c,l,d,h,u,v,f,y,k,g,m,p,_,b,M,w,H,x,A,V,q,j,C;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n(33994),s=n(22858),o=n(64599),c=n(35806),l=n(71008),d=n(62193),h=n(2816),u=n(27927),v=n(81027),f=n(95737),y=n(97099),k=n(26098),g=n(39790),m=n(7760),p=n(99019),_=n(15129),b=n(96858),M=n(15112),w=n(29818),H=n(66066),x=n(34897),A=n(94548),n(28066),n(24260),!(V=t([A])).then){e.next=42;break}return e.next=38,V;case 38:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=43;break;case 42:e.t0=V;case 43:A=e.t0[0],(0,u.A)([(0,w.EM)("hui-entity-editor")],(function(e,t){var n,i=function(t){function n(){var t;(0,l.A)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=(0,d.A)(this,n,[].concat(a)),e(t),t}return(0,h.A)(n,t),(0,c.A)(n)}(t);return{F:i,d:[{kind:"field",decorators:[(0,w.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,w.MZ)({attribute:!1})],key:"entities",value:void 0},{kind:"field",decorators:[(0,w.MZ)({attribute:!1})],key:"entityFilter",value:void 0},{kind:"field",decorators:[(0,w.MZ)()],key:"label",value:void 0},{kind:"field",key:"_entityKeys",value:function(){return new WeakMap}},{kind:"method",key:"_getKey",value:function(e){return this._entityKeys.has(e)||this._entityKeys.set(e,Math.random().toString()),this._entityKeys.get(e)}},{kind:"method",key:"render",value:function(){var e=this;return this.entities?(0,M.qy)(q||(q=(0,o.A)([" <h3> ",' </h3> <ha-sortable handle-selector=".handle" @item-moved="','"> <div class="entities"> ',' </div> </ha-sortable> <ha-entity-picker class="add-entity" .hass="','" .entityFilter="','" @value-changed="','"></ha-entity-picker> '])),this.label||this.hass.localize("ui.panel.lovelace.editor.card.generic.entities")+" ("+this.hass.localize("ui.panel.lovelace.editor.card.config.required")+")",this._entityMoved,(0,H.u)(this.entities,(function(t){return e._getKey(t)}),(function(t,n){return(0,M.qy)(j||(j=(0,o.A)([' <div class="entity" data-entity-id="','"> <div class="handle"> <ha-svg-icon .path="','"></ha-svg-icon> </div> <ha-entity-picker .hass="','" .value="','" .index="','" .entityFilter="','" @value-changed="','" allow-custom-entity></ha-entity-picker> </div> '])),t.entity,"M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z",e.hass,t.entity,n,e.entityFilter,e._valueChanged)})),this.hass,this.entityFilter,this._addEntity):M.s6}},{kind:"method",key:"_addEntity",value:(n=(0,s.A)((0,r.A)().mark((function e(t){var n,i;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(n=t.detail.value)){e.next=3;break}return e.abrupt("return");case 3:i=this.entities.concat({entity:n}),t.target.value="",(0,x.r)(this,"entities-changed",{entities:i});case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{kind:"method",key:"_entityMoved",value:function(e){e.stopPropagation();var t=e.detail,n=t.oldIndex,i=t.newIndex,a=this.entities.concat();a.splice(i,0,a.splice(n,1)[0]),(0,x.r)(this,"entities-changed",{entities:a})}},{kind:"method",key:"_valueChanged",value:function(e){var t=e.detail.value,n=e.target.index,i=this.entities.concat();""===t||void 0===t?i.splice(n,1):i[n]=Object.assign(Object.assign({},i[n]),{},{entity:t}),(0,x.r)(this,"entities-changed",{entities:i})}},{kind:"get",static:!0,key:"styles",value:function(){return(0,M.AH)(C||(C=(0,o.A)(["ha-entity-picker{margin-top:8px}.add-entity{display:block;margin-left:31px;margin-inline-start:31px;margin-inline-end:initial;direction:var(--direction)}.entity{display:flex;align-items:center}.entity .handle{padding-right:8px;cursor:move;cursor:grab;padding-inline-end:8px;padding-inline-start:initial;direction:var(--direction)}.entity .handle>*{pointer-events:none}.entity ha-entity-picker{flex-grow:1}"])))}}]}}),M.WF),i(),e.next=52;break;case 49:e.prev=49,e.t2=e.catch(0),i(e.t2);case 52:case"end":return e.stop()}}),e,null,[[0,49]])})));return function(t,n){return e.apply(this,arguments)}}())},45003:function(e,t,n){n.d(t,{j:function(){return i}});var i=["relative","total","date","time","datetime"]},53762:function(e,t,n){var i=n(22858).A,a=n(33994).A;n.a(e,function(){var e=i(a().mark((function e(i,r){var s,o,c,l,d,h,u,v,f,y,k,g,m,p,_,b,M,w,H,x,A,V;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.r(t),n.d(t,{HuiGlanceCardEditor:function(){return V}}),s=n(64599),o=n(35806),c=n(71008),l=n(62193),d=n(2816),h=n(27927),u=n(81027),v=n(50693),f=n(26098),y=n(15112),k=n(29818),g=n(66419),m=n(34897),n(36185),p=n(66018),_=n(66028),b=n(56124),M=n(93161),!(w=i([p])).then){e.next=32;break}return e.next=28,w;case 28:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=33;break;case 32:e.t0=w;case 33:p=e.t0[0],x=(0,g.kp)(b.H,(0,g.Ik)({title:(0,g.lq)((0,g.KC)([(0,g.Yj)(),(0,g.ai)()])),theme:(0,g.lq)((0,g.Yj)()),columns:(0,g.lq)((0,g.ai)()),show_name:(0,g.lq)((0,g.zM)()),show_state:(0,g.lq)((0,g.zM)()),show_icon:(0,g.lq)((0,g.zM)()),state_color:(0,g.lq)((0,g.zM)()),entities:(0,g.YO)(M.l)})),A=[{name:"title",selector:{text:{}}},{name:"",type:"grid",schema:[{name:"columns",selector:{number:{min:1,mode:"box"}}},{name:"theme",selector:{theme:{}}}]},{name:"",type:"grid",column_min_width:"100px",schema:[{name:"show_name",selector:{boolean:{}}},{name:"show_icon",selector:{boolean:{}}},{name:"show_state",selector:{boolean:{}}}]},{name:"state_color",selector:{boolean:{}}}],V=(0,h.A)([(0,k.EM)("hui-glance-card-editor")],(function(e,t){var n=function(t){function n(){var t;(0,c.A)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=(0,l.A)(this,n,[].concat(a)),e(t),t}return(0,d.A)(n,t),(0,o.A)(n)}(t);return{F:n,d:[{kind:"field",decorators:[(0,k.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,k.wk)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,k.wk)()],key:"_configEntities",value:void 0},{kind:"method",key:"setConfig",value:function(e){(0,g.vA)(e,x),this._config=e,this._configEntities=(0,_._)(e.entities)}},{kind:"method",key:"render",value:function(){if(!this.hass||!this._config)return y.s6;var e=Object.assign({show_name:!0,show_icon:!0,show_state:!0},this._config);return(0,y.qy)(H||(H=(0,s.A)([' <ha-form .hass="','" .data="','" .schema="','" .computeLabel="','" @value-changed="','"></ha-form> <hui-entity-editor .hass="','" .entities="','" @entities-changed="','"></hui-entity-editor> '])),this.hass,e,A,this._computeLabelCallback,this._valueChanged,this.hass,this._configEntities,this._entitiesChanged)}},{kind:"method",key:"_valueChanged",value:function(e){var t=e.detail.value;(0,m.r)(this,"config-changed",{config:t})}},{kind:"method",key:"_entitiesChanged",value:function(e){var t=this._config;t=Object.assign(Object.assign({},t),{},{entities:e.detail.entities}),this._configEntities=(0,_._)(this._config.entities),(0,m.r)(this,"config-changed",{config:t})}},{kind:"field",key:"_computeLabelCallback",value:function(){var e=this;return function(t){switch(t.name){case"theme":return"".concat(e.hass.localize("ui.panel.lovelace.editor.card.generic.theme")," (").concat(e.hass.localize("ui.panel.lovelace.editor.card.config.optional"),")");case"columns":return e.hass.localize("ui.panel.lovelace.editor.card.glance.".concat(t.name));default:return e.hass.localize("ui.panel.lovelace.editor.card.generic.".concat(t.name))}}}}]}}),y.WF),r(),e.next=43;break;case 40:e.prev=40,e.t2=e.catch(0),r(e.t2);case 43:case"end":return e.stop()}}),e,null,[[0,40]])})));return function(t,n){return e.apply(this,arguments)}}())},93161:function(e,t,n){n.d(t,{l:function(){return s}});var i=n(66419),a=n(45003),r=n(76914),s=(0,i.KC)([(0,i.Ik)({entity:(0,i.Yj)(),name:(0,i.lq)((0,i.Yj)()),icon:(0,i.lq)((0,i.Yj)()),image:(0,i.lq)((0,i.Yj)()),secondary_info:(0,i.lq)((0,i.Yj)()),format:(0,i.lq)((0,i.vP)(a.j)),state_color:(0,i.lq)((0,i.zM)()),tap_action:(0,i.lq)(r.k),hold_action:(0,i.lq)(r.k),double_tap_action:(0,i.lq)(r.k)}),(0,i.Yj)()])}}]);
//# sourceMappingURL=53762.FtCXKTDfCC8.js.map