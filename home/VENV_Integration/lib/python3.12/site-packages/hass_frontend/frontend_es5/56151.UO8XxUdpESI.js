"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[56151],{54494:function(e,t,i){var n=i(35806),s=i(71008),r=i(62193),a=i(2816),o=i(27927),l=i(35890),h=(i(71522),i(71499),i(81027),i(39790),i(253),i(54846),i(66555),i(15112)),d=i(29818),u=i(34897),f=(i(88400),i(32689)),c=i(34308),v=i(17678);(0,o.A)([(0,d.EM)("hui-badge")],(function(e,t){var i=function(t){function i(){var t;(0,s.A)(this,i);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=(0,r.A)(this,i,[].concat(a)),e(t),t}return(0,a.A)(i,t),(0,n.A)(i)}(t);return{F:i,d:[{kind:"field",decorators:[(0,d.MZ)({type:Boolean})],key:"preview",value:function(){return!1}},{kind:"field",decorators:[(0,d.MZ)({attribute:!1})],key:"config",value:void 0},{kind:"field",decorators:[(0,d.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"_elementConfig",value:void 0},{kind:"method",key:"load",value:function(){if(!this.config)throw new Error("Cannot build badge without config");this._loadElement(this.config)}},{kind:"field",key:"_element",value:void 0},{kind:"field",key:"_listeners",value:function(){return[]}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"disconnectedCallback",value:function(){(0,l.A)(i,"disconnectedCallback",this,3)([]),this._clearMediaQueries()}},{kind:"method",key:"connectedCallback",value:function(){(0,l.A)(i,"connectedCallback",this,3)([]),this._listenMediaQueries(),this._updateVisibility()}},{kind:"method",key:"_updateElement",value:function(e){this._element&&(this._element.setConfig(e),this._elementConfig=e,(0,u.r)(this,"badge-updated"))}},{kind:"method",key:"_loadElement",value:function(e){var t=this;for(this._element=(0,c.YH)(e),this._elementConfig=e,this.hass&&(this._element.hass=this.hass),this._element.addEventListener("ll-upgrade",(function(e){e.stopPropagation(),t.hass&&(t._element.hass=t.hass),(0,u.r)(t,"badge-updated")}),{once:!0}),this._element.addEventListener("ll-rebuild",(function(i){i.stopPropagation(),t._loadElement(e),(0,u.r)(t,"badge-updated")}),{once:!0});this.lastChild;)this.removeChild(this.lastChild);this._updateVisibility()}},{kind:"method",key:"willUpdate",value:function(e){(0,l.A)(i,"willUpdate",this,3)([e]),this._element||this.load()}},{kind:"method",key:"update",value:function(e){if((0,l.A)(i,"update",this,3)([e]),this._element){if(e.has("config")){var t,n=this._elementConfig;if(this.config!==n&&this.config)(null===(t=this.config)||void 0===t?void 0:t.type)!==(null==n?void 0:n.type)?this._loadElement(this.config):this._updateElement(this.config)}if(e.has("hass"))try{this.hass&&(this._element.hass=this.hass)}catch(s){this._loadElement((0,v.G9)(s.message,null))}}(e.has("hass")||e.has("preview"))&&this._updateVisibility()}},{kind:"method",key:"_clearMediaQueries",value:function(){this._listeners.forEach((function(e){return e()})),this._listeners=[]}},{kind:"method",key:"_listenMediaQueries",value:function(){var e,t=this;if(this._clearMediaQueries(),null!==(e=this.config)&&void 0!==e&&e.visibility){var i=this.config.visibility,n=1===i.length&&"screen"===i[0].condition&&!!i[0].media_query;this._listeners=(0,f.CZ)(this.config.visibility,(function(e){t._updateVisibility(n&&e)}))}}},{kind:"method",key:"_updateVisibility",value:function(e){var t;if(this._element&&this.hass)if(this._element.hidden)this._setElementVisibility(!1);else{var i=e||this.preview||!(null!==(t=this.config)&&void 0!==t&&t.visibility)||(0,f.XH)(this.config.visibility,this.hass);this._setElementVisibility(i)}}},{kind:"method",key:"_setElementVisibility",value:function(e){this._element&&(this.hidden!==!e&&(this.style.setProperty("display",e?"":"none"),this.toggleAttribute("hidden",!e),(0,u.r)(this,"badge-visibility-changed",{value:e})),!e&&this._element.parentElement?this.removeChild(this._element):e&&!this._element.parentElement&&this.appendChild(this._element))}}]}}),h.mN)},56151:function(e,t,i){i.r(t),i.d(t,{HuiEntityFilterBadge:function(){return _}});var n=i(64782),s=i(91001),r=i(35806),a=i(71008),o=i(62193),l=i(2816),h=i(27927),d=i(35890),u=(i(71499),i(81027),i(13025),i(97741),i(89655),i(26098),i(39790),i(253),i(5186),i(2075),i(16891),i(4525),i(15112)),f=i(29818),c=i(9627),v=i(62241),y=i(32689),_=(i(54494),(0,h.A)([(0,f.EM)("hui-entity-filter-badge")],(function(e,t){var i=function(t){function i(){var t;(0,a.A)(this,i);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=(0,o.A)(this,i,[].concat(s)),e(t),t}return(0,l.A)(i,t),(0,r.A)(i)}(t);return{F:i,d:[{kind:"field",decorators:[(0,f.MZ)({attribute:!1})],key:"preview",value:function(){return!1}},{kind:"field",decorators:[(0,f.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,f.wk)()],key:"_config",value:void 0},{kind:"field",key:"_elements",value:void 0},{kind:"field",key:"_configEntities",value:void 0},{kind:"field",key:"_oldEntities",value:void 0},{kind:"method",key:"setConfig",value:function(e){if(!e.entities.length||!Array.isArray(e.entities))throw new Error("Entities must be specified");if(!(e.conditions&&Array.isArray(e.conditions)||e.state_filter&&Array.isArray(e.state_filter)||e.entities.every((function(e){return"object"===(0,s.A)(e)&&e.state_filter&&Array.isArray(e.state_filter)}))))throw new Error("Incorrect filter config");for(;this.lastChild;)this.removeChild(this.lastChild);this._elements=void 0,this._configEntities=(0,v.L)(e.entities),this._oldEntities=void 0,this._config=e}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"shouldUpdate",value:function(e){return!!(e.has("_config")||e.has("hass")&&this.haveEntitiesChanged(e.get("hass")))}},{kind:"method",key:"update",value:function(e){var t=this;if((0,d.A)(i,"update",this,3)([e]),this.hass&&this._configEntities){if(this._elements){var s,r=(0,n.A)(this._elements);try{for(r.s();!(s=r.n()).done;){s.value.hass=this.hass}}catch(m){r.e(m)}finally{r.f()}}var a=this._configEntities.filter((function(e){var i,n,s=t.hass.states[e.entity];if(!s)return!1;var r=null!==(i=e.conditions)&&void 0!==i?i:t._config.conditions;if(r){var a=r.map((function(t){return(0,y.lB)(t,e.entity)}));return(0,y.XH)(a,t.hass)}var o=null!==(n=e.state_filter)&&void 0!==n?n:t._config.state_filter;return!!o&&o.some((function(e){return(0,c.J)(s,e)}))}));if(0===a.length)return this.style.display="none",void(this._oldEntities=a);if(!(this._oldEntities&&a.length===this._oldEntities.length&&a.every((function(e,i){return e===t._oldEntities[i]})))){this._elements=[];var o,l=(0,n.A)(a);try{for(l.s();!(o=l.n()).done;){var h=o.value,u=document.createElement("hui-badge");u.hass=this.hass,u.preview=this.preview,u.config=Object.assign({type:"entity"},h),u.load(),this._elements.push(u)}}catch(m){l.e(m)}finally{l.f()}this._oldEntities=a}if(this._elements){for(;this.lastChild;)this.removeChild(this.lastChild);var f,v=(0,n.A)(this._elements);try{for(v.s();!(f=v.n()).done;){var _=f.value;this.appendChild(_)}}catch(m){v.e(m)}finally{v.f()}this.style.display="flex",this.style.flexWrap="wrap",this.style.justifyContent="center",this.style.gap="8px"}}}},{kind:"method",key:"haveEntitiesChanged",value:function(e){var t;if(!e)return!0;if(!this._oldEntities||this.hass.localize!==e.localize)return!0;var i,s=(0,n.A)(this._configEntities);try{for(s.s();!(i=s.n()).done;){var r=i.value;if(this.hass.states[r.entity]!==e.states[r.entity])return!0;if(r.conditions){var a,o=(0,y.Wx)(r.conditions),l=(0,n.A)(o);try{for(l.s();!(a=l.n()).done;){var h=a.value;if(this.hass.states[h]!==e.states[h])return!0}}catch(_){l.e(_)}finally{l.f()}}}}catch(_){s.e(_)}finally{s.f()}if(null!==(t=this._config)&&void 0!==t&&t.conditions){var d,u,f=(0,y.Wx)(null===(d=this._config)||void 0===d?void 0:d.conditions),c=(0,n.A)(f);try{for(c.s();!(u=c.n()).done;){var v=u.value;if(this.hass.states[v]!==e.states[v])return!0}}catch(_){c.e(_)}finally{c.f()}}return!1}}]}}),u.mN))},9627:function(e,t,i){i.d(t,{J:function(){return s}});var n=i(91001),s=(i(82386),i(97741),i(72735),i(29193),i(66385),i(13448),i(36016),i(64646),i(98185),i(7760),i(36604),i(79641),i(16891),function(e,t){var i,s,r;if("object"===(0,n.A)(t)?(i=t.operator,s=t.value,r=t.attribute?e.attributes[t.attribute]:e.state):(i="==",s=t,r=e.state),"=="===i||"!="===i){var a="number"==typeof s||"string"==typeof s&&s.trim()&&!isNaN(Number(s)),o="number"==typeof r||"string"==typeof r&&r.trim()&&!isNaN(Number(r));a&&o&&(s=Number(s),r=Number(r))}switch(i){case"==":return r===s;case"<=":return r<=s;case"<":return r<s;case">=":return r>=s;case">":return r>s;case"!=":return r!==s;case"in":return!(!Array.isArray(s)&&"string"!=typeof s)&&(Array.isArray(s)&&(s=s.map((function(e){return"".concat(e)}))),s.includes(r));case"not in":return!(!Array.isArray(s)&&"string"!=typeof s)&&(Array.isArray(s)&&(s=s.map((function(e){return"".concat(e)}))),!s.includes(r));case"regex":return"string"==typeof s&&(null!==r&&"object"===(0,n.A)(r)?RegExp(s).test(JSON.stringify(r)):RegExp(s).test(r));default:return!1}})}}]);
//# sourceMappingURL=56151.UO8XxUdpESI.js.map