"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[58649],{17444:function(t,e,i){i.d(e,{o:function(){return s}});i(81027),i(95737),i(33231),i(33822),i(39790),i(99019),i(253),i(54846),i(66555),i(96858);var n=i(42572),r=i.n(n),a=i(52624),o=!1;r()._pipeline.generator.register("default",(function(t){t.sort((function(t,e){return e.population-t.population}));for(var e,i=t[0],n=new Map,r=function(t,e){return n.has(t)||n.set(t,(0,a.$W)(i.rgb,e)),n.get(t)>4.5},s=1;s<t.length&&void 0===e;s++){if(r(t[s].hex,t[s].rgb)){o,e=t[s].rgb;break}var c=t[s];o;for(var d=s+1;d<t.length;d++){var u=t[d],h=Math.abs(c.rgb[0]-u.rgb[0])+Math.abs(c.rgb[1]-u.rgb[1])+Math.abs(c.rgb[2]-u.rgb[2]);if(!(h>150)&&r(u.hex,u.rgb)){o,e=u.rgb;break}}}return void 0===e&&(e=i.getYiq()<200?[255,255,255]:[0,0,0]),{foreground:new i.constructor(e,0),background:i}}));var s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return new(r())(t,{colorCount:e}).getPalette().then((function(t){var e=t.foreground;return{background:t.background,foreground:e}}))}},45033:function(t,e,i){i.d(e,{O:function(){return r}});i(95737),i(39790),i(66457),i(99019),i(96858);var n=i(34897),r=function(t,e){(0,n.r)(t,"show-dialog",{dialogTag:"dialog-media-player-browse",dialogImport:function(){return Promise.all([i.e(94131),i.e(14121),i.e(33810),i.e(63893),i.e(10963),i.e(40319),i.e(7726),i.e(23766),i.e(14691),i.e(29654),i.e(31572),i.e(24500),i.e(7986),i.e(71580),i.e(89059),i.e(99967),i.e(20144),i.e(55792),i.e(12675),i.e(68236),i.e(94548),i.e(94872),i.e(14069),i.e(81801),i.e(18191)]).then(i.bind(i,29607))},dialogParams:e})}},58649:function(t,e,i){var n=i(22858).A,r=i(33994).A;i.a(t,function(){var t=n(r().mark((function t(n,a){var o,s,c,d,u,h,l,g,p,v,f,m,_,k,b,y,w,x,A,C,q,O,I,z,M,j,B,H,P,W,E,S,U,L,N,V,Z,$,R,F,X,T,K,D,Q,Y,G,J,tt,et,it;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.r(e),i.d(e,{HuiMediaControlCard:function(){return it}}),o=i(64599),s=i(33994),c=i(22858),d=i(35806),u=i(71008),h=i(62193),l=i(2816),g=i(27927),p=i(35890),v=i(34597),f=i(71499),m=i(81027),_=i(95737),k=i(97741),b=i(50693),y=i(39790),w=i(66457),x=i(99019),A=i(16891),C=i(96858),q=i(46072),O=i(15112),I=i(29818),z=i(85323),M=i(63073),j=i(38962),B=i(34897),H=i(19244),P=i(42496),W=i(17444),E=i(46875),S=i(18409),i(13082),i(28066),i(70857),U=i(45033),L=i(9883),N=i(54098),V=i(18102),Z=i(7934),i(8553),$=i(46645),!(R=n([v,q])).then){t.next=63;break}return t.next=59,R;case 59:t.t1=t.sent,t.t0=(0,t.t1)(),t.next=64;break;case 63:t.t0=R;case 64:F=t.t0,v=F[0],q=F[1],it=(0,g.A)([(0,I.EM)("hui-media-control-card")],(function(t,e){var n,r,a,g=function(e){function i(){var e;(0,u.A)(this,i);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=(0,h.A)(this,i,[].concat(r)),t(e),e}return(0,l.A)(i,e),(0,d.A)(i)}(e);return{F:g,d:[{kind:"method",static:!0,key:"getConfigElement",value:(a=(0,c.A)((0,s.A)().mark((function t(){return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([i.e(94131),i.e(40319),i.e(7726),i.e(14691),i.e(55792),i.e(94548),i.e(91976)]).then(i.bind(i,74894));case 2:return t.abrupt("return",document.createElement("hui-media-control-card-editor"));case 3:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{kind:"method",static:!0,key:"getStubConfig",value:function(t,e,i){return{type:"media-control",entity:(0,V.B)(t,1,e,i,["media_player"])[0]||""}}},{kind:"field",decorators:[(0,I.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,I.wk)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,I.wk)()],key:"_foregroundColor",value:void 0},{kind:"field",decorators:[(0,I.wk)()],key:"_backgroundColor",value:void 0},{kind:"field",decorators:[(0,I.wk)()],key:"_narrow",value:function(){return!1}},{kind:"field",decorators:[(0,I.wk)()],key:"_veryNarrow",value:function(){return!1}},{kind:"field",decorators:[(0,I.wk)()],key:"_cardHeight",value:function(){return 0}},{kind:"field",decorators:[(0,I.P)("mwc-linear-progress")],key:"_progressBar",value:void 0},{kind:"field",decorators:[(0,I.wk)()],key:"_marqueeActive",value:function(){return!1}},{kind:"field",key:"_progressInterval",value:void 0},{kind:"field",key:"_resizeObserver",value:void 0},{kind:"method",key:"getCardSize",value:function(){return 3}},{kind:"method",key:"setConfig",value:function(t){var e=this;if(!t.entity||"media_player"!==t.entity.split(".")[0])throw new Error("Specify an entity from within the media_player domain");this._config=t,this.updateComplete.then((function(){return e._measureCard()}))}},{kind:"method",key:"connectedCallback",value:function(){var t=this;if((0,p.A)(g,"connectedCallback",this,3)([]),this.updateComplete.then((function(){return t._attachObserver()})),this.hass&&this._config){var e=this._stateObj;e&&!this._progressInterval&&this._showProgressBar&&"playing"===e.state&&(this._progressInterval=window.setInterval((function(){return t._updateProgressBar()}),1e3))}}},{kind:"method",key:"disconnectedCallback",value:function(){(0,p.A)(g,"disconnectedCallback",this,3)([]),this._progressInterval&&(clearInterval(this._progressInterval),this._progressInterval=void 0),this._resizeObserver&&this._resizeObserver.disconnect()}},{kind:"method",key:"render",value:function(){var t=this;if(!this.hass||!this._config)return O.s6;var e=this._stateObj;if(!e)return(0,O.qy)(X||(X=(0,o.A)([" <hui-warning> "," </hui-warning> "])),(0,$.j)(this.hass,this._config.entity));var i={"background-image":this._image?"url(".concat(this.hass.hassUrl(this._image),")"):"none",width:"".concat(this._cardHeight,"px"),"background-color":this._backgroundColor||""},n={"background-image":"linear-gradient(to right, ".concat(this._backgroundColor,", ").concat(this._backgroundColor+"00",")"),width:"".concat(this._cardHeight,"px")},r=e.state,a=!(0,E.a)(e)&&!(0,L.g0)(r),s=(0,L.g0)(r)||a&&!(0,P.$)(e,N.vj.TURN_ON),c=!this._image,d=(0,N.Un)(e,!1),u=d&&(!this._veryNarrow||a||"idle"===r||"on"===r),h=(0,N.mm)(e),l=(0,N.HN)(e.attributes.media_title);return(0,O.qy)(T||(T=(0,o.A)([' <ha-card> <div class="background ','"> <div class="color-block" style="','"></div> <div class="no-img" style="','"></div> <div class="image" style="','"></div> ',' </div> <div class="player ','" style="','"> <div class="top-info"> <div class="icon-name"> <ha-state-icon class="icon" .stateObj="','" .hass="','"></ha-state-icon> <div> ',' </div> </div> <div> <ha-icon-button .path="','" .label="','" class="more-info" @click="','"></ha-icon-button> </div> </div> '," </div> </ha-card> "])),(0,z.H)({"no-image":c,off:a||s,unavailable:s}),(0,M.W)({"background-color":this._backgroundColor||""}),(0,M.W)({"background-color":this._backgroundColor||""}),(0,M.W)(i),c?"":(0,O.qy)(K||(K=(0,o.A)([' <div class="color-gradient" style="','"></div> '])),(0,M.W)(n)),(0,z.H)({"no-image":c,narrow:this._narrow&&!this._veryNarrow,off:a||s,"no-progress":this._veryNarrow||!this._showProgressBar,"no-controls":!u}),(0,M.W)({color:this._foregroundColor||""}),e,this.hass,this._config.name||(0,H.u)(this.hass.states[this._config.entity]),"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",this.hass.localize("ui.panel.lovelace.cards.show_more_info"),this._handleMoreInfo,!s&&(h||l||u)?(0,O.qy)(D||(D=(0,o.A)([' <div> <div class="title-controls"> '," "," </div> "," </div> "])),h||l?(0,O.qy)(Q||(Q=(0,o.A)([' <div class="media-info"> <hui-marquee .text="','" .active="','" @mouseover="','" @mouseleave="','"></hui-marquee> '," </div> "])),l||h,this._marqueeActive,this._marqueeMouseOver,this._marqueeMouseLeave,l?h:""):"",u?(0,O.qy)(Y||(Y=(0,o.A)([' <div class="controls"> '," "," </div> "])),d.map((function(e){return(0,O.qy)(G||(G=(0,o.A)([' <ha-icon-button .label="','" .path="','" action="','" @click="','"> </ha-icon-button> '])),t.hass.localize("ui.card.media_player.".concat(e.action)),e.icon,e.action,t._handleClick)})),(0,P.$)(e,N.vj.BROWSE_MEDIA)?(0,O.qy)(J||(J=(0,o.A)([' <ha-icon-button class="browse-media" .label="','" .path="','" @click="','"></ha-icon-button> '])),this.hass.localize("ui.card.media_player.browse_media"),"M4,6H2V20A2,2 0 0,0 4,22H18V20H4V6M20,2H8A2,2 0 0,0 6,4V16A2,2 0 0,0 8,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M12,14.5V5.5L18,10L12,14.5Z",this._handleBrowseMedia):""):"",this._showProgressBar?(0,O.qy)(tt||(tt=(0,o.A)([' <mwc-linear-progress determinate style="','" @click="','"> </mwc-linear-progress> '])),(0,M.W)({"--mdc-theme-primary":this._foregroundColor||"var(--accent-color)",cursor:(0,P.$)(e,N.vj.SEEK)?"pointer":"initial"}),this._handleSeek):""):"")}},{kind:"method",key:"shouldUpdate",value:function(t){return(0,Z.LX)(this,t)||t.size>1||!t.has("hass")}},{kind:"method",key:"firstUpdated",value:function(){this._attachObserver(),this._measureCard()}},{kind:"method",key:"willUpdate",value:function(t){var e,i;if((0,p.A)(g,"willUpdate",this,3)([t]),this._config&&this.hass&&(t.has("_config")||t.has("hass"))){if(!this._stateObj)return this._progressInterval&&(clearInterval(this._progressInterval),this._progressInterval=void 0),this._foregroundColor=void 0,void(this._backgroundColor=void 0);var n=t.get("hass"),r=(null==n||null===(e=n.states[this._config.entity])||void 0===e?void 0:e.attributes.entity_picture_local)||(null==n||null===(i=n.states[this._config.entity])||void 0===i?void 0:i.attributes.entity_picture);if(!this._image)return this._foregroundColor=void 0,void(this._backgroundColor=void 0);this._image!==r&&this._setColors()}}},{kind:"method",key:"updated",value:function(t){var e=this;if(this._config&&this.hass&&this._stateObj&&(t.has("_config")||t.has("hass"))){var i=this._stateObj,n=t.get("hass"),r=t.get("_config");n&&r&&n.themes===this.hass.themes&&r.theme===this._config.theme||(0,j.Q)(this,this.hass.themes,this._config.theme),this._updateProgressBar(),!this._progressInterval&&this._showProgressBar&&"playing"===i.state?this._progressInterval=window.setInterval((function(){return e._updateProgressBar()}),1e3):!this._progressInterval||this._showProgressBar&&"playing"===i.state||(clearInterval(this._progressInterval),this._progressInterval=void 0)}}},{kind:"get",key:"_image",value:function(){if(this.hass&&this._config){var t=this._stateObj;if(t)return t.attributes.entity_picture_local||t.attributes.entity_picture}}},{kind:"get",key:"_showProgressBar",value:function(){if(!this.hass||!this._config||this._narrow)return!1;var t=this._stateObj;return!!t&&(("playing"===t.state||"paused"===t.state)&&"media_duration"in t.attributes&&"media_position"in t.attributes)}},{kind:"method",key:"_measureCard",value:function(){var t=this.shadowRoot.querySelector("ha-card");t&&(this._narrow=t.offsetWidth<350,this._veryNarrow=t.offsetWidth<300,this._cardHeight=t.offsetHeight)}},{kind:"method",key:"_attachObserver",value:(r=(0,c.A)((0,s.A)().mark((function t(){var e,i=this;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._resizeObserver||(this._resizeObserver=new ResizeObserver((0,S.s)((function(){return i._measureCard()}),250,!1))),e=this.shadowRoot.querySelector("ha-card")){t.next=4;break}return t.abrupt("return");case 4:this._resizeObserver.observe(e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{kind:"method",key:"_handleMoreInfo",value:function(){(0,B.r)(this,"hass-more-info",{entityId:this._config.entity})}},{kind:"method",key:"_handleBrowseMedia",value:function(){var t=this;(0,U.O)(this,{action:"play",entityId:this._config.entity,mediaPickedCallback:function(e){return(0,N.ie)(t.hass,t._config.entity,e.item.media_content_id,e.item.media_content_type)}})}},{kind:"method",key:"_handleClick",value:function(t){(0,N.ce)(this.hass,this._stateObj,t.currentTarget.getAttribute("action"))}},{kind:"method",key:"_updateProgressBar",value:function(){var t;this._progressBar&&null!==(t=this._stateObj)&&void 0!==t&&t.attributes.media_duration&&(this._progressBar.progress=(0,N.$6)(this._stateObj)/this._stateObj.attributes.media_duration)}},{kind:"get",key:"_stateObj",value:function(){return this.hass.states[this._config.entity]}},{kind:"method",key:"_handleSeek",value:function(t){var e=this._stateObj;if((0,P.$)(e,N.vj.SEEK)){var i=this._progressBar.offsetWidth,n=t.offsetX/i,r=this._stateObj.attributes.media_duration*n;this.hass.callService("media_player","media_seek",{entity_id:this._config.entity,seek_position:r})}}},{kind:"method",key:"_setColors",value:(n=(0,c.A)((0,s.A)().mark((function t(){var e,i,n;return(0,s.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._image){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,(0,W.o)(this.hass.hassUrl(this._image));case 5:e=t.sent,i=e.foreground,n=e.background,this._backgroundColor=n.hex,this._foregroundColor=i.hex,t.next=17;break;case 12:t.prev=12,t.t0=t.catch(2),console.error("Error getting Image Colors",t.t0),this._foregroundColor=void 0,this._backgroundColor=void 0;case 17:case"end":return t.stop()}}),t,this,[[2,12]])}))),function(){return n.apply(this,arguments)})},{kind:"method",key:"_marqueeMouseOver",value:function(){this._marqueeActive||(this._marqueeActive=!0)}},{kind:"method",key:"_marqueeMouseLeave",value:function(){this._marqueeActive&&(this._marqueeActive=!1)}},{kind:"get",static:!0,key:"styles",value:function(){return(0,O.AH)(et||(et=(0,o.A)(['ha-card{overflow:hidden;height:100%}.background{display:flex;position:absolute;top:0;left:0;height:100%;width:100%;transition:filter .8s}.color-block{background-color:var(--primary-color);transition:background-color .8s;width:100%}.color-gradient{position:absolute;background-image:linear-gradient(to right,var(--primary-color),transparent);height:100%;right:0;opacity:1;transition:width .8s,opacity .8s linear .8s}.image{background-color:var(--primary-color);background-position:center;background-size:cover;background-repeat:no-repeat;position:absolute;right:0;height:100%;opacity:1;transition:width .8s,background-image .8s,background-color .8s,background-size .8s,opacity .8s linear .8s}.no-image .image{opacity:0}.no-img{background-color:var(--primary-color);background-size:initial;background-repeat:no-repeat;background-position:center center;padding-bottom:0;position:absolute;right:0;height:100%;background-image:url("/static/images/card_media_player_bg.png");width:50%;transition:opacity .8s,background-color .8s}.off .color-gradient,.off .image{opacity:0;transition:opacity 0s,width .8s;width:0}.background:not(.off):not(.no-image) .no-img,.unavailable .no-img{opacity:0}.player{position:relative;padding:16px;height:100%;box-sizing:border-box;display:flex;flex-direction:column;justify-content:space-between;color:var(--text-primary-color);transition-property:color,padding;transition-duration:.4s}.controls{padding:8px 8px 8px 0;display:flex;justify-content:flex-start;align-items:center;transition:padding,color;transition-duration:.4s;margin-left:-12px;margin-inline-start:-12px;margin-inline-end:initial;padding-inline-start:0;padding-inline-end:8px;direction:ltr}.controls>div{display:flex;align-items:center}.controls ha-icon-button{--mdc-icon-button-size:44px;--mdc-icon-size:30px}ha-icon-button[action=media_pause],ha-icon-button[action=media_play],ha-icon-button[action=media_play_pause],ha-icon-button[action=media_stop],ha-icon-button[action=turn_off],ha-icon-button[action=turn_on]{--mdc-icon-button-size:56px;--mdc-icon-size:40px}ha-icon-button.browse-media{position:absolute;right:4px;--mdc-icon-size:24px;inset-inline-end:4px;inset-inline-start:initial}.top-info{display:flex;justify-content:space-between}.icon-name{display:flex;height:fit-content;align-items:center}.icon-name ha-state-icon{padding-right:8px;padding-inline-start:initial;padding-inline-end:8px;direction:var(--direction)}.more-info{position:absolute;top:4px;right:4px;inset-inline-start:initial;inset-inline-end:4px;direction:var(--direction)}.media-info{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}hui-marquee{font-size:1.2em;margin:0px 0 4px}.title-controls{padding-top:16px}mwc-linear-progress{width:100%;margin-top:4px;--mdc-linear-progress-buffer-color:rgba(200, 200, 200, 0.5)}.no-image .controls{padding:0}.off.background{filter:grayscale(1)}.narrow .controls,.no-progress .controls{padding-bottom:0}.narrow ha-icon-button{--mdc-icon-button-size:40px;--mdc-icon-size:28px}.narrow ha-icon-button[action=media_pause],.narrow ha-icon-button[action=media_play],.narrow ha-icon-button[action=media_play_pause],.narrow ha-icon-button[action=turn_on]{--mdc-icon-button-size:50px;--mdc-icon-size:36px}.narrow ha-icon-button.browse-media{--mdc-icon-size:24px}.no-progress.player:not(.no-controls){padding-bottom:0px}'])))}}]}}),O.WF),a(),t.next=76;break;case 73:t.prev=73,t.t2=t.catch(0),a(t.t2);case 76:case"end":return t.stop()}}),t,null,[[0,73]])})));return function(e,i){return t.apply(this,arguments)}}())},8553:function(t,e,i){var n,r,a,o=i(64599),s=i(35806),c=i(71008),d=i(62193),u=i(2816),h=i(27927),l=i(35890),g=(i(81027),i(15112)),p=i(29818);(0,h.A)([(0,p.EM)("hui-marquee")],(function(t,e){var i=function(e){function i(){var e;(0,c.A)(this,i);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=(0,d.A)(this,i,[].concat(r)),t(e),e}return(0,u.A)(i,e),(0,s.A)(i)}(e);return{F:i,d:[{kind:"field",decorators:[(0,p.MZ)()],key:"text",value:void 0},{kind:"field",decorators:[(0,p.MZ)({type:Boolean})],key:"active",value:function(){return!1}},{kind:"field",decorators:[(0,p.MZ)({reflect:!0,type:Boolean})],key:"animating",value:function(){return!1}},{kind:"method",key:"firstUpdated",value:function(t){var e=this;(0,l.A)(i,"firstUpdated",this,3)([t]),this.addEventListener("mouseover",(function(){return e.classList.add("hovering")}),{capture:!0}),this.addEventListener("mouseout",(function(){return e.classList.remove("hovering")}))}},{kind:"method",key:"updated",value:function(t){(0,l.A)(i,"updated",this,3)([t]),t.has("text")&&this.animating&&(this.animating=!1),t.has("active")&&this.active&&this.offsetWidth<this.scrollWidth&&(this.animating=!0)}},{kind:"method",key:"render",value:function(){return this.text?(0,g.qy)(n||(n=(0,o.A)([' <div class="marquee-inner" @animationiteration="','"> <span>',"</span> "," </div> "])),this._onIteration,this.text,this.animating?(0,g.qy)(r||(r=(0,o.A)([" <span>","</span> "])),this.text):""):g.s6}},{kind:"method",key:"_onIteration",value:function(){this.active||(this.animating=!1)}},{kind:"get",static:!0,key:"styles",value:function(){return(0,g.AH)(a||(a=(0,o.A)([":host{display:flex;position:relative;align-items:center;height:1.2em;contain:strict}.marquee-inner{position:absolute;left:0;right:0;text-overflow:ellipsis;overflow:hidden}:host(.hovering) .marquee-inner{text-overflow:initial;overflow:initial}:host([animating]) .marquee-inner{left:initial;right:initial;animation:marquee 10s linear infinite}:host([animating]) .marquee-inner span{padding-right:16px;padding-inline-end:16px;padding-inline-start:initial}@keyframes marquee{0%{transform:translateX(0%)}100%{transform:translateX(-50%)}}"])))}}]}}),g.WF)}}]);
//# sourceMappingURL=58649.z2Ag4zF_cQs.js.map