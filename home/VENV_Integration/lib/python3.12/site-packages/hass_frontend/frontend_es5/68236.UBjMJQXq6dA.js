"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[68236],{68148:function(t,e,n){n.d(e,{L:function(){return a},t:function(){return u}});n(29193);var r={10:"mdi:battery-10",20:"mdi:battery-20",30:"mdi:battery-30",40:"mdi:battery-40",50:"mdi:battery-50",60:"mdi:battery-60",70:"mdi:battery-70",80:"mdi:battery-80",90:"mdi:battery-90",100:"mdi:battery"},i={10:"mdi:battery-charging-10",20:"mdi:battery-charging-20",30:"mdi:battery-charging-30",40:"mdi:battery-charging-40",50:"mdi:battery-charging-50",60:"mdi:battery-charging-60",70:"mdi:battery-charging-70",80:"mdi:battery-charging-80",90:"mdi:battery-charging-90",100:"mdi:battery-charging"},u=function(t,e){var n=null!=e?e:t.state;return a(n)},a=function(t,e){var n=Number(t);if(isNaN(n))return"off"===t?"mdi:battery":"on"===t?"mdi:battery-alert":"mdi:battery-unknown";var u=10*Math.round(n/10);return e&&n>=10?i[u]:e?"mdi:battery-charging-outline":n<=5?"mdi:battery-alert-variant-outline":r[u]}},68236:function(t,e,n){n.d(e,{Gp:function(){return w},_4:function(){return O},fq:function(){return A},u7:function(){return k},Yd:function(){return g},f$:function(){return S},Yw:function(){return E}});var r,i,u=n(41981),a=n(33994),s=n(22858),o=(n(82386),n(95737),n(39790),n(66457),n(36604),n(99019),n(96858),n(213)),c=n(59780),l=n(65459),d=n(2989),f=n(68148),p=function(t,e){var n=(0,l.t)(t),r=null!=e?e:t.state,i=t.attributes.device_class;switch(n){case"update":return function(t,e){return"on"===(null!=e?e:t.state)?(0,d.Jy)(t)?"mdi:package-down":"mdi:package-up":"mdi:package"}(t,r);case"sensor":if("battery"===i)return(0,f.t)(t,r);break;case"device_tracker":return function(t,e){var n=null!=e?e:t.state;return"router"===(null==t?void 0:t.attributes.source_type)?"home"===n?"mdi:lan-connect":"mdi:lan-disconnect":["bluetooth","bluetooth_le"].includes(null==t?void 0:t.attributes.source_type)?"home"===n?"mdi:bluetooth-connect":"mdi:bluetooth":"not_home"===n?"mdi:account-arrow-right":"mdi:account"}(t,r);case"sun":return"above_horizon"===r?"mdi:white-balance-sunny":"mdi:weather-night";case"input_datetime":if(!t.attributes.has_date)return"mdi:clock";if(!t.attributes.has_time)return"mdi:calendar"}},v=n(33922),b=n(95266),m={entity:{},entity_component:{},services:{domains:{}}},y=function(){var t=(0,s.A)((0,a.A)().mark((function t(e,n,r){return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.callWS({type:"frontend/get_icons",category:n,integration:r}));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),h=function(){var t=(0,s.A)((0,a.A)().mark((function t(e,n){var r,i=arguments;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.length>2&&void 0!==i[2]&&i[2]||!(n in m.entity)){t.next=3;break}return t.abrupt("return",m.entity[n]);case 3:if((0,v.x)(e,n)&&(0,b.v)(e.connection.haVersion,2024,2)){t.next=5;break}return t.abrupt("return",void 0);case 5:return r=y(e,"entity",n).then((function(t){return null==t?void 0:t.resources[n]})),m.entity[n]=r,t.abrupt("return",m.entity[n]);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),_=function(){var t=(0,s.A)((0,a.A)().mark((function t(e,n){var r,i,s=arguments;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=s.length>2&&void 0!==s[2]&&s[2],t.next=3;break;case 3:if(i||!m.entity_component.resources||null===(r=m.entity_component.domains)||void 0===r||!r.includes(n)){t.next=5;break}return t.abrupt("return",m.entity_component.resources.then((function(t){return t[n]})));case 5:if((0,v.x)(e,n)){t.next=7;break}return t.abrupt("return",void 0);case 7:return m.entity_component.domains=(0,u.A)(e.config.components),m.entity_component.resources=y(e,"entity_component").then((function(t){return t.resources})),t.abrupt("return",m.entity_component.resources.then((function(t){return t[n]})));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),g=function(){var t=(0,s.A)((0,a.A)().mark((function t(e,n){var r,i,u=arguments;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=u.length>2&&void 0!==u[2]&&u[2],n){t.next=6;break}if(r||!m.services.all){t.next=4;break}return t.abrupt("return",m.services.all);case 4:return m.services.all=y(e,"services",n).then((function(t){return m.services.domains=t.resources,null==t?void 0:t.resources})),t.abrupt("return",m.services.all);case 6:if(r||!(n in m.services.domains)){t.next=8;break}return t.abrupt("return",m.services.domains[n]);case 8:if(!m.services.all||r){t.next=13;break}return t.next=11,m.services.all;case 11:if(!(n in m.services.domains)){t.next=13;break}return t.abrupt("return",m.services.domains[n]);case 13:if((0,v.x)(e,n)){t.next=15;break}return t.abrupt("return",void 0);case 15:return i=y(e,"services",n),m.services.domains[n]=i.then((function(t){return null==t?void 0:t.resources[n]})),t.abrupt("return",m.services.domains[n]);case 18:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),A=function(){var t=(0,s.A)((0,a.A)().mark((function t(e,n,r){var i,u,s;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(u=null===(i=e.entities)||void 0===i?void 0:i[n.entity_id])||!u.icon){t.next=3;break}return t.abrupt("return",u.icon);case 3:return s=(0,l.t)(n),t.abrupt("return",x(e,s,n,r,u));case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),k=26240!=n.j?(r=(0,s.A)((0,a.A)().mark((function t(e,n){var r,i;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.icon){t.next=2;break}return t.abrupt("return",n.icon);case 2:return r=e.states[n.entity_id],i=(0,o.m)(n.entity_id),t.abrupt("return",x(e,i,r,void 0,n));case 5:case"end":return t.stop()}}),t)}))),function(t,e){return r.apply(this,arguments)}):null,x=function(){var t=(0,s.A)((0,a.A)().mark((function t(e,n,r,i,u){var s,o,c,l,d,f,v,b,m,y,g,A;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==u?void 0:u.platform,o=null==u?void 0:u.translation_key,c=null==r?void 0:r.attributes.device_class,l=null!=i?i:null==r?void 0:r.state,!o||!s){t.next=9;break}return t.next=7,h(e,s);case 7:(f=t.sent)&&(m=null===(v=f[n])||void 0===v?void 0:v[o],d=l&&(null==m||null===(b=m.state)||void 0===b?void 0:b[l])||(null==m?void 0:m.default));case 9:if(!d&&r&&(d=p(r,l)),d){t.next=15;break}return t.next=13,_(e,n);case 13:(y=t.sent)&&(A=c&&y[c]||y._,d=l&&(null==A||null===(g=A.state)||void 0===g?void 0:g[l])||(null==A?void 0:A.default));case 15:return t.abrupt("return",d);case 16:case"end":return t.stop()}}),t)})));return function(e,n,r,i,u){return t.apply(this,arguments)}}(),w=26240!=n.j?(i=(0,s.A)((0,a.A)().mark((function t(e,n,r,i){var u,s,o,c,d,f,p,v,b,m,y,g,A,k,x,w,S;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=(0,l.t)(n),c=n.attributes.device_class,d=null===(u=e.entities)||void 0===u?void 0:u[n.entity_id],f=null==d?void 0:d.platform,p=null==d?void 0:d.translation_key,v=null!=i?i:n.attributes[r],!p||!f){t.next=11;break}return t.next=9,h(e,f);case 9:(b=t.sent)&&(g=null===(m=b[o])||void 0===m||null===(m=m[p])||void 0===m||null===(m=m.state_attributes)||void 0===m?void 0:m[r],s=v&&(null==g||null===(y=g.state)||void 0===y?void 0:y[v])||(null==g?void 0:g.default));case 11:if(s){t.next=16;break}return t.next=14,_(e,o);case 14:(A=t.sent)&&(S=c&&(null===(k=A[c])||void 0===k||null===(k=k.state_attributes)||void 0===k?void 0:k[r])||(null===(x=A._)||void 0===x||null===(x=x.state_attributes)||void 0===x?void 0:x[r]),s=v&&(null==S||null===(w=S.state)||void 0===w?void 0:w[v])||(null==S?void 0:S.default));case 16:return t.abrupt("return",s);case 17:case"end":return t.stop()}}),t)}))),function(t,e,n,r){return i.apply(this,arguments)}):null,S=function(){var t=(0,s.A)((0,a.A)().mark((function t(e,n){var r,i,u,s,l;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,o.m)(n),u=(0,c.Y)(n),t.next=4,g(e,i);case 4:if((s=t.sent)&&(l=s[u],r=null==l?void 0:l.service),r){t.next=10;break}return t.next=9,O(e,i);case 9:r=t.sent;case 10:return t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),E=function(){var t=(0,s.A)((0,a.A)().mark((function t(e,n,r){var i,u,s,l,d;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,o.m)(n),u=(0,c.Y)(n),t.next=4,g(e,i);case 4:if(!(s=t.sent)){t.next=8;break}return d=s[u],t.abrupt("return",null==d||null===(l=d.sections)||void 0===l?void 0:l[r]);case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),O=function(){var t=(0,s.A)((0,a.A)().mark((function t(e,n,r){var i,u;return(0,a.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(e,n);case 2:if(!(i=t.sent)){t.next=6;break}return u=r&&i[r]||i._,t.abrupt("return",null==u?void 0:u.default);case 6:return t.abrupt("return",void 0);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},2989:function(t,e,n){n.d(e,{A_:function(){return g},Jy:function(){return b},TY:function(){return p},VK:function(){return v},W0:function(){return h},ev:function(){return m},nD:function(){return _}});var r=n(33994),i=n(22858),u=(n(13025),n(97741),n(33231),n(39790),n(9241),n(66457),n(253),n(2075),n(16891),n(94872)),a=n(213),s=n(65459),o=n(42496),c=n(2682),l=n(6121);if(33524==n.j)var d=n(18589);var f,p=function(t){return t[t.INSTALL=1]="INSTALL",t[t.SPECIFIC_VERSION=2]="SPECIFIC_VERSION",t[t.PROGRESS=4]="PROGRESS",t[t.BACKUP=8]="BACKUP",t[t.RELEASE_NOTES=16]="RELEASE_NOTES",t}({}),v=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(t.state===u.Or||e&&Boolean(t.attributes.skipped_version))&&(0,o.$)(t,p.INSTALL)},b=function(t){return function(t){return(0,o.$)(t,p.PROGRESS)&&"number"==typeof t.attributes.in_progress}(t)||!!t.attributes.in_progress},m=function(t,e){return t.callWS({type:"update/release_notes",entity_id:e})},y=function(t,e){return Object.values(t).filter((function(t){return"update"===(0,s.t)(t)})).sort((function(t,n){return"Home Assistant Core"===t.attributes.title?-3:"Home Assistant Core"===n.attributes.title?3:"Home Assistant Operating System"===t.attributes.title?-2:"Home Assistant Operating System"===n.attributes.title?2:"Home Assistant Supervisor"===t.attributes.title?-1:"Home Assistant Supervisor"===n.attributes.title?1:(0,c.S)(t.attributes.title||t.attributes.friendly_name||"",n.attributes.title||n.attributes.friendly_name||"",e)}))},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return y(t).filter((function(t){return v(t,e)}))},_=33524==n.j?(f=(0,i.A)((0,r.A)().mark((function t(e,n){var i,u,s;return(0,r.A)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=y(n.states,n.locale.language).map((function(t){return t.entity_id}))).length){t.next=4;break}return(0,l.showAlertDialog)(e,{title:n.localize("ui.panel.config.updates.no_update_entities.title"),text:n.localize("ui.panel.config.updates.no_update_entities.description"),warning:!0}),t.abrupt("return");case 4:return(0,d.P)(e,{message:n.localize("ui.panel.config.updates.checking_updates")}),u=0,t.next=8,n.connection.subscribeEvents((function(t){"update"===(0,a.m)(t.data.entity_id)&&(u++,(0,d.P)(e,{message:n.localize("ui.panel.config.updates.updates_refreshed",{count:u})}))}),"state_changed");case 8:return s=t.sent,t.next=11,n.callService("homeassistant","update_entity",{entity_id:i});case 11:return t.next=13,new Promise((function(t){setTimeout(t,15e3)}));case 13:s(),0===u&&(0,d.P)(e,{message:n.localize("ui.panel.config.updates.no_new_updates")});case 15:case"end":return t.stop()}}),t)}))),function(t,e){return f.apply(this,arguments)}):null,g=function(t,e){var n=t.state,r=t.attributes;if("off"===n)return r.latest_version&&r.skipped_version===r.latest_version?r.latest_version:e.formatEntityState(t);if("on"===n&&b(t))return(0,o.$)(t,p.PROGRESS)&&"number"==typeof r.in_progress?e.localize("ui.card.update.installing_with_progress",{progress:r.in_progress}):e.localize("ui.card.update.installing");return e.formatEntityState(t)}}}]);
//# sourceMappingURL=68236.UBjMJQXq6dA.js.map