"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[97539],{97539:function(e,a,t){var n=t(22858).A,r=t(33994).A;t.a(e,function(){var e=n(r().mark((function e(n,s){var i,o,c,l,u,d,h,_,v,f,m,p,k,A,y,b,g,C,w,S,E,q,z,O,j,F,Y,x,D,L,I,V,H,M,T,B,K,P,R,U,W,Z,G,J,N,Q,X;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.r(a),t.d(a,{HuiAreaCardEditor:function(){return X}}),i=t(64599),o=t(33994),c=t(22858),l=t(41981),u=t(35806),d=t(71008),h=t(62193),_=t(2816),v=t(27927),f=t(81027),m=t(13025),p=t(82386),k=t(95737),A=t(97741),y=t(33231),b=t(50693),g=t(26098),C=t(39790),w=t(9241),S=t(74268),E=t(24545),q=t(51855),z=t(82130),O=t(31743),j=t(22328),F=t(4959),Y=t(62435),x=t(36604),D=t(99019),L=t(253),I=t(2075),V=t(16891),H=t(96858),M=t(15112),T=t(29818),B=t(94100),K=t(66419),P=t(34897),t(36185),R=t(76448),U=t(56124),W=t(213),Z=t(2682),G=t(96778),!(J=n([R])).then){e.next=79;break}return e.next=75,J;case 75:e.t1=e.sent,e.t0=(0,e.t1)(),e.next=80;break;case 79:e.t0=J;case 80:R=e.t0[0],Q=(0,K.kp)(U.H,(0,K.Ik)({area:(0,K.lq)((0,K.Yj)()),navigation_path:(0,K.lq)((0,K.Yj)()),theme:(0,K.lq)((0,K.Yj)()),show_camera:(0,K.lq)((0,K.zM)()),camera_view:(0,K.lq)((0,K.Yj)()),aspect_ratio:(0,K.lq)((0,K.Yj)()),alert_classes:(0,K.lq)((0,K.YO)((0,K.Yj)())),sensor_classes:(0,K.lq)((0,K.YO)((0,K.Yj)()))})),X=(0,v.A)([(0,T.EM)("hui-area-card-editor")],(function(e,a){var t,n=function(a){function t(){var a;(0,d.A)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return a=(0,h.A)(this,t,[].concat(r)),e(a),a}return(0,_.A)(t,a),(0,u.A)(t)}(a);return{F:n,d:[{kind:"field",decorators:[(0,T.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,T.wk)()],key:"_config",value:void 0},{kind:"field",decorators:[(0,T.wk)()],key:"_numericDeviceClasses",value:void 0},{kind:"field",key:"_schema",value:function(){return(0,B.A)((function(e,a,t){return[{name:"area",selector:{area:{}}},{name:"show_camera",required:!1,selector:{boolean:{}}}].concat((0,l.A)(e?[{name:"camera_view",selector:{select:{options:["auto","live"]}}}]:[]),[{name:"",type:"grid",schema:[{name:"navigation_path",required:!1,selector:{navigation:{}}},{name:"theme",required:!1,selector:{theme:{}}},{name:"aspect_ratio",default:R.DEFAULT_ASPECT_RATIO,selector:{text:{}}}]},{name:"alert_classes",selector:{select:{reorder:!0,multiple:!0,custom_value:!0,options:a}}},{name:"sensor_classes",selector:{select:{reorder:!0,multiple:!0,custom_value:!0,options:t}}}])}))}},{kind:"field",key:"_binaryClassesForArea",value:function(){var e=this;return(0,B.A)((function(a){return e._classesForArea(a,"binary_sensor")}))}},{kind:"field",key:"_sensorClassesForArea",value:function(){var e=this;return(0,B.A)((function(a,t){return e._classesForArea(a,"sensor",t)}))}},{kind:"method",key:"_classesForArea",value:function(e,a,t){var n=this,r=Object.values(this.hass.entities).filter((function(t){var r;return(0,W.m)(t.entity_id)===a&&!t.entity_category&&!t.hidden&&(t.area_id===e||t.device_id&&(null===(r=n.hass.devices[t.device_id])||void 0===r?void 0:r.area_id)===e)})).map((function(e){var a;return(null===(a=n.hass.states[e.entity_id])||void 0===a?void 0:a.attributes.device_class)||""})).filter((function(e){return e&&("sensor"!==a||!t||t.includes(e))}));return(0,l.A)(new Set(r))}},{kind:"field",key:"_buildBinaryOptions",value:function(){var e=this;return(0,B.A)((function(a,t){return e._buildOptions("binary_sensor",a,t)}))}},{kind:"field",key:"_buildSensorOptions",value:function(){var e=this;return(0,B.A)((function(a,t){return e._buildOptions("sensor",a,t)}))}},{kind:"method",key:"_buildOptions",value:function(e,a,t){var n=this,r=(0,l.A)(new Set([].concat((0,l.A)(a),(0,l.A)(t)))).map((function(a){return{value:a,label:n.hass.localize("component.".concat(e,".entity_component.").concat(a,".name"))||a}}));return r.sort((function(e,a){return(0,Z.S)(e.label,a.label,n.hass.locale.language)})),r}},{kind:"method",key:"setConfig",value:function(e){(0,K.vA)(e,Q),this._config=e}},{kind:"method",key:"updated",value:(t=(0,c.A)((0,o.A)().mark((function e(){var a,t;return(0,o.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hass||this._numericDeviceClasses){e.next=6;break}return e.next=3,(0,G.KL)(this.hass);case 3:a=e.sent,t=a.numeric_device_classes,this._numericDeviceClasses=t;case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{kind:"method",key:"render",value:function(){if(!this.hass||!this._config)return M.s6;var e=this._binaryClassesForArea(this._config.area||""),a=this._sensorClassesForArea(this._config.area||"",this._numericDeviceClasses),t=this._buildBinaryOptions(e,this._config.alert_classes||R.DEVICE_CLASSES.binary_sensor),n=this._buildSensorOptions(a,this._config.sensor_classes||R.DEVICE_CLASSES.sensor),r=this._schema(this._config.show_camera||!1,t,n),s=Object.assign({camera_view:"auto",alert_classes:R.DEVICE_CLASSES.binary_sensor,sensor_classes:R.DEVICE_CLASSES.sensor},this._config);return(0,M.qy)(N||(N=(0,i.A)([' <ha-form .hass="','" .data="','" .schema="','" .computeLabel="','" @value-changed="','"></ha-form> '])),this.hass,s,r,this._computeLabelCallback,this._valueChanged)}},{kind:"method",key:"_valueChanged",value:function(e){var a=e.detail.value;a.show_camera||delete a.camera_view,(0,P.r)(this,"config-changed",{config:a})}},{kind:"field",key:"_computeLabelCallback",value:function(){var e=this;return function(a){switch(a.name){case"theme":return"".concat(e.hass.localize("ui.panel.lovelace.editor.card.generic.theme")," (").concat(e.hass.localize("ui.panel.lovelace.editor.card.config.optional"),")");case"area":return e.hass.localize("ui.panel.lovelace.editor.card.area.name");case"navigation_path":return e.hass.localize("ui.panel.lovelace.editor.action-editor.navigation_path");case"aspect_ratio":return e.hass.localize("ui.panel.lovelace.editor.card.generic.aspect_ratio");case"camera_view":return e.hass.localize("ui.panel.lovelace.editor.card.generic.camera_view")}return e.hass.localize("ui.panel.lovelace.editor.card.area.".concat(a.name))}}}]}}),M.WF),s(),e.next=89;break;case 86:e.prev=86,e.t2=e.catch(0),s(e.t2);case 89:case"end":return e.stop()}}),e,null,[[0,86]])})));return function(a,t){return e.apply(this,arguments)}}())},56124:function(e,a,t){t.d(a,{H:function(){return r}});var n=t(66419),r=(0,n.Ik)({type:(0,n.Yj)(),view_layout:(0,n.bz)(),layout_options:(0,n.bz)(),visibility:(0,n.bz)()})}}]);
//# sourceMappingURL=97539.oo6FXhUjNWU.js.map