export const id=13699;export const ids=[13699,13292,63606,40462,36185,16204,97570,54083,35212,30225];export const modules={21863:(e,t,i)=>{function a(e){return void 0===e||Array.isArray(e)?e:[e]}i.d(t,{e:()=>a})},99890:(e,t,i)=>{i.d(t,{g:()=>a});const a=e=>(t,i)=>e.includes(t,i)},46999:(e,t,i)=>{i.d(t,{Vy:()=>o,fI:()=>n});var a=i(3254);const s=["#4269d0","#f4bd4a","#ff725c","#6cc5b0","#a463f2","#ff8ab7","#9c6b4e","#97bbf5","#01ab63","#9498a0","#094bad","#c99000","#d84f3e","#49a28f","#048732","#d96895","#8043ce","#7599d1","#7a4c31","#74787f","#6989f4","#ffd444","#ff957c","#8fe9d3","#62cc71","#ffadda","#c884ff","#badeff","#bf8b6d","#b6bac2","#927acc","#97ee3f","#bf3947","#9f5b00","#f48758","#8caed6","#f2b94f","#eff26e","#e43872","#d9b100","#9d7a00","#698cff","#d9d9d9","#00d27e","#d06800","#009f82","#c49200","#cbe8ff","#fecddf","#c27eb6","#8cd2ce","#c4b8d9","#f883b0","#a49100","#f48800","#27d0df","#a04a9b"];function o(e){return s[e%s.length]}function n(e,t){const i=t.getPropertyValue(`--graph-color-${e+1}`)||o(e);return(0,a.RQ)(i)}},33922:(e,t,i)=>{i.d(t,{x:()=>a});const a=(e,t)=>e&&e.config.components.includes(t)},51853:(e,t,i)=>{i.d(t,{A:()=>s});const a=e=>e<10?`0${e}`:e;function s(e){const t=Math.floor(e/3600),i=Math.floor(e%3600/60),s=Math.floor(e%3600%60);return t>0?`${t}:${a(i)}:${a(s)}`:i>0?`${i}:${a(s)}`:s>0?""+s:null}},85920:(e,t,i)=>{i.d(t,{_:()=>o});i(253),i(54846);var a=i(15112),s=i(67089);const o=(0,s.u$)(class extends s.WL{constructor(e){if(super(e),this._element=void 0,e.type!==s.OA.CHILD)throw new Error("dynamicElementDirective can only be used in content bindings")}update(e,[t,i]){return this._element&&this._element.localName===t?(i&&Object.entries(i).forEach((([e,t])=>{this._element[e]=t})),a.c0):this.render(t,i)}render(e,t){return this._element=document.createElement(e),t&&Object.entries(t).forEach((([e,t])=>{this._element[e]=t})),this._element}})},82291:(e,t,i)=>{i.d(t,{m:()=>a});const a=(e,t)=>{const i=matchMedia(e),a=e=>t(e.matches);return i.addListener(a),t(i.matches),()=>i.removeListener(a)}},79051:(e,t,i)=>{i.d(t,{d:()=>a});const a=e=>e.stopPropagation()},69521:(e,t,i)=>{i.d(t,{j:()=>a});const a=(e,t,i)=>(void 0!==i&&(i=!!i),e.hasAttribute(t)?!!i||(e.removeAttribute(t),!1):!1!==i&&(e.setAttribute(t,""),!0))},65459:(e,t,i)=>{i.d(t,{t:()=>s});var a=i(213);const s=e=>(0,a.m)(e.entity_id)},10252:(e,t,i)=>{i.d(t,{n:()=>r,v:()=>o});i(89655),i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435);var a=i(65459),s=i(9883);const o={alarm_control_panel:["armed_away","armed_custom_bypass","armed_home","armed_night","armed_vacation","arming","disarmed","disarming","pending","triggered"],automation:["on","off"],binary_sensor:["on","off"],button:[],calendar:["on","off"],camera:["idle","recording","streaming"],cover:["closed","closing","open","opening"],device_tracker:["home","not_home"],fan:["on","off"],humidifier:["on","off"],input_boolean:["on","off"],input_button:[],lawn_mower:["error","paused","mowing","returning","docked"],light:["on","off"],lock:["jammed","locked","locking","unlocked","unlocking","opening","open"],media_player:["off","on","idle","playing","paused","standby","buffering"],person:["home","not_home"],plant:["ok","problem"],remote:["on","off"],scene:[],schedule:["on","off"],script:["on","off"],siren:["on","off"],sun:["above_horizon","below_horizon"],switch:["on","off"],timer:["active","idle","paused"],update:["on","off"],vacuum:["cleaning","docked","error","idle","paused","returning"],valve:["closed","closing","open","opening"],weather:["clear-night","cloudy","exceptional","fog","hail","lightning-rainy","lightning","partlycloudy","pouring","rainy","snowy-rainy","snowy","sunny","windy-variant","windy"]},n={alarm_control_panel:{code_format:["number","text"]},binary_sensor:{device_class:["battery","battery_charging","co","cold","connectivity","door","garage_door","gas","heat","light","lock","moisture","motion","moving","occupancy","opening","plug","power","presence","problem","running","safety","smoke","sound","tamper","update","vibration","window"]},button:{device_class:["restart","update"]},camera:{frontend_stream_type:["hls","web_rtc"]},climate:{hvac_action:["off","idle","preheating","defrosting","heating","cooling","drying","fan"]},cover:{device_class:["awning","blind","curtain","damper","door","garage","gate","shade","shutter","window"]},device_tracker:{source_type:["bluetooth","bluetooth_le","gps","router"]},fan:{direction:["forward","reverse"]},humidifier:{device_class:["humidifier","dehumidifier"],action:["off","idle","humidifying","drying"]},media_player:{device_class:["tv","speaker","receiver"],media_content_type:["album","app","artist","channel","channels","composer","contibuting_artist","episode","game","genre","image","movie","music","playlist","podcast","season","track","tvshow","url","video"],repeat:["off","one","all"]},number:{device_class:["temperature"]},sensor:{device_class:["apparent_power","aqi","battery","carbon_dioxide","carbon_monoxide","current","date","duration","energy","frequency","gas","humidity","illuminance","monetary","nitrogen_dioxide","nitrogen_monoxide","nitrous_oxide","ozone","ph","pm1","pm10","pm25","power_factor","power","pressure","reactive_power","signal_strength","sulphur_dioxide","temperature","timestamp","volatile_organic_compounds","volatile_organic_compounds_parts","voltage","volume_flow_rate"],state_class:["measurement","total","total_increasing"]},switch:{device_class:["outlet","switch"]},update:{device_class:["firmware"]},water_heater:{away_mode:["on","off"]}},r=(e,t=void 0)=>{const i=(0,a.t)(e),r=[];switch(!t&&i in o?r.push(...o[i]):t&&i in n&&t in n[i]&&r.push(...n[i][t]),i){case"climate":t?"fan_mode"===t?r.push(...e.attributes.fan_modes):"preset_mode"===t?r.push(...e.attributes.preset_modes):"swing_mode"===t&&r.push(...e.attributes.swing_modes):r.push(...e.attributes.hvac_modes);break;case"device_tracker":case"person":t||r.push("home","not_home");break;case"event":"event_type"===t&&r.push(...e.attributes.event_types);break;case"fan":"preset_mode"===t&&r.push(...e.attributes.preset_modes);break;case"humidifier":"mode"===t&&r.push(...e.attributes.available_modes);break;case"input_select":case"select":t||r.push(...e.attributes.options);break;case"light":"effect"===t&&e.attributes.effect_list?r.push(...e.attributes.effect_list):"color_mode"===t&&e.attributes.supported_color_modes&&r.push(...e.attributes.supported_color_modes);break;case"media_player":"sound_mode"===t?r.push(...e.attributes.sound_mode_list):"source"===t&&r.push(...e.attributes.source_list);break;case"remote":"current_activity"===t&&r.push(...e.attributes.activity_list);break;case"sensor":t||"enum"!==e.attributes.device_class||r.push(...e.attributes.options);break;case"vacuum":"fan_speed"===t&&r.push(...e.attributes.fan_speed_list);break;case"water_heater":t&&"operation_mode"!==t||r.push(...e.attributes.operation_list)}return t||r.push(...s.s7),[...new Set(r)]}},42496:(e,t,i)=>{i.d(t,{$:()=>a});const a=(e,t)=>s(e.attributes,t),s=(e,t)=>!!(e.supported_features&t)},63516:(e,t,i)=>{i.d(t,{s:()=>a});const a=e=>!(!e.detail.selected||"property"!==e.detail.source)&&(e.currentTarget.selected=!1,!0)},94624:(e,t,i)=>{i.d(t,{_:()=>s});i(89655);var a=i(66419);const s=(e,t)=>{if(!(t instanceof a.C5))return{warnings:[t.message],errors:void 0};const i=[],s=[];for(const a of t.failures())if(void 0===a.value)i.push(e.localize("ui.errors.config.key_missing",{key:a.path.join(".")}));else if("never"===a.type)s.push(e.localize("ui.errors.config.key_not_expected",{key:a.path.join(".")}));else{if("union"===a.type)continue;"enums"===a.type?s.push(e.localize("ui.errors.config.key_wrong_type",{key:a.path.join("."),type_correct:a.message.replace("Expected ","").split(", ")[0],type_wrong:JSON.stringify(a.value)})):s.push(e.localize("ui.errors.config.key_wrong_type",{key:a.path.join("."),type_correct:a.refinement||a.type,type_wrong:JSON.stringify(a.value)}))}return{warnings:s,errors:i}}},32920:(e,t,i)=>{i.d(t,{l:()=>a});const a=async e=>{if(navigator.clipboard)try{return void await navigator.clipboard.writeText(e)}catch{}const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},16569:(e,t,i)=>{i.d(t,{b:()=>a});i(41442),i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435);const a=(e,t)=>{if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;let i,s;if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(i=s;0!=i--;)if(!a(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!a(i[1],t.get(i[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(s=e.length,s!==t.length)return!1;for(i=s;0!=i--;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const o=Object.keys(e);if(s=o.length,s!==Object.keys(t).length)return!1;for(i=s;0!=i--;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=s;0!=i--;){const s=o[i];if(!a(e[s],t[s]))return!1}return!0}return e!=e&&t!=t}},77226:(e,t,i)=>{i.d(t,{A:()=>s});const a=e=>{const t=parseFloat(e);if(isNaN(t))throw new Error(`${e} is not a number`);return t};function s(e){if(!e)return null;try{if(e.endsWith("%"))return{w:100,h:a(e.substr(0,e.length-1))};const t=e.replace(":","x").split("x");return 0===t.length?null:1===t.length?{w:a(t[0]),h:1}:{w:a(t[0]),h:a(t[1])}}catch(e){}return null}},58034:(e,t,i)=>{i.d(t,{n:()=>a});const a=(e,t,i=!0,a=!0)=>{let s,o=0;const n=(...n)=>{const r=()=>{o=!1===i?0:Date.now(),s=void 0,e(...n)},l=Date.now();o||!1!==i||(o=l);const d=t-(l-o);d<=0||d>t?(s&&(clearTimeout(s),s=void 0),o=l,e(...n)):s||!1===a||(s=window.setTimeout(r,d))};return n.cancel=()=>{clearTimeout(s),s=void 0,o=0},n}},66641:(e,t,i)=>{var a=i(36312),s=i(15112),o=i(77706),n=i(6121),r=(i(68690),i(34897));(0,a.A)([(0,o.EM)("ha-call-service-button")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"progress",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)()],key:"domain",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"service",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Object})],key:"target",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Object})],key:"data",value:()=>({})},{kind:"field",decorators:[(0,o.MZ)()],key:"confirmation",value:void 0},{kind:"method",key:"render",value:function(){return s.qy` <ha-progress-button .progress="${this.progress}" .disabled="${this.disabled}" @click="${this._buttonTapped}" tabindex="0"> <slot></slot></ha-progress-button> `}},{kind:"method",key:"_callService",value:async function(){this.progress=!0;const e={domain:this.domain,service:this.service,data:this.data,target:this.target,success:!1},t=this.shadowRoot.querySelector("ha-progress-button");try{await this.hass.callService(this.domain,this.service,this.data,this.target),this.progress=!1,t.actionSuccess(),e.success=!0}catch(i){return this.progress=!1,t.actionError(),void(e.success=!1)}finally{(0,r.r)(this,"hass-service-called",e)}}},{kind:"method",key:"_buttonTapped",value:function(){this.confirmation?(0,n.showConfirmationDialog)(this,{text:this.confirmation,confirm:()=>this._callService()}):this._callService()}}]}}),s.WF)},68690:(e,t,i)=>{var a=i(36312),s=(i(72606),i(15112)),o=i(77706);i(37629),i(88400);(0,a.A)([(0,o.EM)("ha-progress-button")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"progress",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"raised",value:()=>!1},{kind:"field",decorators:[(0,o.wk)()],key:"_result",value:void 0},{kind:"method",key:"render",value:function(){const e=this._result||this.progress;return s.qy` <mwc-button ?raised="${this.raised}" .disabled="${this.disabled||this.progress}" @click="${this._buttonTapped}" class="${this._result||""}"> <slot></slot> </mwc-button> ${e?s.qy` <div class="progress"> ${"success"===this._result?s.qy`<ha-svg-icon .path="${"M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z"}"></ha-svg-icon>`:"error"===this._result?s.qy`<ha-svg-icon .path="${"M2.2,16.06L3.88,12L2.2,7.94L6.26,6.26L7.94,2.2L12,3.88L16.06,2.2L17.74,6.26L21.8,7.94L20.12,12L21.8,16.06L17.74,17.74L16.06,21.8L12,20.12L7.94,21.8L6.26,17.74L2.2,16.06M13,17V15H11V17H13M13,13V7H11V13H13Z"}"></ha-svg-icon>`:this.progress?s.qy` <ha-circular-progress size="small" indeterminate></ha-circular-progress> `:""} </div> `:s.s6} `}},{kind:"method",key:"actionSuccess",value:function(){this._setResult("success")}},{kind:"method",key:"actionError",value:function(){this._setResult("error")}},{kind:"method",key:"_setResult",value:function(e){this._result=e,setTimeout((()=>{this._result=void 0}),2e3)}},{kind:"method",key:"_buttonTapped",value:function(e){this.progress&&e.stopPropagation()}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`:host{outline:0;display:inline-block;position:relative}mwc-button{transition:all 1s}mwc-button.success{--mdc-theme-primary:white;background-color:var(--success-color);transition:none;border-radius:4px;pointer-events:none}mwc-button[raised].success{--mdc-theme-primary:var(--success-color);--mdc-theme-on-primary:white}mwc-button.error{--mdc-theme-primary:white;background-color:var(--error-color);transition:none;border-radius:4px;pointer-events:none}mwc-button[raised].error{--mdc-theme-primary:var(--error-color);--mdc-theme-on-primary:white}.progress{bottom:4px;position:absolute;text-align:center;top:4px;width:100%}ha-svg-icon{color:#fff}mwc-button.error slot,mwc-button.success slot{visibility:hidden}`}}]}}),s.WF)},14511:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{n:()=>p});var s=i(36312),o=(i(89655),i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435),i(253),i(54846),i(16891),i(15112)),n=i(77706),r=i(94100),l=i(46999),d=i(33922),c=i(34897),h=i(57636),u=i(4826),m=(i(90701),i(56136)),y=e([h]);h=(y.then?(await y)():y)[0];const p={mean:"mean",min:"min",max:"max",sum:"sum",state:"sum",change:"sum"};(0,s.A)([(0,n.EM)("statistics-chart")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"statisticsData",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"metadata",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"names",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"unit",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"endTime",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Array})],key:"statTypes",value:()=>["sum","min","mean","max"]},{kind:"field",decorators:[(0,n.MZ)()],key:"chartType",value:()=>"line"},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"hideLegend",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"logarithmicScale",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"isLoadingData",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"clickForMoreInfo",value:()=>!0},{kind:"field",decorators:[(0,n.MZ)()],key:"period",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_chartData",value:()=>({datasets:[]})},{kind:"field",decorators:[(0,n.wk)()],key:"_chartDatasetExtra",value:()=>[]},{kind:"field",decorators:[(0,n.wk)()],key:"_statisticIds",value:()=>[]},{kind:"field",decorators:[(0,n.wk)()],key:"_chartOptions",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_hiddenStats",value:()=>new Set},{kind:"field",decorators:[(0,n.P)("ha-chart-base")],key:"_chart",value:void 0},{kind:"field",key:"_computedStyle",value:void 0},{kind:"field",key:"resize",value(){return e=>{this._chart?.resize(e)}}},{kind:"method",key:"shouldUpdate",value:function(e){return e.size>1||!e.has("hass")}},{kind:"method",key:"willUpdate",value:function(e){e.has("legendMode")&&this._hiddenStats.clear(),(!this.hasUpdated||e.has("unit")||e.has("period")||e.has("chartType")||e.has("logarithmicScale")||e.has("hideLegend"))&&this._createOptions(),(e.has("statisticsData")||e.has("statTypes")||e.has("chartType")||e.has("hideLegend")||e.has("_hiddenStats"))&&this._generateData()}},{kind:"method",key:"firstUpdated",value:function(){this._computedStyle=getComputedStyle(this)}},{kind:"method",key:"render",value:function(){return(0,d.x)(this.hass,"history")?this.isLoadingData&&!this.statisticsData?o.qy`<div class="info"> ${this.hass.localize("ui.components.statistics_charts.loading_statistics")} </div>`:this.statisticsData&&Object.keys(this.statisticsData).length?o.qy` <ha-chart-base externalHidden .hass="${this.hass}" .data="${this._chartData}" .extraData="${this._chartDatasetExtra}" .options="${this._chartOptions}" .chartType="${this.chartType}" @dataset-hidden="${this._datasetHidden}" @dataset-unhidden="${this._datasetUnhidden}"></ha-chart-base> `:o.qy`<div class="info"> ${this.hass.localize("ui.components.statistics_charts.no_statistics_found")} </div>`:o.qy`<div class="info"> ${this.hass.localize("ui.components.history_charts.history_disabled")} </div>`}},{kind:"method",key:"_datasetHidden",value:function(e){e.stopPropagation(),this._hiddenStats.add(this._statisticIds[e.detail.index]),this.requestUpdate("_hiddenStats")}},{kind:"method",key:"_datasetUnhidden",value:function(e){e.stopPropagation(),this._hiddenStats.delete(this._statisticIds[e.detail.index]),this.requestUpdate("_hiddenStats")}},{kind:"method",key:"_createOptions",value:function(e){this._chartOptions={parsing:!1,animation:!1,interaction:{mode:"nearest",axis:"x"},scales:{x:{type:"time",adapters:{date:{locale:this.hass.locale,config:this.hass.config}},ticks:{source:"bar"===this.chartType?"data":void 0,maxRotation:0,sampleSize:5,autoSkipPadding:20,major:{enabled:!0},font:e=>e.tick&&e.tick.major?{weight:"bold"}:{}},time:{tooltipFormat:"datetime",unit:"bar"===this.chartType&&this.period&&["hour","day","week","month"].includes(this.period)?this.period:void 0}},y:{beginAtZero:"bar"===this.chartType,ticks:{maxTicksLimit:7},title:{display:e||this.unit,text:e||this.unit},type:this.logarithmicScale?"logarithmic":"linear"}},plugins:{tooltip:{callbacks:{label:e=>`${e.dataset.label}: ${(0,h.ZV)(e.parsed.y,this.hass.locale,(0,h.ZQ)(void 0,this.hass.entities[this._statisticIds[e.datasetIndex]]))} ${e.dataset.unit||""}`}},filler:{propagate:!0},legend:{display:!this.hideLegend,labels:{usePointStyle:!0}}},elements:{line:{tension:.4,cubicInterpolationMode:"monotone",borderWidth:1.5},bar:{borderWidth:1.5,borderRadius:4},point:{hitRadius:50}},locale:(0,h.Yf)(this.hass.locale),onClick:e=>{if(!this.clickForMoreInfo||(0,m.a)(e))return;const t=e.chart,i=t.getElementsAtEventForMode(e,"nearest",{intersect:!0},!0);if(i.length){const e=i[0],a=this._statisticIds[e.datasetIndex];(0,u.OQ)(a)||((0,c.r)(this,"hass-more-info",{entityId:a}),t.canvas.dispatchEvent(new Event("mouseout")))}}}}},{kind:"field",key:"_getStatisticsMetaData",value(){return(0,r.A)((async e=>{const t=await(0,u.Wr)(this.hass,e),i={};return t.forEach((e=>{i[e.statistic_id]=e})),i}))}},{kind:"method",key:"_generateData",value:async function(){if(!this.statisticsData)return;const e=this.metadata||await this._getStatisticsMetaData(Object.keys(this.statisticsData));let t=0;const i=Object.entries(this.statisticsData),a=[],s=[],o=[];let n,r;if(0===i.length)return;n=this.endTime||new Date(Math.max(...i.map((([e,t])=>new Date(t[t.length-1].start).getTime())))),n>new Date&&(n=new Date);const d=this.names||{};i.forEach((([i,n])=>{const c=e?.[i];let h=d[i];void 0===h&&(h=(0,u.$O)(this.hass,i,c)),this.unit||(void 0===r?r=(0,u.JE)(this.hass,i,c):null!==r&&r!==(0,u.JE)(this.hass,i,c)&&(r=null));let m,y=null;const p=[],f=[],v=(e,t,i)=>{i&&(e>t||(p.forEach(((t,a)=>{"line"===this.chartType&&m&&y&&m.getTime()!==e.getTime()&&(t.data.push({x:m.getTime(),y:y[a]}),t.data.push({x:m.getTime(),y:null})),t.data.push({x:e.getTime(),y:i[a]})})),y=i,m=t))},_=(0,l.fI)(t,this._computedStyle||getComputedStyle(this));t++;const g=[],b=this.statTypes.includes("mean")&&(0,u.iY)(n,"mean"),k=b||this.statTypes.includes("min")&&(0,u.iY)(n,"min")&&this.statTypes.includes("max")&&(0,u.iY)(n,"max"),w=k?[...this.statTypes].sort(((e,t)=>"min"===e||"max"===t?-1:"max"===e||"min"===t?1:0)):this.statTypes;let $=!1;w.forEach((e=>{if((0,u.iY)(n,e)){const t=k&&("min"===e||"max"===e);if(!this.hideLegend){const t=b?"mean"===e:!1===$;f.push({legend_label:h,show_legend:t}),$=$||t}g.push(e),p.push({label:h?`${h} (${this.hass.localize(`ui.components.statistics_charts.statistic_types.${e}`)})\n            `:this.hass.localize(`ui.components.statistics_charts.statistic_types.${e}`),fill:!!k&&("min"===e&&b?"+1":"max"===e&&"-1"),borderColor:t&&b?_+(this.hideLegend?"00":"7F"):_,backgroundColor:t?_+"3F":_+"7F",pointRadius:0,hidden:!this.hideLegend&&this._hiddenStats.has(i),data:[],unit:c?.unit_of_measurement,band:t}),o.push(i)}}));let x=null,M=null;n.forEach((e=>{const t=new Date(e.start);if(x===t)return;x=t;const i=[];g.forEach((t=>{let a;"sum"===t?null==M?(a=0,M=e.sum):a=(e.sum||0)-M:a=e[t],i.push(a??null)})),v(t,new Date(e.end),i)})),Array.prototype.push.apply(a,p),Array.prototype.push.apply(s,f)})),r&&this._createOptions(r),this._chartData={datasets:a},this._chartDatasetExtra=s,this._statisticIds=o}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`:host{display:block;min-height:60px}.info{text-align:center;line-height:60px;color:var(--secondary-text-color)}`}}]}}),o.WF);a()}catch(e){a(e)}}))},74455:(e,t,i)=>{var a=i(36312),s=i(14565),o=i(77706);(0,a.A)([(0,o.EM)("ha-chip-set")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[]}}),s.Y)},24793:(e,t,i)=>{var a=i(36312),s=i(68689),o=i(82372),n=i(15112),r=i(77706);(0,a.A)([(0,r.EM)("ha-input-chip")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",static:!0,key:"styles",value(){return[...(0,s.A)(i,"styles",this),n.AH`:host{--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--primary-text-color);--md-sys-color-on-secondary-container:var(--primary-text-color);--md-input-chip-container-shape:16px;--md-input-chip-outline-color:var(--outline-color);--md-input-chip-selected-container-color:rgba(
          var(--rgb-primary-text-color),
          0.15
        );--ha-input-chip-selected-container-opacity:1;--md-input-chip-label-text-font:Roboto,sans-serif}::slotted([slot=icon]){display:flex;--mdc-icon-size:var(--md-input-chip-icon-size, 18px)}.selected::before{opacity:var(--ha-input-chip-selected-container-opacity)}`]}}]}}),o.U)},35212:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(36312),s=i(68689),o=i(15112),n=i(77706),r=i(85323),l=i(99890),d=i(51853),c=i(65459),h=i(19244),u=i(10252),m=i(57636),y=i(9883),p=i(2851),f=(i(20366),i(70857),e([m]));m=(f.then?(await f)():f)[0];const v="M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z",_=["alarm_control_panel","device_tracker","person"],g=(e,t)=>(0,l.g)(_)(e)&&(0,l.g)(u.v[e])(t)?`${e}.${t}`:null;(0,a.A)([(0,n.EM)("ha-state-label-badge")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"state",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"name",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"icon",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"image",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"showName",value:()=>!1},{kind:"field",decorators:[(0,n.wk)()],key:"_timerTimeRemaining",value:void 0},{kind:"field",key:"_connected",value:void 0},{kind:"field",key:"_updateRemaining",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,s.A)(i,"connectedCallback",this,3)([]),this._connected=!0,this.startInterval(this.state)}},{kind:"method",key:"disconnectedCallback",value:function(){(0,s.A)(i,"disconnectedCallback",this,3)([]),this._connected=!1,this.clearInterval()}},{kind:"method",key:"render",value:function(){const e=this.state;if(!e)return o.qy` <ha-label-badge class="warning" label="${this.hass.localize("state_badge.default.error")}" description="${this.hass.localize("state_badge.default.entity_not_found")}"> <ha-svg-icon .path="${v}"></ha-svg-icon> </ha-label-badge> `;const t=(0,c.t)(e),i=this.hass?.entities[e.entity_id],a=this.icon||this._computeShowIcon(t,e,i),s=this.icon?"":this.image?this.image:e.attributes.entity_picture_local||e.attributes.entity_picture,n=s||a?void 0:this._computeValue(t,e,i);return o.qy` <ha-label-badge class="${(0,r.H)({[t]:!0,"has-unit_of_measurement":"unit_of_measurement"in e.attributes})}" .image="${s}" .label="${this._computeLabel(t,e,this._timerTimeRemaining)}" .description="${this.showName?this.name??(0,h.u)(e):void 0}"> ${!s&&a?o.qy`<ha-state-icon .icon="${this.icon}" .stateObj="${e}" .hass="${this.hass}"></ha-state-icon>`:""} ${!n||s||a?"":o.qy`<span class="${n&&n.length>4?"big":""}">${n}</span>`} </ha-label-badge> `}},{kind:"method",key:"updated",value:function(e){(0,s.A)(i,"updated",this,3)([e]),this._connected&&e.has("state")&&this.startInterval(this.state)}},{kind:"method",key:"_computeValue",value:function(e,t,i){switch(e){case"alarm_control_panel":case"binary_sensor":case"device_tracker":case"person":case"scene":case"sun":case"timer":return null;case"sensor":if("moon"===i?.platform)return null;default:return t.state===y.HV||t.state===y.Hh?"—":(0,m.x)(t)?(0,m.ZV)(t.state,this.hass.locale,(0,m.ZQ)(t,i)):this.hass.formatEntityState(t)}}},{kind:"method",key:"_computeShowIcon",value:function(e,t,i){if(t.state===y.Hh)return!1;switch(e){case"alarm_control_panel":case"binary_sensor":case"device_tracker":case"person":case"scene":case"sun":case"timer":return!0;case"sensor":return"moon"===i?.platform;default:return!1}}},{kind:"method",key:"_computeLabel",value:function(e,t,i=0){if((0,y.g0)(t.state))return this.hass.localize(`state_badge.default.${t.state}`);const a=g(e,t.state);return a?this.hass.localize(`state_badge.${a}`):"person"===e||"device_tracker"===e?t.state:"timer"===e?(0,d.A)(i):t.attributes.unit_of_measurement||null}},{kind:"method",key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this._updateRemaining&&(clearInterval(this._updateRemaining),this._updateRemaining=void 0)}))},{kind:"method",key:"startInterval",value:function(e){this.clearInterval(),e&&"timer"===(0,c.t)(e)&&(this.calculateTimerRemaining(e),"active"===e.state&&(this._updateRemaining=window.setInterval((()=>this.calculateTimerRemaining(this.state)),1e3)))}},{kind:"method",key:"calculateTimerRemaining",value:function(e){this._timerTimeRemaining=(0,p.ls)(e)}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`:host{cursor:pointer}.big{font-size:70%}ha-label-badge{--ha-label-badge-color:var(--label-badge-red)}ha-label-badge.has-unit_of_measurement{--ha-label-badge-label-text-transform:none}ha-label-badge.binary_sensor{--ha-label-badge-color:var(--label-badge-blue)}.red{--ha-label-badge-color:var(--label-badge-red)}.blue{--ha-label-badge-color:var(--label-badge-blue)}.green{--ha-label-badge-color:var(--label-badge-green)}.yellow{--ha-label-badge-color:var(--label-badge-yellow)}.grey{--ha-label-badge-color:var(--label-badge-grey)}.warning{--ha-label-badge-color:var(--label-badge-yellow)}`}}]}}),o.WF);t()}catch(e){t(e)}}))},13292:(e,t,i)=>{i.r(t);var a=i(36312),s=i(15112),o=i(77706),n=i(85323),r=i(34897);i(28066),i(88400);const l={info:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z",warning:"M12,2L1,21H23M12,6L19.53,19H4.47M11,10V14H13V10M11,16V18H13V16",error:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z",success:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2,4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"};(0,a.A)([(0,o.EM)("ha-alert")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)()],key:"title",value:()=>""},{kind:"field",decorators:[(0,o.MZ)({attribute:"alert-type"})],key:"alertType",value:()=>"info"},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"dismissable",value:()=>!1},{kind:"method",key:"render",value:function(){return s.qy` <div class="issue-type ${(0,n.H)({[this.alertType]:!0})}" role="alert"> <div class="icon ${this.title?"":"no-title"}"> <slot name="icon"> <ha-svg-icon .path="${l[this.alertType]}"></ha-svg-icon> </slot> </div> <div class="content"> <div class="main-content"> ${this.title?s.qy`<div class="title">${this.title}</div>`:""} <slot></slot> </div> <div class="action"> <slot name="action"> ${this.dismissable?s.qy`<ha-icon-button @click="${this._dismiss_clicked}" label="Dismiss alert" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}"></ha-icon-button>`:""} </slot> </div> </div> </div> `}},{kind:"method",key:"_dismiss_clicked",value:function(){(0,r.r)(this,"alert-dismissed-clicked")}},{kind:"field",static:!0,key:"styles",value:()=>s.AH`.issue-type{position:relative;padding:8px;display:flex}.issue-type::after{position:absolute;top:0;right:0;bottom:0;left:0;opacity:.12;pointer-events:none;content:"";border-radius:4px}.icon{z-index:1}.icon.no-title{align-self:center}.content{display:flex;justify-content:space-between;align-items:center;width:100%;text-align:var(--float-start)}.action{z-index:1;width:min-content;--mdc-theme-primary:var(--primary-text-color)}.main-content{overflow-wrap:anywhere;word-break:break-word;margin-left:8px;margin-right:0;margin-inline-start:8px;margin-inline-end:0}.title{margin-top:2px;font-weight:700}.action ha-icon-button,.action mwc-button{--mdc-theme-primary:var(--primary-text-color);--mdc-icon-button-size:36px}.issue-type.info>.icon{color:var(--info-color)}.issue-type.info::after{background-color:var(--info-color)}.issue-type.warning>.icon{color:var(--warning-color)}.issue-type.warning::after{background-color:var(--warning-color)}.issue-type.error>.icon{color:var(--error-color)}.issue-type.error::after{background-color:var(--error-color)}.issue-type.success>.icon{color:var(--success-color)}.issue-type.success::after{background-color:var(--success-color)}:host ::slotted(ul){margin:0;padding-inline-start:20px}`}]}}),s.WF)},25756:(e,t,i)=>{var a=i(36312),s=(i(253),i(5186),i(2075),i(16891),i(4525),i(15112)),o=i(77706),n=i(85323),r=i(94100),l=i(34897),d=i(213),c=i(55792),h=i(96915),u=i(10725),m=i(6121),y=i(47293);i(43536),i(28066),i(13830),i(88400);const p=e=>s.qy`<ha-list-item graphic="icon" class="${(0,n.H)({"add-new":e.area_id===f})}"> ${e.icon?s.qy`<ha-icon slot="graphic" .icon="${e.icon}"></ha-icon>`:s.qy`<ha-svg-icon slot="graphic" .path="${"M20 2H4C2.9 2 2 2.9 2 4V20C2 21.11 2.9 22 4 22H20C21.11 22 22 21.11 22 20V4C22 2.9 21.11 2 20 2M4 6L6 4H10.9L4 10.9V6M4 13.7L13.7 4H18.6L4 18.6V13.7M20 18L18 20H13.1L20 13.1V18M20 10.3L10.3 20H5.4L20 5.4V10.3Z"}"></ha-svg-icon>`} ${e.name} </ha-list-item>`,f="___ADD_NEW___",v="___NO_ITEMS___",_="___ADD_NEW_SUGGESTION___";(0,a.A)([(0,o.EM)("ha-area-picker")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"placeholder",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean,attribute:"no-add"})],key:"noAdd",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Array,attribute:"include-domains"})],key:"includeDomains",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Array,attribute:"exclude-domains"})],key:"excludeDomains",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Array,attribute:"include-device-classes"})],key:"includeDeviceClasses",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Array,attribute:"exclude-areas"})],key:"excludeAreas",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"deviceFilter",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"entityFilter",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"required",value:()=>!1},{kind:"field",decorators:[(0,o.wk)()],key:"_opened",value:void 0},{kind:"field",decorators:[(0,o.P)("ha-combo-box",!0)],key:"comboBox",value:void 0},{kind:"field",key:"_suggestion",value:void 0},{kind:"field",key:"_init",value:()=>!1},{kind:"method",key:"open",value:async function(){await this.updateComplete,await(this.comboBox?.open())}},{kind:"method",key:"focus",value:async function(){await this.updateComplete,await(this.comboBox?.focus())}},{kind:"field",key:"_getAreas",value(){return(0,r.A)(((e,t,i,a,s,o,n,r,l,c)=>{let h,m,y={};(a||s||o||n||r)&&(y=(0,u.g2)(i),h=t,m=i.filter((e=>e.area_id)),a&&(h=h.filter((e=>{const t=y[e.id];return!(!t||!t.length)&&y[e.id].some((e=>a.includes((0,d.m)(e.entity_id))))})),m=m.filter((e=>a.includes((0,d.m)(e.entity_id))))),s&&(h=h.filter((e=>{const t=y[e.id];return!t||!t.length||i.every((e=>!s.includes((0,d.m)(e.entity_id))))})),m=m.filter((e=>!s.includes((0,d.m)(e.entity_id))))),o&&(h=h.filter((e=>{const t=y[e.id];return!(!t||!t.length)&&y[e.id].some((e=>{const t=this.hass.states[e.entity_id];return!!t&&(t.attributes.device_class&&o.includes(t.attributes.device_class))}))})),m=m.filter((e=>{const t=this.hass.states[e.entity_id];return t.attributes.device_class&&o.includes(t.attributes.device_class)}))),n&&(h=h.filter((e=>n(e)))),r&&(h=h.filter((e=>{const t=y[e.id];return!(!t||!t.length)&&y[e.id].some((e=>{const t=this.hass.states[e.entity_id];return!!t&&r(t)}))})),m=m.filter((e=>{const t=this.hass.states[e.entity_id];return!!t&&r(t)}))));let p,_=e;return h&&(p=h.filter((e=>e.area_id)).map((e=>e.area_id))),m&&(p=(p??[]).concat(m.filter((e=>e.area_id)).map((e=>e.area_id)))),p&&(_=_.filter((e=>p.includes(e.area_id)))),c&&(_=_.filter((e=>!c.includes(e.area_id)))),_.length||(_=[{area_id:v,floor_id:null,name:this.hass.localize("ui.components.area-picker.no_areas"),picture:null,icon:null,aliases:[],labels:[],created_at:0,modified_at:0}]),l?_:[..._,{area_id:f,floor_id:null,name:this.hass.localize("ui.components.area-picker.add_new"),picture:null,icon:"mdi:plus",aliases:[],labels:[],created_at:0,modified_at:0}]}))}},{kind:"method",key:"updated",value:function(e){if(!this._init&&this.hass||this._init&&e.has("_opened")&&this._opened){this._init=!0;const e=this._getAreas(Object.values(this.hass.areas),Object.values(this.hass.devices),Object.values(this.hass.entities),this.includeDomains,this.excludeDomains,this.includeDeviceClasses,this.deviceFilter,this.entityFilter,this.noAdd,this.excludeAreas).map((e=>({...e,strings:[e.area_id,...e.aliases,e.name]})));this.comboBox.items=e,this.comboBox.filteredItems=e}}},{kind:"method",key:"render",value:function(){return s.qy` <ha-combo-box .hass="${this.hass}" .helper="${this.helper}" item-value-path="area_id" item-id-path="area_id" item-label-path="name" .value="${this._value}" .disabled="${this.disabled}" .required="${this.required}" .label="${void 0===this.label&&this.hass?this.hass.localize("ui.components.area-picker.area"):this.label}" .placeholder="${this.placeholder?this.hass.areas[this.placeholder]?.name:void 0}" .renderer="${p}" @filter-changed="${this._filterChanged}" @opened-changed="${this._openedChanged}" @value-changed="${this._areaChanged}"> </ha-combo-box> `}},{kind:"method",key:"_filterChanged",value:function(e){const t=e.target,i=e.detail.value;if(!i)return void(this.comboBox.filteredItems=this.comboBox.items);const a=(0,c.H)(i,t.items?.filter((e=>![v,f].includes(e.label_id)))||[]);0===a.length?this.noAdd?(this._suggestion=i,this.comboBox.filteredItems=[{area_id:_,floor_id:null,name:this.hass.localize("ui.components.area-picker.add_new_sugestion",{name:this._suggestion}),icon:"mdi:plus",picture:null,labels:[],aliases:[],created_at:0,modified_at:0}]):this.comboBox.filteredItems=[{area_id:v,floor_id:null,name:this.hass.localize("ui.components.area-picker.no_match"),icon:null,picture:null,labels:[],aliases:[],created_at:0,modified_at:0}]:this.comboBox.filteredItems=a}},{kind:"get",key:"_value",value:function(){return this.value||""}},{kind:"method",key:"_openedChanged",value:function(e){this._opened=e.detail.value}},{kind:"method",key:"_areaChanged",value:function(e){e.stopPropagation();let t=e.detail.value;if(t===v)return t="",void this.comboBox.setInputValue("");[_,f].includes(t)?(e.target.value=this._value,this.hass.loadFragmentTranslation("config"),(0,y.J)(this,{suggestedName:t===_?this._suggestion:"",createEntry:async e=>{try{const t=await(0,h.L3)(this.hass,e),i=[...Object.values(this.hass.areas),t];this.comboBox.filteredItems=this._getAreas(i,Object.values(this.hass.devices),Object.values(this.hass.entities),this.includeDomains,this.excludeDomains,this.includeDeviceClasses,this.deviceFilter,this.entityFilter,this.noAdd,this.excludeAreas),await this.updateComplete,await this.comboBox.updateComplete,this._setValue(t.area_id)}catch(e){(0,m.showAlertDialog)(this,{title:this.hass.localize("ui.components.area-picker.failed_create_area"),text:e.message})}}}),this._suggestion=void 0,this.comboBox.setInputValue("")):t!==this._value&&this._setValue(t)}},{kind:"method",key:"_setValue",value:function(e){this.value=e,setTimeout((()=>{(0,l.r)(this,"value-changed",{value:e}),(0,l.r)(this,"change")}),0)}}]}}),s.WF)},30233:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(36312),s=(i(253),i(2075),i(16891),i(15112)),o=i(77706),n=i(29596),r=i(75795),l=i(55321),d=i(32018),c=(i(15720),e([n,d]));[n,d]=c.then?(await c)():c;(0,a.A)([(0,o.EM)("ha-attributes")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"stateObj",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:"extra-filters"})],key:"extraFilters",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_expanded",value:()=>!1},{kind:"get",key:"_filteredAttributes",value:function(){return this.computeDisplayAttributes(r.sy.concat(this.extraFilters?this.extraFilters.split(","):[]))}},{kind:"method",key:"willUpdate",value:function(e){(e.has("extraFilters")||e.has("stateObj"))&&this.toggleAttribute("empty",0===this._filteredAttributes.length)}},{kind:"method",key:"render",value:function(){if(!this.stateObj)return s.s6;const e=this._filteredAttributes;return 0===e.length?s.s6:s.qy` <ha-expansion-panel .header="${this.hass.localize("ui.components.attributes.expansion_header")}" outlined @expanded-will-change="${this.expandedChanged}"> <div class="attribute-container"> ${this._expanded?s.qy` ${e.map((e=>s.qy` <div class="data-entry"> <div class="key"> ${(0,n.computeAttributeNameDisplay)(this.hass.localize,this.stateObj,this.hass.entities,e)} </div> <div class="value"> <ha-attribute-value .hass="${this.hass}" .attribute="${e}" .stateObj="${this.stateObj}"></ha-attribute-value> </div> </div> `))} `:""} </div> </ha-expansion-panel> ${this.stateObj.attributes.attribution?s.qy` <div class="attribution"> ${this.stateObj.attributes.attribution} </div> `:""} `}},{kind:"get",static:!0,key:"styles",value:function(){return[l.RF,s.AH`.attribute-container{margin-bottom:8px;direction:ltr}.data-entry{display:flex;flex-direction:row;justify-content:space-between}.data-entry .value{max-width:60%;overflow-wrap:break-word;text-align:right}.key{flex-grow:1}.attribution{color:var(--secondary-text-color);text-align:center;margin-top:16px}hr{border-color:var(--divider-color);border-bottom:none;margin:16px 0}`]}},{kind:"method",key:"computeDisplayAttributes",value:function(e){return this.stateObj?Object.keys(this.stateObj.attributes).filter((t=>-1===e.indexOf(t))):[]}},{kind:"method",key:"expandedChanged",value:function(e){this._expanded=e.detail.expanded}}]}}),s.WF);t()}catch(e){t(e)}}))},83941:(e,t,i)=>{var a=i(36312),s=i(15112),o=i(77706),n=i(85323),r=i(10977);i(23562);(0,a.A)([(0,o.EM)("ha-badge")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)()],key:"type",value:()=>"badge"},{kind:"field",decorators:[(0,o.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean,attribute:"icon-only"})],key:"iconOnly",value:()=>!1},{kind:"method",key:"render",value:function(){const e=this.label;return s.qy` <div class="badge ${(0,n.H)({"icon-only":this.iconOnly})}" role="${(0,r.J)("button"===this.type?"button":void 0)}" tabindex="${(0,r.J)("button"===this.type?"0":void 0)}"> <ha-ripple .disabled="${"button"!==this.type}"></ha-ripple> <slot name="icon"></slot> ${this.iconOnly?s.s6:s.qy`<span class="info"> ${e?s.qy`<span class="label">${e}</span>`:s.s6} <span class="content"><slot></slot></span> </span>`} </div> `}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`:host{--badge-color:var(--secondary-text-color);-webkit-tap-highlight-color:transparent}.badge{position:relative;--ha-ripple-color:var(--badge-color);--ha-ripple-hover-opacity:0.04;--ha-ripple-pressed-opacity:0.12;transition:box-shadow 180ms ease-in-out,border-color 180ms ease-in-out;display:flex;flex-direction:row;align-items:center;justify-content:center;gap:8px;height:var(--ha-badge-size,36px);min-width:var(--ha-badge-size,36px);padding:0px 12px;box-sizing:border-box;width:auto;border-radius:var(--ha-badge-border-radius,calc(var(--ha-badge-size,36px)/ 2));background:var(--ha-card-background,var(--card-background-color,#fff));-webkit-backdrop-filter:var(--ha-card-backdrop-filter,none);backdrop-filter:var(--ha-card-backdrop-filter,none);border-width:var(--ha-card-border-width,1px);box-shadow:var(--ha-card-box-shadow,none);border-style:solid;border-color:var(--ha-card-border-color,var(--divider-color,#e0e0e0))}.badge:focus-visible{--shadow-default:var(--ha-card-box-shadow, 0 0 0 0 transparent);--shadow-focus:0 0 0 1px var(--badge-color);border-color:var(--badge-color);box-shadow:var(--shadow-default),var(--shadow-focus)}[role=button]{cursor:pointer}[role=button]:focus{outline:0}.info{display:flex;flex-direction:column;align-items:flex-start;padding-inline-start:initial;text-align:center;font-family:Roboto}.label{font-size:10px;font-style:normal;font-weight:500;line-height:10px;letter-spacing:.1px;color:var(--secondary-text-color)}.content{font-size:12px;font-style:normal;font-weight:500;line-height:16px;letter-spacing:.1px;color:var(--primary-text-color)}::slotted([slot=icon]){--mdc-icon-size:18px;color:var(--badge-color);line-height:0;margin-left:-4px;margin-right:0;margin-inline-start:-4px;margin-inline-end:0}::slotted(img[slot=icon]){width:30px;height:30px;border-radius:50%;object-fit:cover;overflow:hidden;margin-left:-10px;margin-right:0;margin-inline-start:-10px;margin-inline-end:0}.badge.icon-only{padding:0}.badge.icon-only ::slotted([slot=icon]){margin-left:0;margin-right:0;margin-inline-start:0;margin-inline-end:0}`}}]}}),s.WF)},77372:(e,t,i)=>{var a=i(36312),s=i(72606),o=i(15112),n=i(77706),r=i(49141);(0,a.A)([(0,n.EM)("ha-button")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",static:!0,key:"styles",value:()=>[r.R,o.AH`::slotted([slot=icon]){margin-inline-start:0px;margin-inline-end:8px;direction:var(--direction);display:block}.mdc-button{height:var(--button-height,36px)}.trailing-icon{display:flex}.slot-container{overflow:var(--button-slot-container-overflow,visible)}`]}]}}),s.Button)},65619:(e,t,i)=>{var a=i(36312),s=i(68689),o=i(15112),n=i(77706),r=i(33922),l=i(19244),d=i(42496),c=i(47007),h=(i(62745),i(253),i(54846),i(34897));i(13292);(0,a.A)([(0,n.EM)("ha-web-rtc-player")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"entityid",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Boolean,attribute:"controls"})],key:"controls",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean,attribute:"muted"})],key:"muted",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean,attribute:"autoplay"})],key:"autoPlay",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean,attribute:"playsinline"})],key:"playsInline",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)()],key:"posterUrl",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,n.P)("#remote-stream")],key:"_videoEl",value:void 0},{kind:"field",key:"_peerConnection",value:void 0},{kind:"field",key:"_remoteStream",value:void 0},{kind:"method",key:"render",value:function(){return this._error?o.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:o.qy` <video id="remote-stream" ?autoplay="${this.autoPlay}" .muted="${this.muted}" ?playsinline="${this.playsInline}" ?controls="${this.controls}" .poster="${this.posterUrl}" @loadeddata="${this._loadedData}"></video> `}},{kind:"method",key:"connectedCallback",value:function(){(0,s.A)(i,"connectedCallback",this,3)([]),this.hasUpdated&&this._startWebRtc()}},{kind:"method",key:"disconnectedCallback",value:function(){(0,s.A)(i,"disconnectedCallback",this,3)([]),this._cleanUp()}},{kind:"method",key:"updated",value:function(e){e.has("entityid")&&this._videoEl&&this._startWebRtc()}},{kind:"method",key:"_startWebRtc",value:async function(){this._error=void 0;const e=await this._fetchPeerConfiguration(),t=new RTCPeerConnection(e);t.createDataChannel("dataSendChannel"),t.addTransceiver("audio",{direction:"recvonly"}),t.addTransceiver("video",{direction:"recvonly"});const i=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});await t.setLocalDescription(i);let a="";const s=new Promise((e=>{t.addEventListener("icecandidate",(async t=>{t.candidate?.candidate?a+=`a=${t.candidate.candidate}\r\n`:e()}))}));await s;const o=i.sdp+a;let n;try{n=await(0,c.ey)(this.hass,this.entityid,o)}catch(e){return this._error="Failed to start WebRTC stream: "+e.message,void t.close()}const r=new MediaStream;t.addEventListener("track",(e=>{r.addTrack(e.track),this._videoEl.srcObject=r})),this._remoteStream=r;const l=new RTCSessionDescription({type:"answer",sdp:n.answer});try{await t.setRemoteDescription(l)}catch(e){return this._error="Failed to connect WebRTC stream: "+e.message,void t.close()}this._peerConnection=t}},{kind:"method",key:"_fetchPeerConfiguration",value:async function(){if(!(0,r.x)(this.hass,"rtsp_to_webrtc"))return{};const e=await(async e=>e.callWS({type:"rtsp_to_webrtc/get_settings"}))(this.hass);return e&&e.stun_server?{iceServers:[{urls:[`stun:${e.stun_server}`]}]}:{}}},{kind:"method",key:"_cleanUp",value:function(){this._remoteStream&&(this._remoteStream.getTracks().forEach((e=>{e.stop()})),this._remoteStream=void 0),this._videoEl&&(this._videoEl.removeAttribute("src"),this._videoEl.load()),this._peerConnection&&(this._peerConnection.close(),this._peerConnection=void 0)}},{kind:"method",key:"_loadedData",value:function(){(0,h.r)(this,"load")}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`:host,video{display:block}video{width:100%;max-height:var(--video-max-height,calc(100vh - 97px))}`}}]}}),o.WF),(0,a.A)([(0,n.EM)("ha-camera-stream")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"stateObj",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Boolean,attribute:"controls"})],key:"controls",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean,attribute:"muted"})],key:"muted",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean,attribute:"allow-exoplayer"})],key:"allowExoPlayer",value:()=>!1},{kind:"field",decorators:[(0,n.wk)()],key:"_posterUrl",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_forceMJPEG",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_url",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_connected",value:()=>!1},{kind:"method",key:"willUpdate",value:function(e){e.has("stateObj")&&!this._shouldRenderMJPEG&&this.stateObj&&e.get("stateObj")?.entity_id!==this.stateObj.entity_id&&(this._getPosterUrl(),this.stateObj.attributes.frontend_stream_type===c.Ub&&(this._forceMJPEG=void 0,this._url=void 0,this._getStreamUrl()))}},{kind:"method",key:"connectedCallback",value:function(){(0,s.A)(i,"connectedCallback",this,3)([]),this._connected=!0}},{kind:"method",key:"disconnectedCallback",value:function(){(0,s.A)(i,"disconnectedCallback",this,3)([]),this._connected=!1}},{kind:"method",key:"render",value:function(){return this.stateObj?this._shouldRenderMJPEG?o.qy`<img .src="${this._connected?(0,c.CK)(this.stateObj):""}" .alt="${`Preview of the ${(0,l.u)(this.stateObj)} camera.`}">`:this.stateObj.attributes.frontend_stream_type===c.Ub?this._url?o.qy`<ha-hls-player autoplay playsinline .allowExoPlayer="${this.allowExoPlayer}" .muted="${this.muted}" .controls="${this.controls}" .hass="${this.hass}" .url="${this._url}" .posterUrl="${this._posterUrl}"></ha-hls-player>`:o.s6:this.stateObj.attributes.frontend_stream_type===c.zS?o.qy`<ha-web-rtc-player autoplay playsinline .muted="${this.muted}" .controls="${this.controls}" .hass="${this.hass}" .entityid="${this.stateObj.entity_id}" .posterUrl="${this._posterUrl}"></ha-web-rtc-player>`:o.s6:o.s6}},{kind:"get",key:"_shouldRenderMJPEG",value:function(){return this._forceMJPEG===this.stateObj.entity_id||(!(0,d.$)(this.stateObj,c.JT)||(this.stateObj.attributes.frontend_stream_type===c.zS?"undefined"==typeof RTCPeerConnection:!(0,r.x)(this.hass,"stream")))}},{kind:"method",key:"_getPosterUrl",value:async function(){try{this._posterUrl=await(0,c.C4)(this.hass,this.stateObj.entity_id,this.clientWidth,this.clientHeight)}catch(e){this._posterUrl=void 0}}},{kind:"method",key:"_getStreamUrl",value:async function(){try{const{url:e}=await(0,c.wv)(this.hass,this.stateObj.entity_id);this._url=e}catch(e){console.error(e),this._forceMJPEG=this.stateObj.entity_id}}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`:host,img{display:block}img{width:100%}`}}]}}),o.WF)},31979:(e,t,i)=>{var a=i(36312),s=i(68689),o=(i(89655),i(16891),i(15112)),n=i(77706),r=i(94100),l=i(34897),d=i(79051);i(20144);const c={key:"Mod-s",run:e=>((0,l.r)(e.dom,"editor-save"),!0)},h=e=>{const t=document.createElement("ha-icon");return t.icon=e.label,t};(0,a.A)([(0,n.EM)("ha-code-editor")],(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",key:"codemirror",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"mode",value:()=>"yaml"},{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"autofocus",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"readOnly",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"linewrap",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean,attribute:"autocomplete-entities"})],key:"autocompleteEntities",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean,attribute:"autocomplete-icons"})],key:"autocompleteIcons",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"error",value:()=>!1},{kind:"field",decorators:[(0,n.wk)()],key:"_value",value:()=>""},{kind:"field",key:"_loadedCodeMirror",value:void 0},{kind:"field",key:"_iconList",value:void 0},{kind:"set",key:"value",value:function(e){this._value=e}},{kind:"get",key:"value",value:function(){return this.codemirror?this.codemirror.state.doc.toString():this._value}},{kind:"get",key:"hasComments",value:function(){if(!this.codemirror||!this._loadedCodeMirror)return!1;const e=this._loadedCodeMirror.highlightingFor(this.codemirror.state,[this._loadedCodeMirror.tags.comment]);return!!this.renderRoot.querySelector(`span.${e}`)}},{kind:"method",key:"connectedCallback",value:function(){(0,s.A)(a,"connectedCallback",this,3)([]),this.hasUpdated&&this.requestUpdate(),this.addEventListener("keydown",d.d),this.codemirror&&!1!==this.autofocus&&this.codemirror.focus()}},{kind:"method",key:"disconnectedCallback",value:function(){(0,s.A)(a,"disconnectedCallback",this,3)([]),this.removeEventListener("keydown",d.d),this.updateComplete.then((()=>{this.codemirror.destroy(),delete this.codemirror}))}},{kind:"method",key:"scheduleUpdate",value:async function(){this._loadedCodeMirror??=await Promise.all([i.e(61060),i.e(96087),i.e(30008),i.e(61449)]).then(i.bind(i,61449)),(0,s.A)(a,"scheduleUpdate",this,3)([])}},{kind:"method",key:"update",value:function(e){if((0,s.A)(a,"update",this,3)([e]),!this.codemirror)return void this._createCodeMirror();const t=[];e.has("mode")&&t.push({effects:[this._loadedCodeMirror.langCompartment.reconfigure(this._mode),this._loadedCodeMirror.foldingCompartment.reconfigure(this._getFoldingExtensions())]}),e.has("readOnly")&&t.push({effects:this._loadedCodeMirror.readonlyCompartment.reconfigure(this._loadedCodeMirror.EditorView.editable.of(!this.readOnly))}),e.has("linewrap")&&t.push({effects:this._loadedCodeMirror.linewrapCompartment.reconfigure(this.linewrap?this._loadedCodeMirror.EditorView.lineWrapping:[])}),e.has("_value")&&this._value!==this.value&&t.push({changes:{from:0,to:this.codemirror.state.doc.length,insert:this._value}}),t.length>0&&this.codemirror.dispatch(...t),e.has("error")&&this.classList.toggle("error-state",this.error)}},{kind:"get",key:"_mode",value:function(){return this._loadedCodeMirror.langs[this.mode]}},{kind:"method",key:"_createCodeMirror",value:function(){if(!this._loadedCodeMirror)throw new Error("Cannot create editor before CodeMirror is loaded");const e=[this._loadedCodeMirror.lineNumbers(),this._loadedCodeMirror.history(),this._loadedCodeMirror.drawSelection(),this._loadedCodeMirror.EditorState.allowMultipleSelections.of(!0),this._loadedCodeMirror.rectangularSelection(),this._loadedCodeMirror.crosshairCursor(),this._loadedCodeMirror.highlightSelectionMatches(),this._loadedCodeMirror.highlightActiveLine(),this._loadedCodeMirror.indentationMarkers({thickness:0,activeThickness:1,colors:{activeLight:"var(--secondary-text-color)",activeDark:"var(--secondary-text-color)"}}),this._loadedCodeMirror.keymap.of([...this._loadedCodeMirror.defaultKeymap,...this._loadedCodeMirror.searchKeymap,...this._loadedCodeMirror.historyKeymap,...this._loadedCodeMirror.tabKeyBindings,c]),this._loadedCodeMirror.langCompartment.of(this._mode),this._loadedCodeMirror.haTheme,this._loadedCodeMirror.haSyntaxHighlighting,this._loadedCodeMirror.readonlyCompartment.of(this._loadedCodeMirror.EditorView.editable.of(!this.readOnly)),this._loadedCodeMirror.linewrapCompartment.of(this.linewrap?this._loadedCodeMirror.EditorView.lineWrapping:[]),this._loadedCodeMirror.EditorView.updateListener.of(this._onUpdate),this._loadedCodeMirror.foldingCompartment.of(this._getFoldingExtensions())];if(!this.readOnly){const t=[];this.autocompleteEntities&&this.hass&&t.push(this._entityCompletions.bind(this)),this.autocompleteIcons&&t.push(this._mdiCompletions.bind(this)),t.length>0&&e.push(this._loadedCodeMirror.autocompletion({override:t,maxRenderedOptions:10}))}this.codemirror=new this._loadedCodeMirror.EditorView({state:this._loadedCodeMirror.EditorState.create({doc:this._value,extensions:e}),parent:this.renderRoot})}},{kind:"field",key:"_getStates",value:()=>(0,r.A)((e=>{if(!e)return[];return Object.keys(e).map((t=>({type:"variable",label:t,detail:e[t].attributes.friendly_name,info:`State: ${e[t].state}`})))}))},{kind:"method",key:"_entityCompletions",value:function(e){const t=e.matchBefore(/[a-z_]{3,}\.\w*/);if(!t||t.from===t.to&&!e.explicit)return null;const i=this._getStates(this.hass.states);return i&&i.length?{from:Number(t.from),options:i,validFor:/^[a-z_]{3,}\.\w*$/}:null}},{kind:"field",key:"_getIconItems",value(){return async()=>{if(!this._iconList){let e;e=(await i.e(25143).then(i.t.bind(i,25143,19))).default,this._iconList=e.map((e=>({type:"variable",label:`mdi:${e.name}`,detail:e.keywords.join(", "),info:h})))}return this._iconList}}},{kind:"method",key:"_mdiCompletions",value:async function(e){const t=e.matchBefore(/mdi:\S*/);if(!t||t.from===t.to&&!e.explicit)return null;const i=await this._getIconItems();return{from:Number(t.from),options:i,validFor:/^mdi:\S*$/}}},{kind:"field",key:"_onUpdate",value(){return e=>{e.docChanged&&(this._value=e.state.doc.toString(),(0,l.r)(this,"value-changed",{value:this._value}))}}},{kind:"field",key:"_getFoldingExtensions",value(){return()=>"yaml"===this.mode?[this._loadedCodeMirror.foldGutter(),this._loadedCodeMirror.foldingOnIndent]:[]}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`:host(.error-state) .cm-gutters{border-color:var(--error-state-color,red)}`}}]}}),o.mN)},43536:(e,t,i)=>{var a=i(36312),s=i(68689),o=(i(253),i(54846),i(64077)),n=(i(57597),i(68711)),r=i(15112),l=i(77706),d=i(10977),c=i(34897);i(28066),i(13830),i(90431);(0,n.SF)("vaadin-combo-box-item",r.AH`:host{padding:0!important}:host([focused]:not([disabled])){background-color:rgba(var(--rgb-primary-text-color,0,0,0),.12)}:host([selected]:not([disabled])){background-color:transparent;color:var(--mdc-theme-primary);--mdc-ripple-color:var(--mdc-theme-primary);--mdc-theme-text-primary-on-background:var(--mdc-theme-primary)}:host([selected]:not([disabled])):before{background-color:var(--mdc-theme-primary);opacity:.12;content:"";position:absolute;top:0;left:0;width:100%;height:100%}:host([selected][focused]:not([disabled])):before{opacity:.24}:host(:hover:not([disabled])){background-color:transparent}[part=content]{width:100%}[part=checkmark]{display:none}`);(0,a.A)([(0,l.EM)("ha-combo-box")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,l.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,l.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,l.MZ)()],key:"placeholder",value:void 0},{kind:"field",decorators:[(0,l.MZ)()],key:"validationMessage",value:void 0},{kind:"field",decorators:[(0,l.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,l.MZ)({attribute:"error-message"})],key:"errorMessage",value:void 0},{kind:"field",decorators:[(0,l.MZ)({type:Boolean})],key:"invalid",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)({type:Boolean})],key:"icon",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"items",value:void 0},{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"filteredItems",value:void 0},{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"dataProvider",value:void 0},{kind:"field",decorators:[(0,l.MZ)({attribute:"allow-custom-value",type:Boolean})],key:"allowCustomValue",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)({attribute:"item-value-path"})],key:"itemValuePath",value:()=>"value"},{kind:"field",decorators:[(0,l.MZ)({attribute:"item-label-path"})],key:"itemLabelPath",value:()=>"label"},{kind:"field",decorators:[(0,l.MZ)({attribute:"item-id-path"})],key:"itemIdPath",value:void 0},{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"renderer",value:void 0},{kind:"field",decorators:[(0,l.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)({type:Boolean})],key:"required",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)({type:Boolean,reflect:!0})],key:"opened",value:()=>!1},{kind:"field",decorators:[(0,l.P)("vaadin-combo-box-light",!0)],key:"_comboBox",value:void 0},{kind:"field",decorators:[(0,l.P)("ha-textfield",!0)],key:"_inputElement",value:void 0},{kind:"field",key:"_overlayMutationObserver",value:void 0},{kind:"field",key:"_bodyMutationObserver",value:void 0},{kind:"method",key:"open",value:async function(){await this.updateComplete,this._comboBox?.open()}},{kind:"method",key:"focus",value:async function(){await this.updateComplete,await(this._inputElement?.updateComplete),this._inputElement?.focus()}},{kind:"method",key:"disconnectedCallback",value:function(){(0,s.A)(i,"disconnectedCallback",this,3)([]),this._overlayMutationObserver&&(this._overlayMutationObserver.disconnect(),this._overlayMutationObserver=void 0),this._bodyMutationObserver&&(this._bodyMutationObserver.disconnect(),this._bodyMutationObserver=void 0)}},{kind:"get",key:"selectedItem",value:function(){return this._comboBox.selectedItem}},{kind:"method",key:"setInputValue",value:function(e){this._comboBox.value=e}},{kind:"method",key:"render",value:function(){return r.qy` <vaadin-combo-box-light .itemValuePath="${this.itemValuePath}" .itemIdPath="${this.itemIdPath}" .itemLabelPath="${this.itemLabelPath}" .items="${this.items}" .value="${this.value||""}" .filteredItems="${this.filteredItems}" .dataProvider="${this.dataProvider}" .allowCustomValue="${this.allowCustomValue}" .disabled="${this.disabled}" .required="${this.required}" ${(0,o.d)(this.renderer||this._defaultRowRenderer)} @opened-changed="${this._openedChanged}" @filter-changed="${this._filterChanged}" @value-changed="${this._valueChanged}" attr-for-value="value"> <ha-textfield label="${(0,d.J)(this.label)}" placeholder="${(0,d.J)(this.placeholder)}" ?disabled="${this.disabled}" ?required="${this.required}" validationMessage="${(0,d.J)(this.validationMessage)}" .errorMessage="${this.errorMessage}" class="input" autocapitalize="none" autocomplete="off" autocorrect="off" input-spellcheck="false" .suffix="${r.qy`<div style="width:28px" role="none presentation"></div>`}" .icon="${this.icon}" .invalid="${this.invalid}" .helper="${this.helper}" helperPersistent> <slot name="icon" slot="leadingIcon"></slot> </ha-textfield> ${this.value?r.qy`<ha-svg-icon role="button" tabindex="-1" aria-label="${(0,d.J)(this.hass?.localize("ui.common.clear"))}" class="clear-button" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}" @click="${this._clearValue}"></ha-svg-icon>`:""} <ha-svg-icon role="button" tabindex="-1" aria-label="${(0,d.J)(this.label)}" aria-expanded="${this.opened?"true":"false"}" class="toggle-button" .path="${this.opened?"M7,15L12,10L17,15H7Z":"M7,10L12,15L17,10H7Z"}" @click="${this._toggleOpen}"></ha-svg-icon> </vaadin-combo-box-light> `}},{kind:"field",key:"_defaultRowRenderer",value(){return e=>r.qy`<ha-list-item> ${this.itemLabelPath?e[this.itemLabelPath]:e} </ha-list-item>`}},{kind:"method",key:"_clearValue",value:function(e){e.stopPropagation(),(0,c.r)(this,"value-changed",{value:void 0})}},{kind:"method",key:"_toggleOpen",value:function(e){this.opened?(this._comboBox?.close(),e.stopPropagation()):this._comboBox?.inputElement.focus()}},{kind:"method",key:"_openedChanged",value:function(e){e.stopPropagation();const t=e.detail.value;if(setTimeout((()=>{this.opened=t}),0),(0,c.r)(this,"opened-changed",{value:e.detail.value}),t){const e=document.querySelector("vaadin-combo-box-overlay");e&&this._removeInert(e),this._observeBody()}else this._bodyMutationObserver?.disconnect(),this._bodyMutationObserver=void 0}},{kind:"method",key:"_observeBody",value:function(){"MutationObserver"in window&&!this._bodyMutationObserver&&(this._bodyMutationObserver=new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{"VAADIN-COMBO-BOX-OVERLAY"===e.nodeName&&this._removeInert(e)})),e.removedNodes.forEach((e=>{"VAADIN-COMBO-BOX-OVERLAY"===e.nodeName&&(this._overlayMutationObserver?.disconnect(),this._overlayMutationObserver=void 0)}))}))})),this._bodyMutationObserver.observe(document.body,{childList:!0}))}},{kind:"method",key:"_removeInert",value:function(e){if(e.inert)return e.inert=!1,this._overlayMutationObserver?.disconnect(),void(this._overlayMutationObserver=void 0);"MutationObserver"in window&&!this._overlayMutationObserver&&(this._overlayMutationObserver=new MutationObserver((e=>{e.forEach((e=>{if("inert"===e.attributeName){const t=e.target;t.inert&&(this._overlayMutationObserver?.disconnect(),this._overlayMutationObserver=void 0,t.inert=!1)}}))})),this._overlayMutationObserver.observe(e,{attributes:!0}))}},{kind:"method",key:"_filterChanged",value:function(e){e.stopPropagation(),(0,c.r)(this,"filter-changed",{value:e.detail.value})}},{kind:"method",key:"_valueChanged",value:function(e){e.stopPropagation(),this.allowCustomValue||(this._comboBox._closeOnBlurIsPrevented=!0);const t=e.detail.value;t!==this.value&&(0,c.r)(this,"value-changed",{value:t||void 0})}},{kind:"get",static:!0,key:"styles",value:function(){return r.AH`:host{display:block;width:100%}vaadin-combo-box-light{position:relative;--vaadin-combo-box-overlay-max-height:calc(45vh - 56px)}ha-textfield{width:100%}ha-textfield>ha-icon-button{--mdc-icon-button-size:24px;padding:2px;color:var(--secondary-text-color)}ha-svg-icon{color:var(--input-dropdown-icon-color);position:absolute;cursor:pointer}.toggle-button{right:12px;top:-10px;inset-inline-start:initial;inset-inline-end:12px;direction:var(--direction)}:host([opened]) .toggle-button{color:var(--primary-color)}.clear-button{--mdc-icon-size:20px;top:-7px;right:36px;inset-inline-start:initial;inset-inline-end:36px;direction:var(--direction)}`}}]}}),r.WF)},10900:(e,t,i)=>{var a=i(36312),s=i(15112),o=i(77706);(0,a.A)([(0,o.EM)("ha-dialog-header")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"method",key:"render",value:function(){return s.qy` <header class="header"> <div class="header-bar"> <section class="header-navigation-icon"> <slot name="navigationIcon"></slot> </section> <section class="header-content"> <div class="header-title"> <slot name="title"></slot> </div> <div class="header-subtitle"> <slot name="subtitle"></slot> </div> </section> <section class="header-action-items"> <slot name="actionItems"></slot> </section> </div> <slot></slot> </header> `}},{kind:"get",static:!0,key:"styles",value:function(){return[s.AH`:host{display:block}:host([show-border]){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.header-bar{display:flex;flex-direction:row;align-items:flex-start;padding:4px;box-sizing:border-box}.header-content{flex:1;padding:10px 4px;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.header-title{font-size:22px;line-height:28px;font-weight:400}.header-subtitle{font-size:14px;line-height:20px;color:var(--secondary-text-color)}@media all and (min-width:450px) and (min-height:500px){.header-bar{padding:12px}}.header-navigation-icon{flex:none;min-width:8px;height:100%;display:flex;flex-direction:row}.header-action-items{flex:none;min-width:8px;height:100%;display:flex;flex-direction:row}`]}}]}}),s.WF)},3276:(e,t,i)=>{i.d(t,{l:()=>h});var a=i(36312),s=i(68689),o=i(54653),n=i(34599),r=i(15112),l=i(77706),d=i(90952);i(28066);const c=["button","ha-list-item"],h=(e,t)=>r.qy` <div class="header_title"> <span>${t}</span> <ha-icon-button .label="${e?.localize("ui.dialogs.generic.close")??"Close"}" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}" dialogAction="close" class="header_button"></ha-icon-button> </div> `;(0,a.A)([(0,l.EM)("ha-dialog")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",key:d.Xr,value:void 0},{kind:"method",key:"scrollToPos",value:function(e,t){this.contentElement?.scrollTo(e,t)}},{kind:"method",key:"renderHeading",value:function(){return r.qy`<slot name="heading"> ${(0,s.A)(i,"renderHeading",this,3)([])} </slot>`}},{kind:"method",key:"firstUpdated",value:function(){(0,s.A)(i,"firstUpdated",this,3)([]),this.suppressDefaultPressSelector=[this.suppressDefaultPressSelector,c].join(", "),this._updateScrolledAttribute(),this.contentElement?.addEventListener("scroll",this._onScroll,{passive:!0})}},{kind:"method",key:"disconnectedCallback",value:function(){(0,s.A)(i,"disconnectedCallback",this,3)([]),this.contentElement.removeEventListener("scroll",this._onScroll)}},{kind:"field",key:"_onScroll",value(){return()=>{this._updateScrolledAttribute()}}},{kind:"method",key:"_updateScrolledAttribute",value:function(){this.contentElement&&this.toggleAttribute("scrolled",0!==this.contentElement.scrollTop)}},{kind:"field",static:!0,key:"styles",value:()=>[n.R,r.AH`:host([scrolled]) ::slotted(ha-dialog-header){border-bottom:1px solid var(--mdc-dialog-scroll-divider-color,rgba(0,0,0,.12))}.mdc-dialog{--mdc-dialog-scroll-divider-color:var(
          --dialog-scroll-divider-color,
          var(--divider-color)
        );z-index:var(--dialog-z-index,8);-webkit-backdrop-filter:var(--ha-dialog-scrim-backdrop-filter,var(--dialog-backdrop-filter,none));backdrop-filter:var(--ha-dialog-scrim-backdrop-filter,var(--dialog-backdrop-filter,none));--mdc-dialog-box-shadow:var(--dialog-box-shadow, none);--mdc-typography-headline6-font-weight:400;--mdc-typography-headline6-font-size:1.574rem}.mdc-dialog__actions{justify-content:var(--justify-action-buttons,flex-end);padding-bottom:max(env(safe-area-inset-bottom),24px)}.mdc-dialog__actions span:first-child{flex:var(--secondary-action-button-flex,unset)}.mdc-dialog__actions span:nth-child(2){flex:var(--primary-action-button-flex,unset)}.mdc-dialog__container{align-items:var(--vertical-align-dialog,center)}.mdc-dialog__title{padding:24px 24px 0 24px}.mdc-dialog__actions{padding:12px 24px 12px 24px}.mdc-dialog__title::before{content:unset}.mdc-dialog .mdc-dialog__content{position:var(--dialog-content-position,relative);padding:var(--dialog-content-padding,24px)}:host([hideactions]) .mdc-dialog .mdc-dialog__content{padding-bottom:max(var(--dialog-content-padding,24px),env(safe-area-inset-bottom))}.mdc-dialog .mdc-dialog__surface{position:var(--dialog-surface-position,relative);top:var(--dialog-surface-top);margin-top:var(--dialog-surface-margin-top);min-height:var(--mdc-dialog-min-height,auto);border-radius:var(--ha-dialog-border-radius,28px);-webkit-backdrop-filter:var(--ha-dialog-surface-backdrop-filter,none);backdrop-filter:var(--ha-dialog-surface-backdrop-filter,none);background:var(--ha-dialog-surface-background,var(--mdc-theme-surface,#fff))}:host([flexContent]) .mdc-dialog .mdc-dialog__content{display:flex;flex-direction:column}.header_title{position:relative;padding-right:40px;padding-inline-end:40px;padding-inline-start:initial;direction:var(--direction)}.header_title span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block}.header_button{position:absolute;right:-12px;top:-12px;text-decoration:none;color:inherit;inset-inline-start:initial;inset-inline-end:-12px;direction:var(--direction)}.dialog-actions{inset-inline-start:initial!important;inset-inline-end:0px!important;direction:var(--direction)}`]}]}}),o.u)},36185:(e,t,i)=>{var a=i(36312),s=i(68689),o=(i(253),i(54846),i(16891),i(15112)),n=i(77706),r=i(85920),l=i(34897);i(13292),i(9421);const d={boolean:()=>Promise.all([i.e(99196),i.e(96292)]).then(i.bind(i,96292)),constant:()=>i.e(44354).then(i.bind(i,44354)),float:()=>Promise.all([i.e(94131),i.e(14121),i.e(58839)]).then(i.bind(i,80866)),grid:()=>i.e(21306).then(i.bind(i,21306)),expandable:()=>i.e(82178).then(i.bind(i,82178)),integer:()=>Promise.all([i.e(16882),i.e(73767),i.e(46719)]).then(i.bind(i,43241)),multi_select:()=>Promise.all([i.e(94131),i.e(14121),i.e(63893),i.e(23766),i.e(29654),i.e(99196),i.e(95479),i.e(26964)]).then(i.bind(i,26964)),positive_time_period_dict:()=>Promise.all([i.e(14121),i.e(63893),i.e(23766),i.e(14691),i.e(29654),i.e(24500),i.e(34633),i.e(24280)]).then(i.bind(i,24280)),select:()=>Promise.all([i.e(94131),i.e(14121),i.e(63893),i.e(40319),i.e(15313),i.e(23766),i.e(14691),i.e(29654),i.e(24500),i.e(99196),i.e(16882),i.e(71893),i.e(3051),i.e(17494),i.e(50170),i.e(22038)]).then(i.bind(i,22038)),string:()=>Promise.all([i.e(94131),i.e(14121),i.e(9016)]).then(i.bind(i,38819))},c=(e,t)=>e?!t.name||t.flatten?e:e[t.name]:null;(0,a.A)([(0,n.EM)("ha-form")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"data",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"schema",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"error",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"warning",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"computeError",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"computeWarning",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"computeLabel",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"computeHelper",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"localizeValue",value:void 0},{kind:"method",key:"getFormProperties",value:function(){return{}}},{kind:"method",key:"focus",value:async function(){await this.updateComplete;const e=this.renderRoot.querySelector(".root");if(e)for(const t of e.children)if("HA-ALERT"!==t.tagName){t instanceof o.mN&&await t.updateComplete,t.focus();break}}},{kind:"method",key:"willUpdate",value:function(e){e.has("schema")&&this.schema&&this.schema.forEach((e=>{"selector"in e||d[e.type]?.()}))}},{kind:"method",key:"render",value:function(){return o.qy` <div class="root" part="root"> ${this.error&&this.error.base?o.qy` <ha-alert alert-type="error"> ${this._computeError(this.error.base,this.schema)} </ha-alert> `:""} ${this.schema.map((e=>{const t=((e,t)=>e&&t.name?e[t.name]:null)(this.error,e),i=((e,t)=>e&&t.name?e[t.name]:null)(this.warning,e);return o.qy` ${t?o.qy` <ha-alert own-margin alert-type="error"> ${this._computeError(t,e)} </ha-alert> `:i?o.qy` <ha-alert own-margin alert-type="warning"> ${this._computeWarning(i,e)} </ha-alert> `:""} ${"selector"in e?o.qy`<ha-selector .schema="${e}" .hass="${this.hass}" .name="${e.name}" .selector="${e.selector}" .value="${c(this.data,e)}" .label="${this._computeLabel(e,this.data)}" .disabled="${e.disabled||this.disabled||!1}" .placeholder="${e.required?"":e.default}" .helper="${this._computeHelper(e)}" .localizeValue="${this.localizeValue}" .required="${e.required||!1}" .context="${this._generateContext(e)}"></ha-selector>`:(0,r._)(this.fieldElementName(e.type),{schema:e,data:c(this.data,e),label:this._computeLabel(e,this.data),helper:this._computeHelper(e),disabled:this.disabled||e.disabled||!1,hass:this.hass,localize:this.hass?.localize,computeLabel:this.computeLabel,computeHelper:this.computeHelper,localizeValue:this.localizeValue,context:this._generateContext(e),...this.getFormProperties()})} `}))} </div> `}},{kind:"method",key:"fieldElementName",value:function(e){return`ha-form-${e}`}},{kind:"method",key:"_generateContext",value:function(e){if(!e.context)return;const t={};for(const[i,a]of Object.entries(e.context))t[i]=this.data[a];return t}},{kind:"method",key:"createRenderRoot",value:function(){const e=(0,s.A)(i,"createRenderRoot",this,3)([]);return this.addValueChangedListener(e),e}},{kind:"method",key:"addValueChangedListener",value:function(e){e.addEventListener("value-changed",(e=>{e.stopPropagation();const t=e.target.schema;if(e.target===this)return;const i=!t.name||"flatten"in t&&t.flatten?e.detail.value:{[t.name]:e.detail.value};this.data={...this.data,...i},(0,l.r)(this,"value-changed",{value:this.data})}))}},{kind:"method",key:"_computeLabel",value:function(e,t){return this.computeLabel?this.computeLabel(e,t):e?e.name:""}},{kind:"method",key:"_computeHelper",value:function(e){return this.computeHelper?this.computeHelper(e):""}},{kind:"method",key:"_computeError",value:function(e,t){return Array.isArray(e)?o.qy`<ul> ${e.map((e=>o.qy`<li> ${this.computeError?this.computeError(e,t):e} </li>`))} </ul>`:this.computeError?this.computeError(e,t):e}},{kind:"method",key:"_computeWarning",value:function(e,t){return this.computeWarning?this.computeWarning(e,t):e}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`.root>*{display:block}.root>:not([own-margin]):not(:last-child){margin-bottom:24px}ha-alert[own-margin]{margin-bottom:4px}`}}]}}),o.WF)},62745:(e,t,i)=>{var a=i(36312),s=i(68689),o=(i(74860),i(71011),i(71174),i(15112)),n=i(77706),r=i(34897),l=i(61441);i(13292);(0,a.A)([(0,n.EM)("ha-hls-player")],(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"url",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"posterUrl",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Boolean,attribute:"controls"})],key:"controls",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean,attribute:"muted"})],key:"muted",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean,attribute:"autoplay"})],key:"autoPlay",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean,attribute:"playsinline"})],key:"playsInline",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean,attribute:"allow-exoplayer"})],key:"allowExoPlayer",value:()=>!1},{kind:"field",decorators:[(0,n.P)("video")],key:"_videoEl",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_errorIsFatal",value:()=>!1},{kind:"field",key:"_hlsPolyfillInstance",value:void 0},{kind:"field",key:"_exoPlayer",value:()=>!1},{kind:"field",static:!0,key:"streamCount",value:()=>0},{kind:"method",key:"connectedCallback",value:function(){(0,s.A)(a,"connectedCallback",this,3)([]),a.streamCount+=1,this.hasUpdated&&(this._resetError(),this._startHls())}},{kind:"method",key:"disconnectedCallback",value:function(){(0,s.A)(a,"disconnectedCallback",this,3)([]),a.streamCount-=1,this._cleanUp()}},{kind:"method",key:"render",value:function(){return o.qy` ${this._error?o.qy`<ha-alert alert-type="error" class="${this._errorIsFatal?"fatal":"retry"}"> ${this._error} </ha-alert>`:""} ${this._errorIsFatal?"":o.qy`<video .poster="${this.posterUrl}" ?autoplay="${this.autoPlay}" .muted="${this.muted}" ?playsinline="${this.playsInline}" ?controls="${this.controls}" @loadeddata="${this._loadedData}"></video>`} `}},{kind:"method",key:"updated",value:function(e){(0,s.A)(a,"updated",this,3)([e]);e.has("url")&&(this._cleanUp(),this._resetError(),this._startHls())}},{kind:"method",key:"_startHls",value:async function(){const e=fetch(this.url),t=(await Promise.all([i.e(61060),i.e(96860)]).then(i.bind(i,96860))).default;if(!this.isConnected)return;let a=t.isSupported();if(a||(a=""!==this._videoEl.canPlayType("application/vnd.apple.mpegurl")),!a)return void this._setFatalError(this.hass.localize("ui.components.media-browser.video_not_supported"));const s=this.allowExoPlayer&&this.hass.auth.external?.config.hasExoPlayer,o=await(await e).text();if(!this.isConnected)return;const n=/#EXT-X-STREAM-INF:.*?(?:CODECS=".*?(hev1|hvc1)?\..*?".*?)?(?:\n|\r\n)(.+)/g,r=n.exec(o),l=n.exec(o);let d;d=null!==r&&null===l?new URL(r[2],this.url).href:this.url,s&&null!==r&&void 0!==r[1]?this._renderHLSExoPlayer(d):t.isSupported()?this._renderHLSPolyfill(this._videoEl,t,d):this._renderHLSNative(this._videoEl,d)}},{kind:"method",key:"_renderHLSExoPlayer",value:async function(e){this._exoPlayer=!0,window.addEventListener("resize",this._resizeExoPlayer),this.updateComplete.then((()=>(0,l.E)())).then(this._resizeExoPlayer),this._videoEl.style.visibility="hidden",await this.hass.auth.external.fireMessage({type:"exoplayer/play_hls",payload:{url:new URL(e,window.location.href).toString(),muted:this.muted}})}},{kind:"field",key:"_resizeExoPlayer",value(){return()=>{if(!this._videoEl)return;const e=this._videoEl.getBoundingClientRect();this.hass.auth.external.fireMessage({type:"exoplayer/resize",payload:{left:e.left,top:e.top,right:e.right,bottom:e.bottom}})}}},{kind:"method",key:"_isLLHLSSupported",value:function(){if(a.streamCount<=2)return!0;if(!("performance"in window)||0===performance.getEntriesByType("resource").length)return!1;const e=performance.getEntriesByType("resource")[0];return"nextHopProtocol"in e&&"h2"===e.nextHopProtocol}},{kind:"method",key:"_renderHLSPolyfill",value:async function(e,t,i){const a=new t({backBufferLength:60,fragLoadingTimeOut:3e4,manifestLoadingTimeOut:3e4,levelLoadingTimeOut:3e4,maxLiveSyncPlaybackRate:2,lowLatencyMode:this._isLLHLSSupported()});this._hlsPolyfillInstance=a,a.attachMedia(e),a.on(t.Events.MEDIA_ATTACHED,(()=>{this._resetError(),a.loadSource(i)})),a.on(t.Events.FRAG_LOADED,((e,t)=>{this._resetError()})),a.on(t.Events.ERROR,((e,i)=>{if(i.fatal)if(i.type===t.ErrorTypes.NETWORK_ERROR){switch(i.details){case t.ErrorDetails.MANIFEST_LOAD_ERROR:{let e="Error starting stream, see logs for details";void 0!==i.response&&void 0!==i.response.code&&(i.response.code>=500?e+=" (Server failure)":i.response.code>=400?e+=" (Stream never started)":e+=" ("+i.response.code+")"),this._setRetryableError(e);break}case t.ErrorDetails.MANIFEST_LOAD_TIMEOUT:this._setRetryableError("Timeout while starting stream");break;default:this._setRetryableError("Stream network error")}a.startLoad()}else i.type===t.ErrorTypes.MEDIA_ERROR?(this._setRetryableError("Error with media stream contents"),a.recoverMediaError()):this._setFatalError("Error playing stream")}))}},{kind:"method",key:"_renderHLSNative",value:async function(e,t){e.src=t,e.addEventListener("loadedmetadata",(()=>{e.play()}))}},{kind:"method",key:"_cleanUp",value:function(){this._hlsPolyfillInstance&&(this._hlsPolyfillInstance.destroy(),this._hlsPolyfillInstance=void 0),this._exoPlayer&&(window.removeEventListener("resize",this._resizeExoPlayer),this.hass.auth.external.fireMessage({type:"exoplayer/stop"}),this._exoPlayer=!1),this._videoEl&&(this._videoEl.removeAttribute("src"),this._videoEl.load())}},{kind:"method",key:"_resetError",value:function(){this._error=void 0,this._errorIsFatal=!1}},{kind:"method",key:"_setFatalError",value:function(e){this._error=e,this._errorIsFatal=!0}},{kind:"method",key:"_setRetryableError",value:function(e){this._error=e,this._errorIsFatal=!1}},{kind:"method",key:"_loadedData",value:function(){(0,r.r)(this,"load")}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`:host,video{display:block}video{width:100%;max-height:var(--video-max-height,calc(100vh - 97px))}.fatal{display:block;padding:100px 16px}.retry{display:block}`}}]}}),o.WF)},63606:(e,t,i)=>{i.r(t),i.d(t,{HaIconButtonNext:()=>r});var a=i(36312),s=i(15112),o=i(77706),n=i(74005);i(28066);let r=(0,a.A)([(0,o.EM)("ha-icon-button-next")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_icon",value:()=>"rtl"===n.G.document.dir?"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z":"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"},{kind:"method",key:"render",value:function(){return s.qy` <ha-icon-button .disabled="${this.disabled}" .label="${this.label||this.hass?.localize("ui.common.next")||"Next"}" .path="${this._icon}"></ha-icon-button> `}}]}}),s.WF)},40462:(e,t,i)=>{i.r(t),i.d(t,{HaIconButtonPrev:()=>r});var a=i(36312),s=i(15112),o=i(77706),n=i(74005);i(28066);let r=(0,a.A)([(0,o.EM)("ha-icon-button-prev")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_icon",value:()=>"rtl"===n.G.document.dir?"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z":"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"},{kind:"method",key:"render",value:function(){return s.qy` <ha-icon-button .disabled="${this.disabled}" .label="${this.label||this.hass?.localize("ui.common.back")||"Back"}" .path="${this._icon}"></ha-icon-button> `}}]}}),s.WF)},28066:(e,t,i)=>{i.r(t),i.d(t,{HaIconButton:()=>r});var a=i(36312),s=(i(20931),i(15112)),o=i(77706),n=i(10977);i(88400);let r=(0,a.A)([(0,o.EM)("ha-icon-button")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({type:Boolean,reflect:!0})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:String})],key:"path",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:String})],key:"label",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:String,attribute:"aria-haspopup"})],key:"ariaHasPopup",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"hideTitle",value:()=>!1},{kind:"field",decorators:[(0,o.P)("mwc-icon-button",!0)],key:"_button",value:void 0},{kind:"method",key:"focus",value:function(){this._button?.focus()}},{kind:"field",static:!0,key:"shadowRootOptions",value:()=>({mode:"open",delegatesFocus:!0})},{kind:"method",key:"render",value:function(){return s.qy` <mwc-icon-button aria-label="${(0,n.J)(this.label)}" title="${(0,n.J)(this.hideTitle?void 0:this.label)}" aria-haspopup="${(0,n.J)(this.ariaHasPopup)}" .disabled="${this.disabled}"> ${this.path?s.qy`<ha-svg-icon .path="${this.path}"></ha-svg-icon>`:s.qy`<slot></slot>`} </mwc-icon-button> `}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`:host{display:inline-block;outline:0}:host([disabled]){pointer-events:none}mwc-icon-button{--mdc-theme-on-primary:currentColor;--mdc-theme-text-disabled-on-light:var(--disabled-text-color)}`}}]}}),s.WF)},85288:(e,t,i)=>{i.r(t),i.d(t,{HaIconPicker:()=>m});var a=i(36312),s=(i(89655),i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435),i(253),i(2075),i(54846),i(16891),i(4525),i(15112)),o=i(77706),n=i(94100),r=i(34897),l=i(81235);i(43536),i(13830),i(20144);let d=[],c=!1;const h=async e=>{try{const t=l.y[e].getIconList;if("function"!=typeof t)return[];const i=await t();return i.map((t=>({icon:`${e}:${t.name}`,parts:new Set(t.name.split("-")),keywords:t.keywords??[]})))}catch(t){return console.warn(`Unable to load icon list for ${e} iconset`),[]}},u=e=>s.qy`<ha-list-item graphic="avatar"> <ha-icon .icon="${e.icon}" slot="graphic"></ha-icon> ${e.icon} </ha-list-item>`;let m=(0,a.A)([(0,o.EM)("ha-icon-picker")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"placeholder",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:"error-message"})],key:"errorMessage",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"required",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"invalid",value:()=>!1},{kind:"method",key:"render",value:function(){return s.qy` <ha-combo-box .hass="${this.hass}" item-value-path="icon" item-label-path="icon" .value="${this._value}" allow-custom-value .dataProvider="${c?this._iconProvider:void 0}" .label="${this.label}" .helper="${this.helper}" .disabled="${this.disabled}" .required="${this.required}" .placeholder="${this.placeholder}" .errorMessage="${this.errorMessage}" .invalid="${this.invalid}" .renderer="${u}" icon @opened-changed="${this._openedChanged}" @value-changed="${this._valueChanged}"> ${this._value||this.placeholder?s.qy` <ha-icon .icon="${this._value||this.placeholder}" slot="icon"> </ha-icon> `:s.qy`<slot slot="icon" name="fallback"></slot>`} </ha-combo-box> `}},{kind:"field",key:"_filterIcons",value:()=>(0,n.A)(((e,t=d)=>{if(!e)return t;const i=[],a=(e,t)=>i.push({icon:e,rank:t});for(const i of t)i.parts.has(e)?a(i.icon,1):i.keywords.includes(e)?a(i.icon,2):i.icon.includes(e)?a(i.icon,3):i.keywords.some((t=>t.includes(e)))&&a(i.icon,4);return 0===i.length&&a(e,0),i.sort(((e,t)=>e.rank-t.rank))}))},{kind:"field",key:"_iconProvider",value(){return(e,t)=>{const i=this._filterIcons(e.filter.toLowerCase(),d),a=e.page*e.pageSize,s=a+e.pageSize;t(i.slice(a,s),i.length)}}},{kind:"method",key:"_openedChanged",value:async function(e){e.detail.value&&!c&&(await(async()=>{c=!0;const e=await i.e(25143).then(i.t.bind(i,25143,19));d=e.default.map((e=>({icon:`mdi:${e.name}`,parts:new Set(e.name.split("-")),keywords:e.keywords})));const t=[];Object.keys(l.y).forEach((e=>{t.push(h(e))})),(await Promise.all(t)).forEach((e=>{d.push(...e)}))})(),this.requestUpdate())}},{kind:"method",key:"_valueChanged",value:function(e){e.stopPropagation(),this._setValue(e.detail.value)}},{kind:"method",key:"_setValue",value:function(e){this.value=e,(0,r.r)(this,"value-changed",{value:this._value},{bubbles:!1,composed:!1})}},{kind:"get",key:"_value",value:function(){return this.value||""}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`[slot=icon]{color:var(--primary-text-color);position:relative;bottom:2px}[slot=prefix]{margin-right:8px;margin-inline-end:8px;margin-inline-start:initial}`}}]}}),s.WF)},20144:(e,t,i)=>{i.r(t),i.d(t,{HaIcon:()=>b});var a=i(36312),s=i(68689),o=i(15112),n=i(77706),r=i(34897),l=i(18409),d=i(81235),c=(i(89655),i(253),i(54846),i(75702)),h=i(39891);const u=JSON.parse('{"version":"7.4.47","parts":[{"file":"7a7139d465f1f41cb26ab851a17caa21a9331234"},{"start":"account-supervisor-circle-","file":"9561286c4c1021d46b9006596812178190a7cc1c"},{"start":"alpha-r-c","file":"eb466b7087fb2b4d23376ea9bc86693c45c500fa"},{"start":"arrow-decision-o","file":"4b3c01b7e0723b702940c5ac46fb9e555646972b"},{"start":"baby-f","file":"2611401d85450b95ab448ad1d02c1a432b409ed2"},{"start":"battery-hi","file":"89bcd31855b34cd9d31ac693fb073277e74f1f6a"},{"start":"blur-r","file":"373709cd5d7e688c2addc9a6c5d26c2d57c02c48"},{"start":"briefcase-account-","file":"a75956cf812ee90ee4f656274426aafac81e1053"},{"start":"calendar-question-","file":"3253f2529b5ebdd110b411917bacfacb5b7063e6"},{"start":"car-lig","file":"74566af3501ad6ae58ad13a8b6921b3cc2ef879d"},{"start":"cellphone-co","file":"7677f1cfb2dd4f5562a2aa6d3ae43a2e6997b21a"},{"start":"circle-slice-2","file":"70d08c50ec4522dd75d11338db57846588263ee2"},{"start":"cloud-co","file":"141d2bfa55ca4c83f4bae2812a5da59a84fec4ff"},{"start":"cog-s","file":"5a640365f8e47c609005d5e098e0e8104286d120"},{"start":"cookie-l","file":"dd85b8eb8581b176d3acf75d1bd82e61ca1ba2fc"},{"start":"currency-eur-","file":"15362279f4ebfc3620ae55f79d2830ad86d5213e"},{"start":"delete-o","file":"239434ab8df61237277d7599ebe066c55806c274"},{"start":"draw-","file":"5605918a592070803ba2ad05a5aba06263da0d70"},{"start":"emoticon-po","file":"a838cfcec34323946237a9f18e66945f55260f78"},{"start":"fan","file":"effd56103b37a8c7f332e22de8e4d67a69b70db7"},{"start":"file-question-","file":"b2424b50bd465ae192593f1c3d086c5eec893af8"},{"start":"flask-off-","file":"3b76295cde006a18f0301dd98eed8c57e1d5a425"},{"start":"food-s","file":"1c6941474cbeb1755faaaf5771440577f4f1f9c6"},{"start":"gamepad-u","file":"c6efe18db6bc9654ae3540c7dee83218a5450263"},{"start":"google-f","file":"df341afe6ad4437457cf188499cb8d2df8ac7b9e"},{"start":"head-c","file":"282121c9e45ed67f033edcc1eafd279334c00f46"},{"start":"home-pl","file":"27e8e38fc7adcacf2a210802f27d841b49c8c508"},{"start":"inbox-","file":"0f0316ec7b1b7f7ce3eaabce26c9ef619b5a1694"},{"start":"key-v","file":"ea33462be7b953ff1eafc5dac2d166b210685a60"},{"start":"leaf-circle-","file":"33db9bbd66ce48a2db3e987fdbd37fb0482145a4"},{"start":"lock-p","file":"b89e27ed39e9d10c44259362a4b57f3c579d3ec8"},{"start":"message-s","file":"7b5ab5a5cadbe06e3113ec148f044aa701eac53a"},{"start":"moti","file":"01024d78c248d36805b565e343dd98033cc3bcaf"},{"start":"newspaper-variant-o","file":"22a6ec4a4fdd0a7c0acaf805f6127b38723c9189"},{"start":"on","file":"c73d55b412f394e64632e2011a59aa05e5a1f50d"},{"start":"paw-ou","file":"3f669bf26d16752dc4a9ea349492df93a13dcfbf"},{"start":"pigg","file":"0c24edb27eb1c90b6e33fc05f34ef3118fa94256"},{"start":"printer-pos-sy","file":"41a55cda866f90b99a64395c3bb18c14983dcf0a"},{"start":"read","file":"c7ed91552a3a64c9be88c85e807404cf705b7edf"},{"start":"robot-vacuum-variant-o","file":"917d2a35d7268c0ea9ad9ecab2778060e19d90e0"},{"start":"sees","file":"6e82d9861d8fac30102bafa212021b819f303bdb"},{"start":"shoe-f","file":"e2fe7ce02b5472301418cc90a0e631f187b9f238"},{"start":"snowflake-m","file":"a28ba9f5309090c8b49a27ca20ff582a944f6e71"},{"start":"st","file":"7e92d03f095ec27e137b708b879dfd273bd735ab"},{"start":"su","file":"61c74913720f9de59a379bdca37f1d2f0dc1f9db"},{"start":"tag-plus-","file":"8f3184156a4f38549cf4c4fffba73a6a941166ae"},{"start":"timer-a","file":"baab470d11cfb3a3cd3b063ee6503a77d12a80d0"},{"start":"transit-d","file":"8561c0d9b1ac03fab360fd8fe9729c96e8693239"},{"start":"vector-arrange-b","file":"c9a3439257d4bab33d3355f1f2e11842e8171141"},{"start":"water-ou","file":"02dbccfb8ca35f39b99f5a085b095fc1275005a0"},{"start":"webc","file":"57bafd4b97341f4f2ac20a609d023719f23a619c"},{"start":"zip","file":"65ae094e8263236fa50486584a08c03497a38d93"}]}'),m=(0,c.y$)("hass-icon-db","mdi-icon-store"),y=["mdi","hass","hassio","hademo"];let p=[];i(88400);const f={},v={};(async()=>{const e=await(0,c.Jt)("_version",m);e?e!==u.version&&(await(0,c.IU)(m),(0,c.hZ)("_version",u.version,m)):(0,c.hZ)("_version",u.version,m)})();const _=(0,l.s)((()=>(async e=>{const t=Object.keys(e),i=await Promise.all(Object.values(e));m("readwrite",(a=>{i.forEach(((i,s)=>{Object.entries(i).forEach((([e,t])=>{a.put(t,e)})),delete e[t[s]]}))}))})(v)),2e3),g={};let b=(0,a.A)([(0,n.EM)("ha-icon")],(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",decorators:[(0,n.MZ)()],key:"icon",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_path",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_secondaryPath",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_viewBox",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_legacy",value:()=>!1},{kind:"method",key:"willUpdate",value:function(e){(0,s.A)(a,"willUpdate",this,3)([e]),e.has("icon")&&(this._path=void 0,this._secondaryPath=void 0,this._viewBox=void 0,this._loadIcon())}},{kind:"method",key:"render",value:function(){return this.icon?this._legacy?o.qy` <iron-icon .icon="${this.icon}"></iron-icon>`:o.qy`<ha-svg-icon .path="${this._path}" .secondaryPath="${this._secondaryPath}" .viewBox="${this._viewBox}"></ha-svg-icon>`:o.s6}},{kind:"method",key:"_loadIcon",value:async function(){if(!this.icon)return;const e=this.icon,[t,a]=this.icon.split(":",2);let s,o=a;if(!t||!o)return;if(!y.includes(t)){const i=d.y[t];return i?void(i&&"function"==typeof i.getIcon&&this._setCustomPath(i.getIcon(o),e)):void(this._legacy=!0)}if(this._legacy=!1,o in f){const e=f[o];let i;e.newName?(i=`Icon ${t}:${o} was renamed to ${t}:${e.newName}, please change your config, it will be removed in version ${e.removeIn}.`,o=e.newName):i=`Icon ${t}:${o} was removed from MDI, please replace this icon with an other icon in your config, it will be removed in version ${e.removeIn}.`,console.warn(i),(0,r.r)(this,"write_log",{level:"warning",message:i})}if(o in g)return void(this._path=g[o]);if("home-assistant"===o){const t=(await i.e(82782).then(i.bind(i,82782))).mdiHomeAssistant;return this.icon===e&&(this._path=t),void(g[o]=t)}try{s=await(e=>new Promise(((t,i)=>{p.push([e,t,i]),p.length>1||(0,h.h)(1e3,m("readonly",(e=>{for(const[t,i,a]of p)(0,c.Yd)(e.get(t)).then((e=>i(e))).catch((e=>a(e)));p=[]}))).catch((e=>{for(const[,,t]of p)t(e);p=[]}))})))(o)}catch(e){s=void 0}if(s)return this.icon===e&&(this._path=s),void(g[o]=s);const n=(e=>{let t;for(const i of u.parts){if(void 0!==i.start&&e<i.start)break;t=i}return t.file})(o);if(n in v)return void this._setPath(v[n],o,e);const l=fetch(`/static/mdi/${n}.json`).then((e=>e.json()));v[n]=l,this._setPath(l,o,e),_()}},{kind:"method",key:"_setCustomPath",value:async function(e,t){const i=await e;this.icon===t&&(this._path=i.path,this._secondaryPath=i.secondaryPath,this._viewBox=i.viewBox)}},{kind:"method",key:"_setPath",value:async function(e,t,i){const a=await e;this.icon===i&&(this._path=a[t]),g[t]=a[t]}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`:host{fill:currentcolor}`}}]}}),o.WF)},20366:(e,t,i)=>{var a=i(36312),s=i(68689),o=i(15112),n=i(77706),r=i(85323);(0,a.A)([(0,n.EM)("ha-label-badge")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"description",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"image",value:void 0},{kind:"method",key:"render",value:function(){return o.qy` <div class="badge-container"> <div class="label-badge" id="badge"> <div class="value"> <slot></slot> </div> ${this.label?o.qy` <div class="${(0,r.H)({label:!0,big:this.label.length>5})}"> <span>${this.label}</span> </div> `:""} </div> ${this.description?o.qy`<div class="title">${this.description}</div>`:""} </div> `}},{kind:"get",static:!0,key:"styles",value:function(){return[o.AH`.badge-container{display:inline-block;text-align:center;vertical-align:top;padding:var(--ha-label-badge-padding,0 0 0 0)}.label-badge{position:relative;display:block;margin:0 auto;width:var(--ha-label-badge-size,2.5em);text-align:center;height:var(--ha-label-badge-size,2.5em);line-height:var(--ha-label-badge-size, 2.5em);font-size:var(--ha-label-badge-font-size, 1.5em);border-radius:var(--ha-label-badge-border-radius,50%);border:.1em solid var(--ha-label-badge-color,var(--primary-color));color:var(--label-badge-text-color,#4c4c4c);white-space:nowrap;background-color:var(--label-badge-background-color,#fff);background-size:cover;transition:border .3s ease-in-out}.label-badge .label.big span{font-size:90%;padding:10% 12% 7% 12%}.label-badge .value{font-size:90%;overflow:hidden;text-overflow:ellipsis}.label-badge .label{position:absolute;bottom:-1em;left:-.2em;right:-.2em;line-height:1em;font-size:.5em}.label-badge .label span{box-sizing:border-box;max-width:100%;display:inline-block;background-color:var(--ha-label-badge-color,var(--primary-color));color:var(--ha-label-badge-label-color,#fff);border-radius:1em;padding:9% 16% 8% 16%;font-weight:500;overflow:hidden;text-transform:uppercase;text-overflow:ellipsis;transition:background-color .3s ease-in-out;text-transform:var(--ha-label-badge-label-text-transform,uppercase)}.badge-container .title{margin-top:1em;font-size:var(--ha-label-badge-title-font-size, .9em);width:var(--ha-label-badge-title-width,5em);font-weight:var(--ha-label-badge-title-font-weight,400);overflow:hidden;text-overflow:ellipsis;line-height:normal}`]}},{kind:"method",key:"updated",value:function(e){(0,s.A)(i,"updated",this,3)([e]),e.has("image")&&(this.shadowRoot.getElementById("badge").style.backgroundImage=this.image?`url(${this.image})`:"")}}]}}),o.WF)},30225:(e,t,i)=>{var a=i(36312),s=(i(253),i(2075),i(54846),i(15112)),o=i(77706),n=i(66066),r=i(94100),l=i(86188),d=i(34897),c=i(2682),h=i(21668),u=i(20712),m=i(58331),y=(i(74455),i(24793),i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435),i(5186),i(16891),i(4525),i(85323)),p=i(213),f=i(55792),v=i(10725);i(43536),i(28066),i(13830),i(88400);const _="___ADD_NEW___",g="___NO_LABELS___",b="___ADD_NEW_SUGGESTION___",k=e=>s.qy`<ha-list-item graphic="icon" class="${(0,y.H)({"add-new":e.label_id===_})}"> ${e.icon?s.qy`<ha-icon slot="graphic" .icon="${e.icon}"></ha-icon>`:s.s6} ${e.name} </ha-list-item>`;(0,a.A)([(0,o.EM)("ha-label-picker")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"placeholder",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean,attribute:"no-add"})],key:"noAdd",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Array,attribute:"include-domains"})],key:"includeDomains",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Array,attribute:"exclude-domains"})],key:"excludeDomains",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Array,attribute:"include-device-classes"})],key:"includeDeviceClasses",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Array,attribute:"exclude-label"})],key:"excludeLabels",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"deviceFilter",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"entityFilter",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"required",value:()=>!1},{kind:"field",decorators:[(0,o.wk)()],key:"_opened",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_labels",value:void 0},{kind:"field",decorators:[(0,o.P)("ha-combo-box",!0)],key:"comboBox",value:void 0},{kind:"field",key:"_suggestion",value:void 0},{kind:"field",key:"_init",value:()=>!1},{kind:"method",key:"open",value:async function(){await this.updateComplete,await(this.comboBox?.open())}},{kind:"method",key:"focus",value:async function(){await this.updateComplete,await(this.comboBox?.focus())}},{kind:"method",key:"hassSubscribe",value:function(){return[(0,h.o5)(this.hass.connection,(e=>{this._labels=e}))]}},{kind:"field",key:"_getLabels",value(){return(0,r.A)(((e,t,i,a,s,o,n,r,l,d,c)=>{let h,u,m={};(s||o||n||r||l)&&(m=(0,v.g2)(a),h=i,u=a.filter((e=>e.labels.length>0)),s&&(h=h.filter((e=>{const t=m[e.id];return!(!t||!t.length)&&m[e.id].some((e=>s.includes((0,p.m)(e.entity_id))))})),u=u.filter((e=>s.includes((0,p.m)(e.entity_id))))),o&&(h=h.filter((e=>{const t=m[e.id];return!t||!t.length||a.every((e=>!o.includes((0,p.m)(e.entity_id))))})),u=u.filter((e=>!o.includes((0,p.m)(e.entity_id))))),n&&(h=h.filter((e=>{const t=m[e.id];return!(!t||!t.length)&&m[e.id].some((e=>{const t=this.hass.states[e.entity_id];return!!t&&(t.attributes.device_class&&n.includes(t.attributes.device_class))}))})),u=u.filter((e=>{const t=this.hass.states[e.entity_id];return t.attributes.device_class&&n.includes(t.attributes.device_class)}))),r&&(h=h.filter((e=>r(e)))),l&&(h=h.filter((e=>{const t=m[e.id];return!(!t||!t.length)&&m[e.id].some((e=>{const t=this.hass.states[e.entity_id];return!!t&&l(t)}))})),u=u.filter((e=>{const t=this.hass.states[e.entity_id];return!!t&&l(t)}))));let y=e;const f=new Set;let b;return h&&(b=h.filter((e=>e.area_id)).map((e=>e.area_id)),h.forEach((e=>{e.labels.forEach((e=>f.add(e)))}))),u&&(b=(b??[]).concat(u.filter((e=>e.area_id)).map((e=>e.area_id))),u.forEach((e=>{e.labels.forEach((e=>f.add(e)))}))),b&&b.forEach((e=>{t[e].labels.forEach((e=>f.add(e)))})),c&&(y=y.filter((e=>!c.includes(e.label_id)))),(h||u)&&(y=y.filter((e=>f.has(e.label_id)))),y.length||(y=[{label_id:g,name:this.hass.localize("ui.components.label-picker.no_match"),icon:null,color:null,description:null,created_at:0,modified_at:0}]),d?y:[...y,{label_id:_,name:this.hass.localize("ui.components.label-picker.add_new"),icon:"mdi:plus",color:null,description:null,created_at:0,modified_at:0}]}))}},{kind:"method",key:"updated",value:function(e){if(!this._init&&this.hass&&this._labels||this._init&&e.has("_opened")&&this._opened){this._init=!0;const e=this._getLabels(this._labels,this.hass.areas,Object.values(this.hass.devices),Object.values(this.hass.entities),this.includeDomains,this.excludeDomains,this.includeDeviceClasses,this.deviceFilter,this.entityFilter,this.noAdd,this.excludeLabels).map((e=>({...e,strings:[e.label_id,e.name]})));this.comboBox.items=e,this.comboBox.filteredItems=e}}},{kind:"method",key:"render",value:function(){return s.qy` <ha-combo-box .hass="${this.hass}" .helper="${this.helper}" item-value-path="label_id" item-id-path="label_id" item-label-path="name" .value="${this._value}" .disabled="${this.disabled}" .required="${this.required}" .label="${void 0===this.label&&this.hass?this.hass.localize("ui.components.label-picker.label"):this.label}" .placeholder="${this.placeholder?this._labels?.find((e=>e.label_id===this.placeholder))?.name:void 0}" .renderer="${k}" @filter-changed="${this._filterChanged}" @opened-changed="${this._openedChanged}" @value-changed="${this._labelChanged}"> </ha-combo-box> `}},{kind:"method",key:"_filterChanged",value:function(e){const t=e.target,i=e.detail.value;if(!i)return void(this.comboBox.filteredItems=this.comboBox.items);const a=(0,f.H)(i,t.items?.filter((e=>![g,_].includes(e.label_id)))||[]);0===a.length?this.noAdd?this.comboBox.filteredItems=[{label_id:g,name:this.hass.localize("ui.components.label-picker.no_match"),icon:null,color:null}]:(this._suggestion=i,this.comboBox.filteredItems=[{label_id:b,name:this.hass.localize("ui.components.label-picker.add_new_sugestion",{name:this._suggestion}),icon:"mdi:plus",color:null}]):this.comboBox.filteredItems=a}},{kind:"get",key:"_value",value:function(){return this.value||""}},{kind:"method",key:"_openedChanged",value:function(e){this._opened=e.detail.value}},{kind:"method",key:"_labelChanged",value:function(e){e.stopPropagation();let t=e.detail.value;if(t===g)return t="",void this.comboBox.setInputValue("");[b,_].includes(t)?(e.target.value=this._value,this.hass.loadFragmentTranslation("config"),(0,m.f)(this,{entry:void 0,suggestedName:t===b?this._suggestion:"",createEntry:async e=>{const t=await(0,h._9)(this.hass,e),i=[...this._labels,t];return this.comboBox.filteredItems=this._getLabels(i,this.hass.areas,Object.values(this.hass.devices),Object.values(this.hass.entities),this.includeDomains,this.excludeDomains,this.includeDeviceClasses,this.deviceFilter,this.entityFilter,this.noAdd,this.excludeLabels),await this.updateComplete,await this.comboBox.updateComplete,this._setValue(t.label_id),t}}),this._suggestion=void 0,this.comboBox.setInputValue("")):t!==this._value&&this._setValue(t)}},{kind:"method",key:"_setValue",value:function(e){this.value=e,setTimeout((()=>{(0,d.r)(this,"value-changed",{value:e}),(0,d.r)(this,"change")}),0)}}]}}),(0,u.E)(s.WF)),(0,a.A)([(0,o.EM)("ha-labels-picker")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"value",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"placeholder",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean,attribute:"no-add"})],key:"noAdd",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Array,attribute:"include-domains"})],key:"includeDomains",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Array,attribute:"exclude-domains"})],key:"excludeDomains",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Array,attribute:"include-device-classes"})],key:"includeDeviceClasses",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Array,attribute:"exclude-label"})],key:"excludeLabels",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"deviceFilter",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"entityFilter",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"required",value:()=>!1},{kind:"field",decorators:[(0,o.wk)()],key:"_labels",value:void 0},{kind:"field",decorators:[(0,o.P)("ha-label-picker",!0)],key:"labelPicker",value:void 0},{kind:"method",key:"open",value:async function(){await this.updateComplete,await(this.labelPicker?.open())}},{kind:"method",key:"focus",value:async function(){await this.updateComplete,await(this.labelPicker?.focus())}},{kind:"method",key:"hassSubscribe",value:function(){return[(0,h.o5)(this.hass.connection,(e=>{const t={};e.forEach((e=>{t[e.label_id]=e})),this._labels=t}))]}},{kind:"field",key:"_sortedLabels",value:()=>(0,r.A)(((e,t,i)=>e?.map((e=>t?.[e])).sort(((e,t)=>(0,c.x)(e?.name||"",t?.name||"",i)))))},{kind:"method",key:"render",value:function(){const e=this._sortedLabels(this.value,this._labels,this.hass.locale.language);return s.qy` ${e?.length?s.qy`<ha-chip-set> ${(0,n.u)(e,(e=>e?.label_id),(e=>{const t=e?.color?(0,l.M)(e.color):void 0;return s.qy` <ha-input-chip .item="${e}" @remove="${this._removeItem}" @click="${this._openDetail}" .label="${e?.name}" selected="selected" style="${t?`--color: ${t}`:""}"> ${e?.icon?s.qy`<ha-icon slot="icon" .icon="${e.icon}"></ha-icon>`:s.s6} </ha-input-chip> `}))} </ha-chip-set>`:s.s6} <ha-label-picker .hass="${this.hass}" .helper="${this.helper}" .disabled="${this.disabled}" .required="${this.required}" .label="${void 0===this.label&&this.hass?this.hass.localize("ui.components.label-picker.add_label"):this.label}" .placeholder="${this.placeholder}" .excludeLabels="${this.value}" @value-changed="${this._labelChanged}"> </ha-label-picker> `}},{kind:"get",key:"_value",value:function(){return this.value||[]}},{kind:"method",key:"_removeItem",value:function(e){const t=e.currentTarget.item;this._setValue(this._value.filter((e=>e!==t.label_id)))}},{kind:"method",key:"_openDetail",value:function(e){const t=e.currentTarget.item;(0,m.f)(this,{entry:t,updateEntry:async e=>await(0,h.Rp)(this.hass,t.label_id,e)})}},{kind:"method",key:"_labelChanged",value:function(e){e.stopPropagation();const t=e.detail.value;t&&!this._value.includes(t)&&(this._setValue([...this._value,t]),this.labelPicker.value="")}},{kind:"method",key:"_setValue",value:function(e){this.value=e,setTimeout((()=>{(0,d.r)(this,"value-changed",{value:e}),(0,d.r)(this,"change")}),0)}},{kind:"field",static:!0,key:"styles",value:()=>s.AH`ha-chip-set{margin-bottom:8px}ha-input-chip{--md-input-chip-selected-container-color:var(--color, var(--grey-color));--ha-input-chip-selected-container-opacity:0.5}`}]}}),(0,u.E)(s.WF))},13830:(e,t,i)=>{i.d(t,{$:()=>d});var a=i(36312),s=i(68689),o=i(30116),n=i(43389),r=i(15112),l=i(77706);let d=(0,a.A)([(0,l.EM)("ha-list-item")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"method",key:"renderRipple",value:function(){return this.noninteractive?"":(0,s.A)(i,"renderRipple",this,3)([])}},{kind:"get",static:!0,key:"styles",value:function(){return[n.R,r.AH`:host{padding-left:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-inline-start:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-right:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px));padding-inline-end:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px))}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:48px}span.material-icons:first-of-type{margin-inline-start:0px!important;margin-inline-end:var(--mdc-list-item-graphic-margin,16px)!important;direction:var(--direction)!important}span.material-icons:last-of-type{margin-inline-start:auto!important;margin-inline-end:0px!important;direction:var(--direction)!important}.mdc-deprecated-list-item__meta{display:var(--mdc-list-item-meta-display);align-items:center;flex-shrink:0}:host([graphic=icon]:not([twoline])) .mdc-deprecated-list-item__graphic{margin-inline-end:var(--mdc-list-item-graphic-margin,20px)!important}:host([multiline-secondary]){height:auto}:host([multiline-secondary]) .mdc-deprecated-list-item__text{padding:8px 0}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text{text-overflow:initial;white-space:normal;overflow:auto;display:inline-block;margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text{margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text::before{display:none}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text::before{display:none}:host([disabled]){color:var(--disabled-text-color)}:host([noninteractive]){pointer-events:unset}`,"rtl"===document.dir?r.AH`span.material-icons:first-of-type,span.material-icons:last-of-type{direction:rtl!important;--direction:rtl}`:r.AH``]}}]}}),o.J)},51513:(e,t,i)=>{var a=i(36312),s=i(35351),o=i(37749),n=i(15112),r=i(77706);(0,a.A)([(0,r.EM)("ha-radio")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",static:!0,key:"styles",value:()=>[o.R,n.AH`:host{--mdc-theme-secondary:var(--primary-color)}`]}]}}),s.F)},516:(e,t,i)=>{var a=i(36312),s=i(68689),o=(i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435),i(12073),i(253),i(2075),i(94438),i(16891),i(63893),i(15112)),n=i(77706),r=i(63073),l=i(94100),d=i(34897),c=i(2682),h=i(3225),u=i(31265),m=i(67240),y=i(55321),p=i(51842);i(46163),i(13830),i(70857),i(59588);const f="M2.53,19.65L3.87,20.21V11.18L1.44,17.04C1.03,18.06 1.5,19.23 2.53,19.65M22.03,15.95L17.07,4C16.76,3.23 16.03,2.77 15.26,2.75C15,2.75 14.73,2.79 14.47,2.9L7.1,5.95C6.35,6.26 5.89,7 5.87,7.75C5.86,8 5.91,8.29 6,8.55L11,20.5C11.29,21.28 12.03,21.74 12.81,21.75C13.07,21.75 13.33,21.7 13.58,21.6L20.94,18.55C21.96,18.13 22.45,16.96 22.03,15.95M7.88,8.75A1,1 0 0,1 6.88,7.75A1,1 0 0,1 7.88,6.75C8.43,6.75 8.88,7.2 8.88,7.75C8.88,8.3 8.43,8.75 7.88,8.75M5.88,19.75A2,2 0 0,0 7.88,21.75H9.33L5.88,13.41V19.75Z";(0,a.A)([(0,n.EM)("ha-related-items")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"itemType",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"itemId",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_entries",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_blueprints",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_related",value:void 0},{kind:"method",key:"firstUpdated",value:function(e){(0,s.A)(i,"firstUpdated",this,3)([e])}},{kind:"method",key:"_fetchConfigEntries",value:async function(){this._entries||(this.hass.loadBackendTranslation("title"),this._entries=await(0,u.VN)(this.hass))}},{kind:"method",key:"_fetchBlueprints",value:async function(){if(this._blueprints)return;const[e,t]=await Promise.all([(0,h.Xg)(this.hass,"automation"),(0,h.Xg)(this.hass,"script")]);this._blueprints={automation:e,script:t}}},{kind:"method",key:"updated",value:function(e){(0,s.A)(i,"updated",this,3)([e]),(e.has("itemId")||e.has("itemType"))&&this.itemId&&this.itemType&&this._findRelated()}},{kind:"field",key:"_relatedEntities",value(){return(0,l.A)((e=>this._toEntities(e)))}},{kind:"field",key:"_relatedAutomations",value(){return(0,l.A)((e=>this._toEntities(e)))}},{kind:"field",key:"_relatedScripts",value(){return(0,l.A)((e=>this._toEntities(e)))}},{kind:"field",key:"_relatedGroups",value(){return(0,l.A)((e=>this._toEntities(e)))}},{kind:"field",key:"_relatedScenes",value(){return(0,l.A)((e=>this._toEntities(e)))}},{kind:"field",key:"_toEntities",value(){return e=>e.map((e=>this.hass.states[e])).filter((e=>e)).sort(((e,t)=>(0,c.S)(e.attributes.friendly_name??e.entity_id,t.attributes.friendly_name??t.entity_id,this.hass.language)))}},{kind:"field",key:"_getConfigEntries",value:()=>(0,l.A)(((e,t)=>{const i=e&&t?e.map((e=>t.find((t=>t.entry_id===e)))):void 0,a=new Set(i?.map((e=>e?.domain)));return{configEntries:i,configEntryDomains:a}}))},{kind:"method",key:"render",value:function(){if(!this._related)return o.s6;if(0===Object.keys(this._related).length)return o.qy` <mwc-list> <ha-list-item hasMeta graphic="icon" noninteractive> <ha-svg-icon .path="${"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z"}" slot="graphic"></ha-svg-icon> ${this.hass.localize("ui.components.related-items.no_related_found")} </ha-list-item> </mwc-list> `;const{configEntries:e,configEntryDomains:t}=this._getConfigEntries(this._related.config_entry,this._entries);return o.qy` ${e||this._related.integration?o.qy`<h3> ${this.hass.localize("ui.components.related-items.integration")} </h3> <mwc-list>${e?.map((e=>e?o.qy` <a href="${`/config/integrations/integration/${e.domain}#config_entry=${e.entry_id}`}" @click="${this._navigateAwayClose}"> <ha-list-item hasMeta graphic="icon"> <img .src="${(0,p.MR)({domain:e.domain,type:"icon",useFallback:!0,darkOptimized:this.hass.themes?.darkMode})}" crossorigin="anonymous" referrerpolicy="no-referrer" alt="${e.domain}" slot="graphic"> ${this.hass.localize(`component.${e.domain}.title`)}: ${e.title} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a> `:o.s6))} ${this._related.integration?.filter((e=>!t.has(e))).map((e=>o.qy`<a href="${`/config/integrations/integration/${e}`}" @click="${this._navigateAwayClose}"> <ha-list-item hasMeta graphic="icon"> <img .src="${(0,p.MR)({domain:e,type:"icon",useFallback:!0,darkOptimized:this.hass.themes?.darkMode})}" crossorigin="anonymous" referrerpolicy="no-referrer" alt="${e}" slot="graphic"> ${this.hass.localize(`component.${e}.title`)} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a>`))} </mwc-list>`:o.s6} ${this._related.device?o.qy`<h3> ${this.hass.localize("ui.components.related-items.device")} </h3> ${this._related.device.map((e=>{const t=this.hass.devices[e];return t?o.qy` <a href="/config/devices/device/${e}" @click="${this._navigateAwayClose}"> <ha-list-item hasMeta graphic="icon"> <ha-svg-icon .path="${"M3 6H21V4H3C1.9 4 1 4.9 1 6V18C1 19.1 1.9 20 3 20H7V18H3V6M13 12H9V13.78C8.39 14.33 8 15.11 8 16C8 16.89 8.39 17.67 9 18.22V20H13V18.22C13.61 17.67 14 16.88 14 16S13.61 14.33 13 13.78V12M11 17.5C10.17 17.5 9.5 16.83 9.5 16S10.17 14.5 11 14.5 12.5 15.17 12.5 16 11.83 17.5 11 17.5M22 8H16C15.5 8 15 8.5 15 9V19C15 19.5 15.5 20 16 20H22C22.5 20 23 19.5 23 19V9C23 8.5 22.5 8 22 8M21 18H17V10H21V18Z"}" slot="graphic"></ha-svg-icon> ${t.name_by_user||t.name} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a> `:o.s6}))} `:o.s6} ${this._related.area?o.qy`<h3> ${this.hass.localize("ui.components.related-items.area")} </h3> <mwc-list>${this._related.area.map((e=>{const t=this.hass.areas[e];return t?o.qy` <a href="/config/areas/area/${e}" @click="${this._navigateAwayClose}"> <ha-list-item hasMeta .graphic="${t.picture?"avatar":"icon"}"> ${t.picture?o.qy` <div class="avatar" style="${(0,r.W)({backgroundImage:`url(${t.picture})`})}" slot="graphic"></div>`:o.qy`<ha-svg-icon .path="${"M12.5 7C12.5 5.89 13.39 5 14.5 5H18C19.1 5 20 5.9 20 7V9.16C18.84 9.57 18 10.67 18 11.97V14H12.5V7M6 11.96V14H11.5V7C11.5 5.89 10.61 5 9.5 5H6C4.9 5 4 5.9 4 7V9.15C5.16 9.56 6 10.67 6 11.96M20.66 10.03C19.68 10.19 19 11.12 19 12.12V15H5V12C5 10.9 4.11 10 3 10S1 10.9 1 12V17C1 18.1 1.9 19 3 19V21H5V19H19V21H21V19C22.1 19 23 18.1 23 17V12C23 10.79 21.91 9.82 20.66 10.03Z"}" slot="graphic"></ha-svg-icon>`} ${t.name} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a> `:o.s6}))}</mwc-list>`:o.s6} ${this._related.entity?o.qy` <h3>${this.hass.localize("ui.components.related-items.entity")}</h3> <mwc-list> ${this._relatedEntities(this._related.entity).map((e=>o.qy` <ha-list-item @click="${this._openMoreInfo}" .entityId="${e.entity_id}" hasMeta graphic="icon"> <ha-state-icon .hass="${this.hass}" .stateObj="${e}" slot="graphic"></ha-state-icon> ${e.attributes.friendly_name||e.entity_id} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> `))} </mwc-list> `:o.s6} ${this._related.group?o.qy` <h3>${this.hass.localize("ui.components.related-items.group")}</h3> <mwc-list> ${this._relatedGroups(this._related.group).map((e=>o.qy` <ha-list-item @click="${this._openMoreInfo}" .entityId="${e.entity_id}" hasMeta graphic="icon"> <ha-state-icon .hass="${this.hass}" .stateObj="${e}" slot="graphic"></ha-state-icon> ${e.attributes.friendly_name||e.entity_id} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> `))} </mwc-list> `:o.s6} ${this._related.scene?o.qy` <h3>${this.hass.localize("ui.components.related-items.scene")}</h3> <mwc-list> ${this._relatedScenes(this._related.scene).map((e=>o.qy` <ha-list-item @click="${this._openMoreInfo}" .entityId="${e.entity_id}" hasMeta graphic="icon"> <ha-state-icon .hass="${this.hass}" .stateObj="${e}" slot="graphic"></ha-state-icon> ${e.attributes.friendly_name||e.entity_id} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> `))} </mwc-list> `:o.s6} ${this._related.automation_blueprint?o.qy` <h3> ${this.hass.localize("ui.components.related-items.blueprint")} </h3> <mwc-list> ${this._related.automation_blueprint.map((e=>{const t=this._blueprints?this._blueprints.automation[e]:void 0;return o.qy`<a href="/config/blueprint/dashboard" @click="${this._navigateAwayClose}"> <ha-list-item hasMeta graphic="icon"> <ha-svg-icon .path="${f}" slot="graphic"></ha-svg-icon> ${!t||"error"in t?e:t.metadata.name||e} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a>`}))} </mwc-list> `:o.s6} ${this._related.automation?o.qy` <h3> ${this.hass.localize("ui.components.related-items.automation")} </h3> <mwc-list> ${this._relatedAutomations(this._related.automation).map((e=>o.qy` <ha-list-item @click="${this._openMoreInfo}" .entityId="${e.entity_id}" hasMeta graphic="icon"> <ha-state-icon .hass="${this.hass}" .stateObj="${e}" slot="graphic"></ha-state-icon> ${e.attributes.friendly_name||e.entity_id} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> `))} </mwc-list> `:o.s6} ${this._related.script_blueprint?o.qy` <h3> ${this.hass.localize("ui.components.related-items.blueprint")} </h3> <mwc-list> ${this._related.script_blueprint.map((e=>{const t=this._blueprints?this._blueprints.script[e]:void 0;return o.qy`<a href="/config/blueprint/dashboard" @click="${this._navigateAwayClose}"> <ha-list-item hasMeta graphic="icon"> <ha-svg-icon .path="${f}" slot="graphic"></ha-svg-icon> ${!t||"error"in t?e:t.metadata.name||e} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a>`}))} </mwc-list> `:o.s6} ${this._related.script?o.qy` <h3>${this.hass.localize("ui.components.related-items.script")}</h3> <mwc-list> ${this._relatedScripts(this._related.script).map((e=>o.qy` <ha-list-item @click="${this._openMoreInfo}" .entityId="${e.entity_id}" hasMeta graphic="icon"> <ha-state-icon .hass="${this.hass}" .stateObj="${e}" slot="graphic"></ha-state-icon> ${e.attributes.friendly_name||e.entity_id} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> `))} </mwc-list> `:o.s6} `}},{kind:"method",key:"_navigateAwayClose",value:async function(){await new Promise((e=>{setTimeout(e,0)})),(0,d.r)(this,"close-dialog")}},{kind:"method",key:"_findRelated",value:async function(){this._related=await(0,m.f)(this.hass,this.itemType,this.itemId),this._related.config_entry&&this._fetchConfigEntries(),(this._related.script_blueprint||this._related.automation_blueprint)&&this._fetchBlueprints()}},{kind:"method",key:"_openMoreInfo",value:function(e){const t=e.target.entityId;(0,d.r)(this,"hass-more-info",{entityId:t})}},{kind:"get",static:!0,key:"styles",value:function(){return[y.RF,o.AH`a{color:var(--primary-color);text-decoration:none}ha-list-item{--mdc-list-side-padding:24px}h3{padding:0 24px;margin-bottom:0}h3:first-child{margin-top:0}.avatar{background-position:center center;background-size:cover}`]}}]}}),o.WF)},23562:(e,t,i)=>{var a=i(36312),s=i(68689),o=i(3052),n=i(70252),r=i(15112),l=i(77706);(0,a.A)([(0,l.EM)("ha-ripple")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",key:"attachableTouchController",value(){return new o.i(this,this.onTouchControlChange.bind(this))}},{kind:"method",key:"attach",value:function(e){(0,s.A)(i,"attach",this,3)([e]),this.attachableTouchController.attach(e)}},{kind:"method",key:"detach",value:function(){(0,s.A)(i,"detach",this,3)([]),this.attachableTouchController.detach()}},{kind:"field",key:"_handleTouchEnd",value(){return()=>{this.disabled||(0,s.A)(i,"endPressAnimation",this,3)([])}}},{kind:"method",key:"onTouchControlChange",value:function(e,t){e?.removeEventListener("touchend",this._handleTouchEnd),t?.addEventListener("touchend",this._handleTouchEnd)}},{kind:"field",static:!0,key:"styles",value(){return[...(0,s.A)(i,"styles",this),r.AH`:host{--md-ripple-hover-opacity:var(--ha-ripple-hover-opacity, 0.08);--md-ripple-pressed-opacity:var(--ha-ripple-pressed-opacity, 0.12);--md-ripple-hover-color:var(
          --ha-ripple-hover-color,
          var(--ha-ripple-color, var(--secondary-text-color))
        );--md-ripple-pressed-color:var(
          --ha-ripple-pressed-color,
          var(--ha-ripple-color, var(--secondary-text-color))
        )}`]}}]}}),n.o)},9421:(e,t,i)=>{var a=i(36312),s=(i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435),i(15112)),o=i(77706),n=i(94100),r=i(85920),l=i(29829);const d={action:()=>Promise.all([i.e(94131),i.e(14121),i.e(63893),i.e(40319),i.e(15313),i.e(23766),i.e(14691),i.e(29654),i.e(31572),i.e(24500),i.e(99196),i.e(61060),i.e(51431),i.e(66419),i.e(77044),i.e(40775),i.e(55792),i.e(12675),i.e(94548),i.e(94872),i.e(97570),i.e(59292),i.e(81318),i.e(56152),i.e(91336),i.e(68309),i.e(57162),i.e(52622),i.e(39611)]).then(i.bind(i,27384)),addon:()=>Promise.all([i.e(94131),i.e(14121),i.e(40319),i.e(15313),i.e(59257),i.e(55400)]).then(i.bind(i,47959)),area:()=>Promise.all([i.e(94131),i.e(14121),i.e(40319),i.e(15313),i.e(63535),i.e(55792),i.e(53434)]).then(i.bind(i,53434)),area_filter:()=>Promise.all([i.e(94131),i.e(14121),i.e(22390)]).then(i.bind(i,49769)),attribute:()=>Promise.all([i.e(94131),i.e(14121),i.e(40319),i.e(15313),i.e(31572),i.e(16879),i.e(68309),i.e(39375)]).then(i.bind(i,60832)),assist_pipeline:()=>Promise.all([i.e(14121),i.e(63893),i.e(23766),i.e(14691),i.e(29654),i.e(31572),i.e(24500),i.e(34633),i.e(22976)]).then(i.bind(i,22976)),boolean:()=>Promise.all([i.e(95209),i.e(8648)]).then(i.bind(i,8648)),color_rgb:()=>Promise.all([i.e(94131),i.e(14121),i.e(22940)]).then(i.bind(i,56229)),condition:()=>Promise.all([i.e(94131),i.e(14121),i.e(63893),i.e(40319),i.e(15313),i.e(23766),i.e(14691),i.e(29654),i.e(31572),i.e(24500),i.e(61060),i.e(51431),i.e(66419),i.e(77044),i.e(77219),i.e(55792),i.e(12675),i.e(94548),i.e(94872),i.e(97570),i.e(81318),i.e(91336),i.e(68309),i.e(57162),i.e(18524)]).then(i.bind(i,74405)),config_entry:()=>Promise.all([i.e(94131),i.e(14121),i.e(40319),i.e(15313),i.e(57678),i.e(32481)]).then(i.bind(i,32481)),conversation_agent:()=>Promise.all([i.e(14121),i.e(63893),i.e(23766),i.e(14691),i.e(29654),i.e(24500),i.e(34633),i.e(35222)]).then(i.bind(i,35222)),constant:()=>i.e(90046).then(i.bind(i,90046)),country:()=>Promise.all([i.e(14121),i.e(63893),i.e(23766),i.e(14691),i.e(29654),i.e(31572),i.e(24500),i.e(71786)]).then(i.bind(i,67970)),date:()=>Promise.all([i.e(94131),i.e(14121),i.e(31572),i.e(55745)]).then(i.bind(i,89134)),datetime:()=>Promise.all([i.e(94131),i.e(14121),i.e(63893),i.e(23766),i.e(14691),i.e(29654),i.e(31572),i.e(24500),i.e(3316),i.e(89847)]).then(i.bind(i,6431)),device:()=>Promise.all([i.e(94131),i.e(14121),i.e(40319),i.e(15313),i.e(77044),i.e(55792),i.e(55386)]).then(i.bind(i,2595)),duration:()=>Promise.all([i.e(14121),i.e(63893),i.e(23766),i.e(14691),i.e(29654),i.e(24500),i.e(34633),i.e(45710)]).then(i.bind(i,45710)),entity:()=>Promise.all([i.e(94131),i.e(14121),i.e(40319),i.e(15313),i.e(39783),i.e(55792),i.e(12675),i.e(94548),i.e(94872),i.e(86706)]).then(i.bind(i,50317)),statistic:()=>Promise.all([i.e(94131),i.e(14121),i.e(40319),i.e(15313),i.e(48010),i.e(55792),i.e(12675),i.e(94872),i.e(67184),i.e(82291)]).then(i.bind(i,65938)),file:()=>i.e(45881).then(i.bind(i,45881)),floor:()=>Promise.all([i.e(94131),i.e(14121),i.e(40319),i.e(15313),i.e(94622),i.e(55792),i.e(66680),i.e(9739)]).then(i.bind(i,71518)),label:()=>Promise.all([i.e(94131),i.e(14121),i.e(40319),i.e(15313),i.e(16882),i.e(71893),i.e(26249),i.e(55792),i.e(30225),i.e(91596)]).then(i.bind(i,65282)),image:()=>Promise.all([i.e(94131),i.e(14121),i.e(3051),i.e(37473),i.e(55337),i.e(73620)]).then(i.bind(i,55337)),language:()=>Promise.all([i.e(14121),i.e(63893),i.e(23766),i.e(14691),i.e(29654),i.e(31572),i.e(24500),i.e(77780)]).then(i.bind(i,99916)),navigation:()=>Promise.all([i.e(94131),i.e(14121),i.e(40319),i.e(15313),i.e(32341),i.e(76141),i.e(93028)]).then(i.bind(i,69948)),number:()=>Promise.all([i.e(94131),i.e(14121),i.e(16882),i.e(73767),i.e(37113)]).then(i.bind(i,98667)),object:()=>Promise.all([i.e(61060),i.e(51431),i.e(62375)]).then(i.bind(i,87785)),qr_code:()=>Promise.all([i.e(61060),i.e(50240),i.e(15201)]).then(i.bind(i,8899)),select:()=>Promise.all([i.e(94131),i.e(14121),i.e(63893),i.e(40319),i.e(15313),i.e(23766),i.e(14691),i.e(29654),i.e(24500),i.e(99196),i.e(16882),i.e(71893),i.e(3051),i.e(17494),i.e(50170)]).then(i.bind(i,50170)),selector:()=>i.e(54235).then(i.bind(i,54235)),state:()=>Promise.all([i.e(94131),i.e(14121),i.e(40319),i.e(15313),i.e(16879),i.e(55883)]).then(i.bind(i,55883)),backup_location:()=>Promise.all([i.e(14121),i.e(63893),i.e(23766),i.e(14691),i.e(29654),i.e(24500),i.e(67056),i.e(62862)]).then(i.bind(i,84475)),stt:()=>Promise.all([i.e(14121),i.e(63893),i.e(23766),i.e(14691),i.e(29654),i.e(24500),i.e(15272)]).then(i.bind(i,4288)),target:()=>Promise.all([i.e(94131),i.e(14121),i.e(40319),i.e(15313),i.e(23766),i.e(77044),i.e(79634),i.e(55792),i.e(12675),i.e(94548),i.e(94872),i.e(30697),i.e(17950)]).then(i.bind(i,85855)),template:()=>i.e(57464).then(i.bind(i,57464)),text:()=>Promise.all([i.e(94131),i.e(14121),i.e(30170)]).then(i.bind(i,56293)),time:()=>Promise.all([i.e(14121),i.e(63893),i.e(23766),i.e(14691),i.e(29654),i.e(24500),i.e(34633),i.e(3316),i.e(22133)]).then(i.bind(i,39283)),icon:()=>Promise.all([i.e(94131),i.e(14121),i.e(40319),i.e(15313),i.e(39783),i.e(94872),i.e(72427)]).then(i.bind(i,72427)),media:()=>i.e(79372).then(i.bind(i,79372)),theme:()=>Promise.all([i.e(14121),i.e(63893),i.e(23766),i.e(14691),i.e(29654),i.e(24500),i.e(74822)]).then(i.bind(i,99245)),trigger:()=>Promise.all([i.e(94131),i.e(14121),i.e(63893),i.e(40319),i.e(15313),i.e(23766),i.e(14691),i.e(29654),i.e(31572),i.e(24500),i.e(99196),i.e(61060),i.e(51431),i.e(66419),i.e(77044),i.e(78908),i.e(55792),i.e(12675),i.e(94548),i.e(94872),i.e(97570),i.e(81318),i.e(56152),i.e(68309),i.e(57162),i.e(2443)]).then(i.bind(i,49204)),tts:()=>Promise.all([i.e(14121),i.e(63893),i.e(23766),i.e(14691),i.e(29654),i.e(24500),i.e(53483)]).then(i.bind(i,22051)),tts_voice:()=>Promise.all([i.e(14121),i.e(63893),i.e(23766),i.e(14691),i.e(29654),i.e(24500),i.e(25706)]).then(i.bind(i,89218)),location:()=>Promise.all([i.e(31572),i.e(82331),i.e(58585),i.e(11026)]).then(i.bind(i,48565)),color_temp:()=>Promise.all([i.e(31572),i.e(16882),i.e(81625),i.e(73767),i.e(10687),i.e(79222)]).then(i.bind(i,79222)),ui_action:()=>Promise.all([i.e(94131),i.e(14121),i.e(63893),i.e(40319),i.e(15313),i.e(23766),i.e(14691),i.e(29654),i.e(31572),i.e(24500),i.e(99196),i.e(61060),i.e(51431),i.e(9779),i.e(94872),i.e(59292),i.e(76141),i.e(77153),i.e(4978)]).then(i.bind(i,95855)),ui_color:()=>Promise.all([i.e(14121),i.e(63893),i.e(23766),i.e(14691),i.e(29654),i.e(24500),i.e(88266)]).then(i.bind(i,34418)),ui_state_content:()=>Promise.all([i.e(94131),i.e(14121),i.e(40319),i.e(15313),i.e(31572),i.e(12818),i.e(94872),i.e(3056)]).then(i.bind(i,3056))},c=new Set(["ui-action","ui-color"]);(0,a.A)([(0,o.EM)("ha-selector")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"name",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"selector",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"helper",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"localizeValue",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"placeholder",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"required",value:()=>!0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"context",value:void 0},{kind:"method",key:"focus",value:async function(){await this.updateComplete,this.renderRoot.querySelector("#selector")?.focus()}},{kind:"get",key:"_type",value:function(){const e=Object.keys(this.selector)[0];return c.has(e)?e.replace("-","_"):e}},{kind:"method",key:"willUpdate",value:function(e){e.has("selector")&&this.selector&&d[this._type]?.()}},{kind:"field",key:"_handleLegacySelector",value(){return(0,n.A)((e=>{if("entity"in e)return(0,l.UU)(e);if("device"in e)return(0,l.tD)(e);const t=Object.keys(this.selector)[0];return c.has(t)?{[t.replace("-","_")]:e[t]}:e}))}},{kind:"method",key:"render",value:function(){return s.qy` ${(0,r._)(`ha-selector-${this._type}`,{hass:this.hass,name:this.name,selector:this._handleLegacySelector(this.selector),value:this.value,label:this.label,placeholder:this.placeholder,disabled:this.disabled,required:this.required,helper:this.helper,context:this.context,localizeValue:this.localizeValue,id:"selector"})} `}}]}}),s.WF)},24640:(e,t,i)=>{var a=i(36312),s=i(15112),o=i(77706);(0,a.A)([(0,o.EM)("ha-settings-row")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean,attribute:"three-line"})],key:"threeLine",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean,attribute:"wrap-heading",reflect:!0})],key:"wrapHeading",value:()=>!1},{kind:"method",key:"render",value:function(){return s.qy` <div class="prefix-wrap"> <slot name="prefix"></slot> <div class="body" ?two-line="${!this.threeLine}" ?three-line="${this.threeLine}"> <slot name="heading"></slot> <div class="secondary"><slot name="description"></slot></div> </div> </div> <div class="content"><slot></slot></div> `}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`:host{display:flex;padding:0 16px;align-content:normal;align-self:auto;align-items:center}.body{padding-top:8px;padding-bottom:8px;padding-left:0;padding-inline-start:0;padding-right:16x;padding-inline-end:16px;overflow:hidden;display:var(--layout-vertical_-_display);flex-direction:var(--layout-vertical_-_flex-direction);justify-content:var(--layout-center-justified_-_justify-content);flex:var(--layout-flex_-_flex);flex-basis:var(--layout-flex_-_flex-basis)}.body[three-line]{min-height:var(--paper-item-body-three-line-min-height,88px)}:host(:not([wrap-heading])) body>*{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.body>.secondary{display:block;padding-top:4px;font-family:var(
          --mdc-typography-body2-font-family,
          var(--mdc-typography-font-family, Roboto, sans-serif)
        );-webkit-font-smoothing:antialiased;font-size:var(--mdc-typography-body2-font-size, .875rem);font-weight:var(--mdc-typography-body2-font-weight,400);line-height:normal;color:var(--secondary-text-color)}.body[two-line]{min-height:calc(var(--paper-item-body-two-line-min-height,72px) - 16px);flex:1}.content{display:contents}:host(:not([narrow])) .content{display:var(--settings-row-content-display,flex);justify-content:flex-end;flex:1;padding:16px 0}.content ::slotted(*){width:var(--settings-row-content-width)}:host([narrow]){align-items:normal;flex-direction:column;border-top:1px solid var(--divider-color);padding-bottom:8px}::slotted(ha-switch){padding:16px 0}.secondary{white-space:normal}.prefix-wrap{display:var(--settings-row-prefix-display)}:host([narrow]) .prefix-wrap{display:flex;align-items:center}`}}]}}),s.WF)},88400:(e,t,i)=>{i.r(t),i.d(t,{HaSvgIcon:()=>n});var a=i(36312),s=i(15112),o=i(77706);let n=(0,a.A)([(0,o.EM)("ha-svg-icon")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)()],key:"path",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"secondaryPath",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"viewBox",value:void 0},{kind:"method",key:"render",value:function(){return s.JW` <svg viewBox="${this.viewBox||"0 0 24 24"}" preserveAspectRatio="xMidYMid meet" focusable="false" role="img" aria-hidden="true"> <g> ${this.path?s.JW`<path class="primary-path" d="${this.path}"></path>`:s.s6} ${this.secondaryPath?s.JW`<path class="secondary-path" d="${this.secondaryPath}"></path>`:s.s6} </g> </svg>`}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`:host{display:var(--ha-icon-display,inline-flex);align-items:center;justify-content:center;position:relative;vertical-align:middle;fill:var(--icon-primary-color,currentcolor);width:var(--mdc-icon-size,24px);height:var(--mdc-icon-size,24px)}svg{width:100%;height:100%;pointer-events:none;display:block}path.primary-path{opacity:var(--icon-primary-opactity, 1)}path.secondary-path{fill:var(--icon-secondary-color,currentcolor);opacity:var(--icon-secondary-opactity, .5)}`}}]}}),s.WF)},57641:(e,t,i)=>{var a=i(36312),s=i(68689),o=i(51431),n=i(15112),r=i(77706),l=i(34897),d=i(55321),c=(i(31979),i(18589)),h=i(32920);i(77372);(0,a.A)([(0,r.EM)("ha-yaml-editor")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"value",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"yamlSchema",value:()=>o.DEFAULT_SCHEMA},{kind:"field",decorators:[(0,r.MZ)()],key:"defaultValue",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"isValid",value:()=>!0},{kind:"field",decorators:[(0,r.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"autoUpdate",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"readOnly",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"required",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"copyClipboard",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"hasExtraActions",value:()=>!1},{kind:"field",decorators:[(0,r.wk)()],key:"_yaml",value:()=>""},{kind:"field",decorators:[(0,r.P)("ha-code-editor")],key:"_codeEditor",value:void 0},{kind:"method",key:"setValue",value:function(e){try{this._yaml=(e=>{if("object"!=typeof e||null===e)return!1;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0})(e)?"":(0,o.dump)(e,{schema:this.yamlSchema,quotingType:'"',noRefs:!0})}catch(t){console.error(t,e),alert(`There was an error converting to YAML: ${t}`)}}},{kind:"method",key:"firstUpdated",value:function(){void 0!==this.defaultValue&&this.setValue(this.defaultValue)}},{kind:"method",key:"willUpdate",value:function(e){(0,s.A)(i,"willUpdate",this,3)([e]),this.autoUpdate&&e.has("value")&&this.setValue(this.value)}},{kind:"method",key:"focus",value:function(){this._codeEditor?.codemirror&&this._codeEditor?.codemirror.focus()}},{kind:"method",key:"render",value:function(){return void 0===this._yaml?n.s6:n.qy` ${this.label?n.qy`<p>${this.label}${this.required?" *":""}</p>`:n.s6} <ha-code-editor .hass="${this.hass}" .value="${this._yaml}" .readOnly="${this.readOnly}" mode="yaml" autocomplete-entities autocomplete-icons .error="${!1===this.isValid}" @value-changed="${this._onChange}" dir="ltr"></ha-code-editor> ${this.copyClipboard||this.hasExtraActions?n.qy` <div class="card-actions"> ${this.copyClipboard?n.qy` <ha-button @click="${this._copyYaml}"> ${this.hass.localize("ui.components.yaml-editor.copy_to_clipboard")} </ha-button> `:n.s6} <slot name="extra-actions"></slot> </div> `:n.s6} `}},{kind:"method",key:"_onChange",value:function(e){let t;e.stopPropagation(),this._yaml=e.detail.value;let i=!0;if(this._yaml)try{t=(0,o.load)(this._yaml,{schema:this.yamlSchema})}catch(e){i=!1}else t={};this.value=t,this.isValid=i,(0,l.r)(this,"value-changed",{value:t,isValid:i})}},{kind:"get",key:"yaml",value:function(){return this._yaml}},{kind:"method",key:"_copyYaml",value:async function(){this.yaml&&(await(0,h.l)(this.yaml),(0,c.P)(this,{message:this.hass.localize("ui.common.copied_clipboard")}))}},{kind:"get",static:!0,key:"styles",value:function(){return[d.RF,n.AH`.card-actions{border-radius:var(--actions-border-radius,0px 0px var(--ha-card-border-radius,12px) var(--ha-card-border-radius,12px));border:1px solid var(--divider-color);padding:5px 16px}ha-code-editor{flex-grow:1}`]}}]}}),n.WF)},3225:(e,t,i)=>{i.d(t,{Bs:()=>n,Jp:()=>s,Tk:()=>o,Xg:()=>a,oz:()=>l,x1:()=>r});const a=(e,t)=>e.callWS({type:"blueprint/list",domain:t}),s=(e,t)=>e.callWS({type:"blueprint/import",url:t}),o=(e,t,i,a,s,o)=>e.callWS({type:"blueprint/save",domain:t,path:i,yaml:a,source_url:s,allow_override:o}),n=(e,t,i)=>e.callWS({type:"blueprint/delete",domain:t,path:i}),r=e=>{const t=e.metadata.source_url;return t?t.includes("github.com/home-assistant")?"homeassistant":"community":"local"},l=(e,t,i,a)=>e.callWS({type:"blueprint/substitute",domain:t,path:i,input:a})},31265:(e,t,i)=>{i.d(t,{JW:()=>m,TC:()=>o,VN:()=>n,Vx:()=>r,XQ:()=>h,eM:()=>d,iH:()=>l,k3:()=>u,m4:()=>a,qf:()=>s,yv:()=>c});i(253),i(2075),i(94438);const a=33524==i.j?["migration_error","setup_error","setup_retry"]:null,s=33524==i.j?["not_loaded","loaded","setup_error","setup_retry"]:null,o=(e,t,i)=>{const a={type:"config_entries/subscribe"};return i&&i.type&&(a.type_filter=i.type),e.connection.subscribeMessage((e=>t(e)),a)},n=(e,t)=>{const i={};return t&&(t.type&&(i.type_filter=t.type),t.domain&&(i.domain=t.domain)),e.callWS({type:"config_entries/get",...i})},r=(e,t)=>e.callWS({type:"config_entries/get_single",entry_id:t}),l=(e,t,i)=>e.callWS({type:"config_entries/update",entry_id:t,...i}),d=(e,t)=>e.callApi("DELETE",`config/config_entries/entry/${t}`),c=(e,t)=>e.callApi("POST",`config/config_entries/entry/${t}/reload`),h=(e,t)=>e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:"user"}),u=(e,t)=>e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:null}),m=(e,t)=>{if(!t)return e;const i=e.find((e=>e.entry_id===t));if(!i)return e;return[i,...e.filter((e=>e.entry_id!==t))]}},98041:(e,t,i)=>{i.d(t,{Al:()=>r,KY:()=>n,PN:()=>c,RM:()=>v,dG:()=>u,jm:()=>h,m7:()=>g,sR:()=>m,t1:()=>d,t2:()=>p,x:()=>_,yu:()=>y});var a=i(88444),s=i(18409),o=i(46092);const n=33524==i.j?["bluetooth","dhcp","discovery","hardware","hassio","homekit","integration_discovery","mqtt","ssdp","unignore","usb","zeroconf"]:null,r=33524==i.j?["reauth"]:null,l={"HA-Frontend-Base":`${location.protocol}//${location.host}`},d=(e,t,i)=>e.callApi("POST","config/config_entries/flow",{handler:t,show_advanced_options:Boolean(e.userData?.showAdvanced),entry_id:i},l),c=(e,t)=>e.callApi("GET",`config/config_entries/flow/${t}`,void 0,l),h=(e,t,i)=>e.callApi("POST",`config/config_entries/flow/${t}`,i,l),u=(e,t,i)=>e.callWS({type:"config_entries/ignore_flow",flow_id:t,title:i}),m=(e,t)=>e.callApi("DELETE",`config/config_entries/flow/${t}`),y=(e,t)=>e.callApi("GET","config/config_entries/flow_handlers"+(t?`?type=${t}`:"")),p=e=>e.sendMessagePromise({type:"config_entries/flow/progress"}),f=(e,t)=>e.subscribeEvents((0,s.s)((()=>p(e).then((e=>t.setState(e,!0)))),500,!0),"config_entry_discovered"),v=e=>(0,a.X)(e,"_configFlowProgress",p,f),_=(e,t)=>v(e.connection).subscribe(t),g=(e,t)=>t.context.title_placeholders&&0!==Object.keys(t.context.title_placeholders).length?e(`component.${t.handler}.config.flow_title`,t.context.title_placeholders)||("name"in t.context.title_placeholders?t.context.title_placeholders.name:(0,o.p$)(e,t.handler)):(0,o.p$)(e,t.handler)},81235:(e,t,i)=>{i.d(t,{y:()=>n});const a=window;"customIconsets"in a||(a.customIconsets={});const s=a.customIconsets,o=window;"customIcons"in o||(o.customIcons={});const n=new Proxy(o.customIcons,{get:(e,t)=>e[t]??(s[t]?{getIcon:s[t]}:void 0)})},9755:(e,t,i)=>{i.d(t,{e:()=>a});const a=e=>`/api/image_proxy/${e.entity_id}?token=${e.attributes.access_token}&state=${e.state}`},21668:(e,t,i)=>{i.d(t,{Rp:()=>c,_9:()=>d,_G:()=>n,d4:()=>h,o5:()=>l});var a=i(88444),s=i(2682),o=i(18409);const n=e=>e.sendMessagePromise({type:"config/label_registry/list"}).then((e=>e.sort(((e,t)=>(0,s.x)(e.name,t.name))))),r=(e,t)=>e.subscribeEvents((0,o.s)((()=>n(e).then((e=>t.setState(e,!0)))),500,!0),"label_registry_updated"),l=(e,t)=>(0,a.N)("_labelRegistry",n,r,e,t),d=(e,t)=>e.callWS({type:"config/label_registry/create",...t}),c=(e,t,i)=>e.callWS({type:"config/label_registry/update",label_id:t,...i}),h=(e,t)=>e.callWS({type:"config/label_registry/delete",label_id:t})},42777:(e,t,i)=>{i.d(t,{Y:()=>a});const a=(e,t)=>e.callWS({type:"number/device_class_convertible_units",device_class:t})},70747:(e,t,i)=>{i.d(t,{HH:()=>a,TY:()=>s,lu:()=>o,mu:()=>n});const a=(e,t)=>e.callApi("POST","config/config_entries/options/flow",{handler:t,show_advanced_options:Boolean(e.userData?.showAdvanced)}),s=(e,t)=>e.callApi("GET",`config/config_entries/options/flow/${t}`),o=(e,t,i)=>e.callApi("POST",`config/config_entries/options/flow/${t}`,i),n=(e,t)=>e.callApi("DELETE",`config/config_entries/options/flow/${t}`)},4826:(e,t,i)=>{i.d(t,{$3:()=>u,$O:()=>b,$j:()=>m,JE:()=>k,OQ:()=>w,PU:()=>$,Ph:()=>c,Uf:()=>g,W1:()=>h,Wr:()=>r,Z:()=>o,gF:()=>y,iY:()=>p,jU:()=>s,nN:()=>_,p3:()=>n,pJ:()=>d,sz:()=>l});i(253),i(4525);var a=i(19244);const s=33524==i.j?["entity_not_recorded","entity_no_longer_recorded","state_class_removed","units_changed","no_state"]:null,o=e=>e.sendMessagePromise({type:"recorder/info"}),n=(e,t)=>e.callWS({type:"recorder/list_statistic_ids",statistic_type:t}),r=(e,t)=>e.callWS({type:"recorder/get_statistics_metadata",statistic_ids:t}),l=(e,t,i,a,s="hour",o,n)=>e.callWS({type:"recorder/statistics_during_period",start_time:t.toISOString(),end_time:i?.toISOString(),statistic_ids:a,period:s,units:o,types:n}),d=(e,t,i,a)=>e.callWS({type:"recorder/statistic_during_period",statistic_id:t,units:a,fixed_period:i.fixed_period?{start_time:i.fixed_period.start instanceof Date?i.fixed_period.start.toISOString():i.fixed_period.start,end_time:i.fixed_period.end instanceof Date?i.fixed_period.end.toISOString():i.fixed_period.end}:void 0,calendar:i.calendar,rolling_window:i.rolling_window}),c=e=>e.callWS({type:"recorder/validate_statistics"}),h=(e,t,i)=>e.callWS({type:"recorder/update_statistics_metadata",statistic_id:t,unit_of_measurement:i}),u=(e,t)=>e.callWS({type:"recorder/clear_statistics",statistic_ids:t}),m=e=>{let t=null;if(!e)return null;for(const i of e)null!==i.change&&void 0!==i.change&&(null===t?t=i.change:t+=i.change);return t},y=(e,t)=>{let i=null;for(const a of t){if(!(a in e))continue;const t=m(e[a]);null!==t&&(null===i?i=t:i+=t)}return i},p=(e,t)=>e.some((e=>void 0!==e[t]&&null!==e[t])),f=["mean","min","max"],v=["sum","state","change"],_=(e,t)=>!(!f.includes(t)||!e.has_mean)||!(!v.includes(t)||!e.has_sum),g=(e,t,i,a,s)=>{const o=new Date(i).toISOString();return e.callWS({type:"recorder/adjust_sum_statistics",statistic_id:t,start_time:o,adjustment:a,adjustment_unit_of_measurement:s})},b=(e,t,i)=>{const s=e.states[t];return s?(0,a.u)(s):i?.name||t},k=(e,t,i)=>{let a;return t&&(a=e.states[t]?.attributes.unit_of_measurement),void 0===a?i?.statistics_unit_of_measurement:a},w=e=>e.includes(":"),$=e=>e.callWS({type:"recorder/update_statistics_issues"})},67240:(e,t,i)=>{i.d(t,{f:()=>s,o:()=>a});i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435);const a=new Set(["automation","script","scene","group"]),s=(e,t,i)=>e.callWS({type:"search/related",item_type:t,item_id:i})},29829:(e,t,i)=>{i.d(t,{DF:()=>m,Lo:()=>g,MH:()=>d,MM:()=>y,Qz:()=>u,Ru:()=>f,UU:()=>v,_7:()=>h,bZ:()=>c,m0:()=>l,tD:()=>_,vX:()=>p});i(89655),i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435),i(253),i(2075),i(32137),i(54846),i(4525);var a=i(21863),s=i(65459),o=i(42496),n=i(57273),r=i(10725);const l=(e,t,i,a,s,o,n)=>{const r=[],l=[],d=[];return Object.values(i).forEach((i=>{i.labels.includes(t)&&u(e,s,a,i.area_id,o,n)&&d.push(i.area_id)})),Object.values(a).forEach((i=>{i.labels.includes(t)&&m(e,Object.values(s),i,o,n)&&l.push(i.id)})),Object.values(s).forEach((i=>{i.labels.includes(t)&&y(e.states[i.entity_id],o,n)&&r.push(i.entity_id)})),{areas:d,devices:l,entities:r}},d=(e,t,i,a,s)=>{const o=[];return Object.values(i).forEach((i=>{i.floor_id===t&&u(e,e.entities,e.devices,i.area_id,a,s)&&o.push(i.area_id)})),{areas:o}},c=(e,t,i,a,s,o)=>{const n=[],r=[];return Object.values(i).forEach((i=>{i.area_id===t&&m(e,Object.values(a),i,s,o)&&r.push(i.id)})),Object.values(a).forEach((i=>{i.area_id===t&&y(e.states[i.entity_id],s,o)&&n.push(i.entity_id)})),{devices:r,entities:n}},h=(e,t,i,a,s)=>{const o=[];return Object.values(i).forEach((i=>{i.device_id===t&&y(e.states[i.entity_id],a,s)&&o.push(i.entity_id)})),{entities:o}},u=(e,t,i,a,s,o)=>!!Object.values(i).some((i=>!(i.area_id!==a||!m(e,Object.values(t),i,s,o))))||Object.values(t).some((t=>!(t.area_id!==a||!y(e.states[t.entity_id],s,o)))),m=(e,t,i,s,o)=>{const n=o?(0,r.fk)(o,t):void 0;if(s.target?.device&&!(0,a.e)(s.target.device).some((e=>p(e,i,n))))return!1;if(s.target?.entity){return t.filter((e=>e.device_id===i.id)).some((t=>{const i=e.states[t.entity_id];return y(i,s,o)}))}return!0},y=(e,t,i)=>!t.target?.entity||(0,a.e)(t.target.entity).some((t=>f(t,e,i))),p=(e,t,i)=>{const{manufacturer:a,model:s,integration:o}=e;return(!a||t.manufacturer===a)&&((!s||t.model===s)&&!(o&&i&&!i?.[t.id]?.has(o)))},f=(e,t,i)=>{const{domain:n,device_class:r,supported_features:l,integration:d}=e;if(n){const e=(0,s.t)(t);if(Array.isArray(n)?!n.includes(e):e!==n)return!1}if(r){const e=t.attributes.device_class;if(e&&Array.isArray(r)?!r.includes(e):e!==r)return!1}return!(l&&!(0,a.e)(l).some((e=>(0,o.$)(t,e))))&&(!d||i?.[t.entity_id]?.domain===d)},v=e=>{if(!e.entity)return{entity:null};if("filter"in e.entity)return e;const{domain:t,integration:i,device_class:a,...s}=e.entity;return t||i||a?{entity:{...s,filter:{domain:t,integration:i,device_class:a}}}:{entity:s}},_=e=>{if(!e.device)return{device:null};if("filter"in e.device)return e;const{integration:t,manufacturer:i,model:a,...s}=e.device;return t||i||a?{device:{...s,filter:{integration:t,manufacturer:i,model:a}}}:{device:s}},g=e=>{let t;if("target"in e)t=(0,a.e)(e.target?.entity);else if("entity"in e){if(e.entity?.include_entities)return;t=(0,a.e)(e.entity?.filter)}if(!t)return;const i=t.flatMap((e=>e.integration||e.device_class||e.supported_features||!e.domain?[]:(0,a.e)(e.domain).filter((e=>(0,n.z)(e)))));return[...new Set(i)]}},2851:(e,t,i)=>{i.d(t,{PF:()=>d,CR:()=>o,pZ:()=>r,kL:()=>s,ls:()=>l,r9:()=>n});i(16891);var a=i(51853);const s=e=>e.callWS({type:"timer/list"}),o=(e,t)=>e.callWS({type:"timer/create",...t}),n=(e,t,i)=>e.callWS({type:"timer/update",timer_id:t,...i}),r=(e,t)=>e.callWS({type:"timer/delete",timer_id:t}),l=e=>{if(!e.attributes.remaining)return;let t=function(e){const t=e.split(":").map(Number);return 3600*t[0]+60*t[1]+t[2]}(e.attributes.remaining);if("active"===e.state){const i=(new Date).getTime(),a=new Date(e.attributes.finishes_at).getTime();t=Math.max((a-i)/1e3,0)}return t},d=(e,t,i)=>{if(!t)return null;if("idle"===t.state||0===i)return e.formatEntityState(t);let s=(0,a.A)(i||0)||"0";return"paused"===t.state&&(s=`${s} (${e.formatEntityState(t)})`),s}},41572:(e,t,i)=>{i.d(t,{g:()=>o});var a=i(34897);const s=()=>Promise.all([i.e(94131),i.e(14121),i.e(10963),i.e(40319),i.e(15313),i.e(89059),i.e(82054),i.e(55792),i.e(78162)]).then(i.bind(i,78162)),o=(e,t,i)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-data-entry-flow",dialogImport:s,dialogParams:{...t,flowConfig:i,dialogParentElement:e}})}},22619:(e,t,i)=>{i.d(t,{Q:()=>r});var a=i(15112),s=i(46092),o=i(70747),n=i(41572);const r=(e,t,i)=>(0,n.g)(e,{startFlowHandler:t.entry_id,domain:t.domain,...i},{flowType:"options_flow",loadDevicesAndAreas:!1,createFlow:async(e,i)=>{const[a]=await Promise.all([(0,o.HH)(e,i),e.loadFragmentTranslation("config"),e.loadBackendTranslation("options",t.domain),e.loadBackendTranslation("selector",t.domain)]);return a},fetchFlow:async(e,i)=>{const[a]=await Promise.all([(0,o.TY)(e,i),e.loadFragmentTranslation("config"),e.loadBackendTranslation("options",t.domain),e.loadBackendTranslation("selector",t.domain)]);return a},handleFlowStep:o.lu,deleteFlow:o.mu,renderAbortDescription(e,i){const s=e.localize(`component.${i.translation_domain||t.domain}.options.abort.${i.reason}`,i.description_placeholders);return s?a.qy` <ha-markdown breaks allowsvg .content="${s}"></ha-markdown> `:i.reason},renderShowFormStepHeader:(e,i)=>e.localize(`component.${i.translation_domain||t.domain}.options.step.${i.step_id}.title`,i.description_placeholders)||e.localize("ui.dialogs.options_flow.form.header"),renderShowFormStepDescription(e,i){const s=e.localize(`component.${i.translation_domain||t.domain}.options.step.${i.step_id}.description`,i.description_placeholders);return s?a.qy` <ha-markdown allowsvg breaks .content="${s}"></ha-markdown> `:""},renderShowFormStepFieldLabel(e,i,a,s){if("expandable"===a.type)return e.localize(`component.${t.domain}.options.step.${i.step_id}.sections.${a.name}.name`);const o=s?.path?.[0]?`sections.${s.path[0]}.`:"";return e.localize(`component.${t.domain}.options.step.${i.step_id}.${o}data.${a.name}`)||a.name},renderShowFormStepFieldHelper(e,i,s,o){if("expandable"===s.type)return e.localize(`component.${i.translation_domain||t.domain}.options.step.${i.step_id}.sections.${s.name}.description`);const n=o?.path?.[0]?`sections.${o.path[0]}.`:"",r=e.localize(`component.${i.translation_domain||t.domain}.options.step.${i.step_id}.${n}data_description.${s.name}`,i.description_placeholders);return r?a.qy`<ha-markdown breaks .content="${r}"></ha-markdown>`:""},renderShowFormStepFieldError:(e,i,a)=>e.localize(`component.${i.translation_domain||t.domain}.options.error.${a}`,i.description_placeholders)||a,renderShowFormStepFieldLocalizeValue:(e,i,a)=>e.localize(`component.${t.domain}.selector.${a}`),renderShowFormStepSubmitButton:(e,i)=>e.localize(`component.${t.domain}.options.step.${i.step_id}.submit`)||e.localize("ui.panel.config.integrations.config_flow."+(!1===i.last_step?"next":"submit")),renderExternalStepHeader:(e,t)=>"",renderExternalStepDescription:(e,t)=>"",renderCreateEntryDescription:(e,t)=>a.qy` <p>${e.localize("ui.dialogs.options_flow.success.description")}</p> `,renderShowFormProgressHeader:(e,i)=>e.localize(`component.${t.domain}.options.step.${i.step_id}.title`)||e.localize(`component.${t.domain}.title`),renderShowFormProgressDescription(e,i){const s=e.localize(`component.${i.translation_domain||t.domain}.options.progress.${i.progress_action}`,i.description_placeholders);return s?a.qy` <ha-markdown allowsvg breaks .content="${s}"></ha-markdown> `:""},renderMenuHeader:(e,i)=>e.localize(`component.${t.domain}.options.step.${i.step_id}.title`)||e.localize(`component.${t.domain}.title`),renderMenuDescription(e,i){const s=e.localize(`component.${i.translation_domain||t.domain}.options.step.${i.step_id}.description`,i.description_placeholders);return s?a.qy` <ha-markdown allowsvg breaks .content="${s}"></ha-markdown> `:""},renderMenuOption:(e,i,a)=>e.localize(`component.${i.translation_domain||t.domain}.options.step.${i.step_id}.menu_options.${a}`,i.description_placeholders),renderLoadingDescription:(e,i)=>e.localize(`component.${t.domain}.options.loading`)||("loading_flow"===i||"loading_step"===i?e.localize(`ui.dialogs.options_flow.loading.${i}`,{integration:(0,s.p$)(e.localize,t.domain)}):"")})},92594:(e,t,i)=>{i.d(t,{C:()=>o});var a=i(34897);const s=()=>i.e(60425).then(i.bind(i,60425)),o=(e,t)=>{(0,a.r)(e,"show-child-view",{viewTag:"ha-more-info-view-voice-assistants",viewImport:s,viewTitle:t,viewParams:{}})}},83147:(e,t,i)=>{i.d(t,{CT:()=>d,M1:()=>y,aK:()=>l,gs:()=>h,oF:()=>u,pC:()=>r,sw:()=>f,t0:()=>p});var a=i(33922),s=i(213),o=i(31605),n=i(78573);const r=["camera","configurator"],l=["scene","automation"],d=["script"],c=["alarm_control_panel","cover","climate","fan","humidifier","input_boolean","light","lock","siren","script","switch","valve","water_heater"],h=["alarm_control_panel","automation","camera","climate","configurator","counter","cover","date","datetime","fan","group","humidifier","image","input_boolean","input_datetime","lawn_mower","light","lock","media_player","person","remote","script","scene","siren","sun","switch","time","timer","update","vacuum","valve","water_heater","weather"],u=["input_number","input_select","input_text","number","scene","select","text","update","event"],m=["camera","configurator"],y=(e,t)=>(0,a.x)(e,"history")&&!m.includes((0,s.m)(t)),p=(e,t)=>{if(!(0,a.x)(e,"logbook"))return!1;const i=e.states[t];if(!i||i.attributes.unit_of_measurement)return!1;const o=(0,s.m)(t);return!n.cj.includes(o)&&!m.includes(o)},f=e=>{const t=(0,s.m)(e.entity_id);if("group"===t){const t=(0,o.z)(e);return null!=t&&"group"!==t&&c.includes(t)}return c.includes(t)}},16351:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(36312),s=i(15112),o=i(77706),n=i(30233),r=e([n]);n=(r.then?(await r)():r)[0];(0,a.A)([(0,o.EM)("more-info-default")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"stateObj",value:void 0},{kind:"method",key:"render",value:function(){return this.hass&&this.stateObj?s.qy`<ha-attributes .hass="${this.hass}" .stateObj="${this.stateObj}"></ha-attributes>`:s.s6}}]}}),s.WF);t()}catch(e){t(e)}}))},28581:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.r(t),i.d(t,{MoreInfoDialog:()=>V});var s=i(36312),o=i(68689),n=i(15112),r=i(77706),l=i(73965),d=i(85920),c=i(34897),h=i(79051),u=i(213),m=i(19244),y=i(63516),p=i(16312),f=(i(26790),i(3276),i(10900),i(28066),i(40462),i(13830),i(516),i(94929)),v=i(48750),_=i(67240),g=i(55321),b=i(64730),k=i(83147),w=i(16351),$=i(78071),x=i(84345),M=i(67984),C=i(67452),E=e([b,w,$,x,M,C]);[b,w,$,x,M,C]=E.then?(await E)():E;const A="M9 17H7V10H9V17M13 17H11V7H13V17M17 17H15V13H17V17M19 19H5V5H19V19.1M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3Z",I="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",L="M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M10,22C9.75,22 9.54,21.82 9.5,21.58L9.13,18.93C8.5,18.68 7.96,18.34 7.44,17.94L4.95,18.95C4.73,19.03 4.46,18.95 4.34,18.73L2.34,15.27C2.21,15.05 2.27,14.78 2.46,14.63L4.57,12.97L4.5,12L4.57,11L2.46,9.37C2.27,9.22 2.21,8.95 2.34,8.73L4.34,5.27C4.46,5.05 4.73,4.96 4.95,5.05L7.44,6.05C7.96,5.66 8.5,5.32 9.13,5.07L9.5,2.42C9.54,2.18 9.75,2 10,2H14C14.25,2 14.46,2.18 14.5,2.42L14.87,5.07C15.5,5.32 16.04,5.66 16.56,6.05L19.05,5.05C19.27,4.96 19.54,5.05 19.66,5.27L21.66,8.73C21.79,8.95 21.73,9.22 21.54,9.37L19.43,11L19.5,12L19.43,13L21.54,14.63C21.73,14.78 21.79,15.05 21.66,15.27L19.66,18.73C19.54,18.95 19.27,19.04 19.05,18.95L16.56,17.95C16.04,18.34 15.5,18.68 14.87,18.93L14.5,21.58C14.46,21.82 14.25,22 14,22H10M11.25,4L10.88,6.61C9.68,6.86 8.62,7.5 7.85,8.39L5.44,7.35L4.69,8.65L6.8,10.2C6.4,11.37 6.4,12.64 6.8,13.8L4.68,15.36L5.43,16.66L7.86,15.62C8.63,16.5 9.68,17.14 10.87,17.38L11.24,20H12.76L13.13,17.39C14.32,17.14 15.37,16.5 16.14,15.62L18.57,16.66L19.32,15.36L17.2,13.81C17.6,12.64 17.6,11.37 17.2,10.2L19.31,8.65L18.56,7.35L16.15,8.39C15.38,7.5 14.32,6.86 13.12,6.62L12.75,4H11.25Z",P="M3 6H21V4H3C1.9 4 1 4.9 1 6V18C1 19.1 1.9 20 3 20H7V18H3V6M13 12H9V13.78C8.39 14.33 8 15.11 8 16C8 16.89 8.39 17.67 9 18.22V20H13V18.22C13.61 17.67 14 16.88 14 16S13.61 14.33 13 13.78V12M11 17.5C10.17 17.5 9.5 16.83 9.5 16S10.17 14.5 11 14.5 12.5 15.17 12.5 16 11.83 17.5 11 17.5M22 8H16C15.5 8 15 8.5 15 9V19C15 19.5 15.5 20 16 20H22C22.5 20 23 19.5 23 19V9C23 8.5 22.5 8 22 8M21 18H17V10H21V18Z",S="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",z="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z",Z="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",H="M18.66,2C18.4,2 18.16,2.09 17.97,2.28L16.13,4.13L19.88,7.88L21.72,6.03C22.11,5.64 22.11,5 21.72,4.63L19.38,2.28C19.18,2.09 18.91,2 18.66,2M3.28,4L2,5.28L8.5,11.75L4,16.25V20H7.75L12.25,15.5L18.72,22L20,20.72L13.5,14.25L9.75,10.5L3.28,4M15.06,5.19L11.03,9.22L14.78,12.97L18.81,8.94L15.06,5.19Z",q="M14.06,9L15,9.94L5.92,19H5V18.08L14.06,9M17.66,3C17.41,3 17.15,3.1 16.96,3.29L15.13,5.12L18.88,8.87L20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18.17,3.09 17.92,3 17.66,3M14.06,6.19L3,17.25V21H6.75L17.81,9.94L14.06,6.19Z",O="info";let V=(0,s.A)([(0,r.EM)("ha-more-info-dialog")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean,reflect:!0})],key:"large",value:()=>!1},{kind:"field",decorators:[(0,r.wk)()],key:"_entityId",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_currView",value:()=>O},{kind:"field",decorators:[(0,r.wk)()],key:"_initialView",value:()=>O},{kind:"field",decorators:[(0,r.wk)()],key:"_childView",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_entry",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_infoEditMode",value:()=>!1},{kind:"field",decorators:[(0,r.P)("ha-more-info-info, ha-more-info-history-and-logbook")],key:"_history",value:void 0},{kind:"method",key:"showDialog",value:function(e){this._entityId=e.entityId,this._entityId?(this._currView=e.view||O,this._initialView=e.view||O,this._childView=void 0,this.large=!1,this._loadEntityRegistryEntry()):this.closeDialog()}},{kind:"method",key:"_loadEntityRegistryEntry",value:async function(){if(this._entityId)try{this._entry=await(0,f.v)(this.hass,this._entityId)}catch(e){this._entry=null}}},{kind:"method",key:"closeDialog",value:function(){this._entityId=void 0,this._entry=void 0,this._childView=void 0,this._infoEditMode=!1,this._initialView=O,(0,c.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"shouldShowEditIcon",value:function(e,t){return!!t&&(!(!k.aK.includes(e)||!t.attributes.id)||(!!k.CT.includes(e)||"person"===e&&"false"!==t.attributes.editable))}},{kind:"method",key:"shouldShowHistory",value:function(e){return k.gs.includes(e)&&((0,k.M1)(this.hass,this._entityId)||(0,k.t0)(this.hass,this._entityId))}},{kind:"method",key:"_getDeviceId",value:function(){const e=this.hass.entities[this._entityId];return e?.device_id??null}},{kind:"method",key:"setView",value:function(e){history.replaceState({...history.state,dialogParams:{...history.state?.dialogParams,view:e}},""),this._currView=e}},{kind:"method",key:"_goBack",value:function(){this._childView?this._childView=void 0:this.setView(this._initialView)}},{kind:"method",key:"_resetInitialView",value:function(){this._initialView=O,this.setView(O)}},{kind:"method",key:"_goToHistory",value:function(){this.setView("history")}},{kind:"method",key:"_goToSettings",value:function(){this.setView("settings")}},{kind:"method",key:"_showChildView",value:function(e){const t=e.detail;t.viewImport&&t.viewImport(),this._childView=t}},{kind:"method",key:"_goToDevice",value:function(e){if(!(0,y.s)(e))return;const t=this._getDeviceId();t&&((0,p.o)(`/config/devices/device/${t}`),this.closeDialog())}},{kind:"method",key:"_goToEdit",value:function(e){if(!(0,y.s)(e))return;const t=this.hass.states[this._entityId],i=(0,u.m)(this._entityId);let a=t.entity_id;if((k.aK.includes(i)||"person"===i)&&(a=t.attributes.id),k.CT.includes(i)){if(!this._entry)return;a=this._entry.unique_id}(0,p.o)(`/config/${i}/edit/${a}`),this.closeDialog()}},{kind:"method",key:"_toggleInfoEditMode",value:function(e){(0,y.s)(e)&&(this._infoEditMode=!this._infoEditMode)}},{kind:"method",key:"_handleToggleInfoEditModeEvent",value:function(e){this._infoEditMode=e.detail}},{kind:"method",key:"_goToRelated",value:function(e){(0,y.s)(e)&&this.setView("related")}},{kind:"method",key:"render",value:function(){if(!this._entityId)return n.s6;const e=this._entityId,t=this.hass.states[e],i=(0,u.m)(e),a=t&&(0,m.u)(t)||e,s=this.hass.user.is_admin,o=this._getDeviceId(),r=this._childView?.viewTitle??a,c=this._currView===O&&!this._childView,y=this._initialView!==O&&!this._childView,p=c||y;return n.qy` <ha-dialog open @closed="${this.closeDialog}" @opened="${this._handleOpened}" .heading="${r}" hideActions flexContent> <ha-dialog-header slot="heading"> ${p?n.qy` <ha-icon-button slot="navigationIcon" dialogAction="cancel" .label="${this.hass.localize("ui.dialogs.more_info_control.dismiss")}" .path="${I}"></ha-icon-button> `:n.qy` <ha-icon-button-prev slot="navigationIcon" @click="${this._goBack}" .label="${this.hass.localize("ui.dialogs.more_info_control.back_to_info")}"></ha-icon-button-prev> `} <span slot="title" .title="${r}" @click="${this._enlarge}"> ${r} </span> ${c?n.qy` ${this.shouldShowHistory(i)?n.qy` <ha-icon-button slot="actionItems" .label="${this.hass.localize("ui.dialogs.more_info_control.history")}" .path="${A}" @click="${this._goToHistory}"></ha-icon-button> `:n.s6} ${s?n.qy` <ha-icon-button slot="actionItems" .label="${this.hass.localize("ui.dialogs.more_info_control.settings")}" .path="${L}" @click="${this._goToSettings}"></ha-icon-button> <ha-button-menu corner="BOTTOM_END" menuCorner="END" slot="actionItems" @closed="${h.d}" fixed> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${S}"></ha-icon-button> ${o?n.qy` <ha-list-item graphic="icon" @request-selected="${this._goToDevice}"> ${this.hass.localize("ui.dialogs.more_info_control.device_info")} <ha-svg-icon slot="graphic" .path="${P}"></ha-svg-icon> </ha-list-item> `:n.s6} ${this.shouldShowEditIcon(i,t)?n.qy` <ha-list-item graphic="icon" @request-selected="${this._goToEdit}"> ${this.hass.localize("ui.dialogs.more_info_control.edit")} <ha-svg-icon slot="graphic" .path="${q}"></ha-svg-icon> </ha-list-item> `:n.s6} ${this._entry&&t&&"light"===i&&(0,v.n6)(t)?n.qy` <ha-list-item graphic="icon" @request-selected="${this._toggleInfoEditMode}"> ${this._infoEditMode?this.hass.localize("ui.dialogs.more_info_control.exit_edit_mode"):this.hass.localize(`ui.dialogs.more_info_control.${i}.edit_mode`)} <ha-svg-icon slot="graphic" .path="${this._infoEditMode?H:Z}"></ha-svg-icon> </ha-list-item> `:n.s6} <ha-list-item graphic="icon" @request-selected="${this._goToRelated}"> ${this.hass.localize("ui.dialogs.more_info_control.related")} <ha-svg-icon slot="graphic" .path="${z}"></ha-svg-icon> </ha-list-item> </ha-button-menu> `:n.s6} `:y?n.qy` <ha-button-menu corner="BOTTOM_END" menuCorner="END" slot="actionItems" @closed="${h.d}" fixed> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${S}"></ha-icon-button> <ha-list-item graphic="icon" @request-selected="${this._resetInitialView}"> ${this.hass.localize("ui.dialogs.more_info_control.info")} <ha-svg-icon slot="graphic" .path="${z}"></ha-svg-icon> </ha-list-item> </ha-button-menu> `:n.s6} </ha-dialog-header> <div class="content" tabindex="-1" dialogInitialFocus @show-child-view="${this._showChildView}" @entity-entry-updated="${this._entryUpdated}" @toggle-edit-mode="${this._handleToggleInfoEditModeEvent}"> ${(0,l.P)(this._childView?n.qy` <div class="child-view"> ${(0,d._)(this._childView.viewTag,{hass:this.hass,entry:this._entry,params:this._childView.viewParams})} </div> `:"info"===this._currView?n.qy` <ha-more-info-info dialogInitialFocus .hass="${this.hass}" .entityId="${this._entityId}" .entry="${this._entry}" .editMode="${this._infoEditMode}"></ha-more-info-info> `:"history"===this._currView?n.qy` <ha-more-info-history-and-logbook .hass="${this.hass}" .entityId="${this._entityId}"></ha-more-info-history-and-logbook> `:"settings"===this._currView?n.qy` <ha-more-info-settings .hass="${this.hass}" .entityId="${this._entityId}" .entry="${this._entry}"></ha-more-info-settings> `:"related"===this._currView?n.qy` <ha-related-items .hass="${this.hass}" .itemId="${e}" .itemType="${_.o.has(i)?i:"entity"}"></ha-related-items> `:n.s6)} </div> </ha-dialog> `}},{kind:"method",key:"firstUpdated",value:function(e){(0,o.A)(i,"firstUpdated",this,3)([e]),this.addEventListener("close-dialog",(()=>this.closeDialog()))}},{kind:"method",key:"updated",value:function(e){(0,o.A)(i,"updated",this,3)([e]),e.has("_currView")&&(this._childView=void 0,this._infoEditMode=!1)}},{kind:"method",key:"_entryUpdated",value:function(e){this._entry=e.detail}},{kind:"method",key:"_enlarge",value:function(){this.large=!this.large}},{kind:"method",key:"_handleOpened",value:function(){this._history?.resize({aspectRatio:2})}},{kind:"get",static:!0,key:"styles",value:function(){return[g.nA,n.AH`ha-dialog{--vertical-align-dialog:flex-start;--dialog-surface-margin-top:40px;--dialog-surface-position:static;--dialog-content-position:static;--dialog-content-padding:0;--chart-base-position:static}.content{display:flex;flex-direction:column;outline:0;flex:1}.child-view{display:flex;flex-direction:column;flex:1}ha-more-info-history-and-logbook{padding:8px 24px 24px 24px;display:block}@media all and (max-width:450px),all and (max-height:500px){ha-dialog{--dialog-surface-margin-top:0px}}@media all and (min-width:600px) and (min-height:501px){ha-dialog{--mdc-dialog-min-width:580px;--mdc-dialog-max-width:580px;--mdc-dialog-max-height:calc(100% - 72px)}.main-title{cursor:default}:host([large]) ha-dialog{--mdc-dialog-min-width:90vw;--mdc-dialog-max-width:90vw}}`]}}]}}),n.WF);a()}catch(e){a(e)}}))},78071:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(36312),s=i(15112),o=i(77706),n=i(83147),r=i(8533),l=i(5314),d=e([r,l]);[r,l]=d.then?(await d)():d;(0,a.A)([(0,o.EM)("ha-more-info-history-and-logbook")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"entityId",value:void 0},{kind:"field",decorators:[(0,o.P)("ha-more-info-history")],key:"_history",value:void 0},{kind:"method",key:"resize",value:function(e){this._history?.resize(e)}},{kind:"method",key:"render",value:function(){return s.qy` ${(0,n.M1)(this.hass,this.entityId)?s.qy` <ha-more-info-history .hass="${this.hass}" .entityId="${this.entityId}"></ha-more-info-history> `:""} ${(0,n.t0)(this.hass,this.entityId)?s.qy` <ha-more-info-logbook .hass="${this.hass}" .entityId="${this.entityId}"></ha-more-info-logbook> `:""} `}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`ha-more-info-history,ha-more-info-logbook{display:block}ha-more-info-history+ha-more-info-logbook{margin-top:16px}`}}]}}),s.WF);t()}catch(e){t(e)}}))},8533:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(36312),s=i(68689),o=(i(253),i(54846),i(8780)),n=i(22874),r=i(15112),l=i(77706),d=i(33922),c=i(34897),h=i(213),u=i(56932),m=i(4159),y=i(14511),p=i(11630),f=i(4826),v=i(96778),_=e([m,y,p]);[m,y,p]=_.then?(await _)():_;const g=["state","min","mean","max"];(0,a.A)([(0,l.EM)("ha-more-info-history")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,l.MZ)()],key:"entityId",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_stateHistory",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_statistics",value:void 0},{kind:"field",key:"_showMoreHref",value:()=>""},{kind:"field",key:"_statNames",value:void 0},{kind:"field",key:"_interval",value:void 0},{kind:"field",key:"_subscribed",value:void 0},{kind:"field",key:"_error",value:void 0},{kind:"field",key:"_metadata",value:void 0},{kind:"field",decorators:[(0,l.P)("statistics-chart, state-history-charts")],key:"_chart",value:void 0},{kind:"field",key:"resize",value(){return e=>{this._chart&&this._chart.resize(e)}}},{kind:"method",key:"render",value:function(){return this.entityId?r.qy`${(0,d.x)(this.hass,"history")?r.qy`<div class="header"> <div class="title"> ${this.hass.localize("ui.dialogs.more_info_control.history")} </div> ${r.qy`<a href="${this._showMoreHref}" @click="${this._close}">${this.hass.localize("ui.dialogs.more_info_control.show_more")}</a>`} </div> ${this._error?r.qy`<div class="errors">${this._error}</div>`:this._statistics?r.qy`<statistics-chart .hass="${this.hass}" .isLoadingData="${!this._statistics}" .statisticsData="${this._statistics}" .metadata="${this._metadata}" .statTypes="${g}" .names="${this._statNames}" hideLegend .showNames="${!1}" .clickForMoreInfo="${!1}"></statistics-chart>`:r.qy`<state-history-charts up-to-now .hass="${this.hass}" .historyData="${this._stateHistory}" .isLoadingData="${!this._stateHistory}" .showNames="${!1}" .clickForMoreInfo="${!1}"></state-history-charts>`}`:""}`:r.s6}},{kind:"method",key:"willUpdate",value:function(e){if((0,s.A)(i,"willUpdate",this,3)([e]),e.has("entityId")){if(this._stateHistory=void 0,this._statistics=void 0,!this.entityId)return;const e={entity_id:this.entityId,start_date:(0,o.K)().toISOString(),back:"1"};this._showMoreHref=`/history?${(0,u.KH)(e)}`,this._getStateHistory()}}},{kind:"method",key:"connectedCallback",value:function(){(0,s.A)(i,"connectedCallback",this,3)([]),this.hasUpdated&&this.entityId&&this._getStateHistory()}},{kind:"method",key:"disconnectedCallback",value:function(){(0,s.A)(i,"disconnectedCallback",this,3)([]),this._unsubscribeHistory()}},{kind:"method",key:"_unsubscribeHistory",value:function(){clearInterval(this._interval),this._subscribed&&(this._subscribed.then((e=>e?.())),this._subscribed=void 0)}},{kind:"method",key:"_redrawGraph",value:function(){this._stateHistory&&(this._stateHistory={...this._stateHistory})}},{kind:"method",key:"_setRedrawTimer",value:function(){clearInterval(this._interval),this._interval=window.setInterval((()=>this._redrawGraph()),6e4)}},{kind:"method",key:"_getStatisticsMetaData",value:async function(e){const t=await(0,f.Wr)(this.hass,e),i={};return t.forEach((e=>{i[e.statistic_id]=e})),i}},{kind:"method",key:"_getStateHistory",value:async function(){if((0,d.x)(this.hass,"recorder")&&"sensor"===(0,h.m)(this.entityId)){const e=this.hass.states[this.entityId];if(e&&e.attributes.state_class){const e=this._getStatisticsMetaData([this.entityId]),t=(0,f.sz)(this.hass,(0,n.O)(new Date,24),void 0,[this.entityId],"5minute",void 0,g),[i,a]=await Promise.all([e,t]);if(i&&Object.keys(i).length)return this._metadata=i,this._statistics=a,void(this._statNames={[this.entityId]:""})}}if(!(0,d.x)(this.hass,"history"))return;this._subscribed&&this._unsubscribeHistory();const{numeric_device_classes:e}=await(0,v.KL)(this.hass);this._subscribed=(0,p.IQ)(this.hass,(t=>{this._subscribed&&(this._stateHistory=(0,p.Mm)(this.hass,t,[this.entityId],this.hass.localize,e))}),24,[this.entityId]).catch((e=>{this._subscribed=void 0,this._error=e})),this._setRedrawTimer()}},{kind:"method",key:"_close",value:function(){setTimeout((()=>(0,c.r)(this,"close-dialog")),500)}},{kind:"field",static:!0,key:"styles",value:()=>r.AH`.header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:8px}.header>a,a:visited{color:var(--primary-color)}.title{font-family:var(--paper-font-title_-_font-family);-webkit-font-smoothing:var(--paper-font-title_-_-webkit-font-smoothing);font-size:var(--paper-font-subhead_-_font-size);font-weight:var(--paper-font-title_-_font-weight);letter-spacing:var(--paper-font-title_-_letter-spacing);line-height:var(--paper-font-title_-_line-height)}`}]}}),r.WF);t()}catch(e){t(e)}}))},84345:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(36312),s=i(15112),o=i(77706),n=i(213),r=i(83147),l=i(8533),d=i(5314),c=i(67452),h=e([l,d,c]);[l,d,c]=h.then?(await h)():h;(0,a.A)([(0,o.EM)("ha-more-info-info")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"entityId",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"entry",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"editMode",value:void 0},{kind:"field",decorators:[(0,o.P)("ha-more-info-history")],key:"_history",value:void 0},{kind:"method",key:"resize",value:function(e){this._history?.resize(e)}},{kind:"method",key:"render",value:function(){const e=this.entityId,t=this.hass.states[e],i=this.hass.entities[e],a=(0,n.m)(e),o=t&&(0,r.sw)(t);return s.qy` <div class="container" data-domain="${a}"> ${t?s.s6:s.qy`<ha-alert alert-type="warning"> ${this.entry?.disabled_by?this.hass.localize("ui.dialogs.entity_registry.editor.entity_disabled"):this.hass.localize("ui.dialogs.entity_registry.editor.unavailable")} </ha-alert>`} ${t?.attributes.restored&&i?s.qy`<ha-alert alert-type="warning"> ${this.hass.localize("ui.dialogs.more_info_control.restored.no_longer_provided",{integration:i.platform})} </ha-alert>`:s.s6} <div class="content"> ${r.pC.includes(a)||o?"":s.qy` <state-card-content inDialog .stateObj="${t}" .hass="${this.hass}"></state-card-content> `} ${r.gs.includes(a)||!(0,r.M1)(this.hass,e)?"":s.qy`<ha-more-info-history .hass="${this.hass}" .entityId="${this.entityId}"></ha-more-info-history>`} ${r.gs.includes(a)||!(0,r.t0)(this.hass,e)?"":s.qy`<ha-more-info-logbook .hass="${this.hass}" .entityId="${this.entityId}"></ha-more-info-logbook>`} <more-info-content ?full-height="${o}" .stateObj="${t}" .hass="${this.hass}" .entry="${this.entry}" .editMode="${this.editMode}"></more-info-content> </div> </div> `}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`:host{display:flex;flex-direction:column;flex:1}.container{display:flex;flex-direction:column;flex:1}.content{display:flex;flex-direction:column;flex:1;padding:24px;padding-bottom:max(env(safe-area-inset-bottom),24px)}[data-domain=camera] .content{padding:0;--video-max-height:calc(100vh - 65px - 72px)}more-info-content{position:relative;display:flex;flex-direction:column}more-info-content[full-height]{flex:1}ha-more-info-history,ha-more-info-logbook:not(:last-child),state-card-content{display:block;margin-bottom:16px}ha-alert{display:block}`}}]}}),s.WF);t()}catch(e){t(e)}}))},5314:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(36312),s=i(68689),o=i(8780),n=i(15112),r=i(77706),l=i(94100),d=i(33922),c=i(34897),h=i(56932),u=i(88316),m=e([u]);u=(m.then?(await m)():m)[0];(0,a.A)([(0,r.EM)("ha-more-info-logbook")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"entityId",value:void 0},{kind:"field",key:"_showMoreHref",value:()=>""},{kind:"field",key:"_time",value:()=>({recent:86400})},{kind:"field",key:"_entityIdAsList",value:()=>(0,l.A)((e=>[e]))},{kind:"method",key:"render",value:function(){if(!(0,d.x)(this.hass,"logbook")||!this.entityId)return n.s6;return this.hass.states[this.entityId]?n.qy` <div class="header"> <div class="title"> ${this.hass.localize("ui.dialogs.more_info_control.logbook")} </div> <a href="${this._showMoreHref}" @click="${this._close}">${this.hass.localize("ui.dialogs.more_info_control.show_more")}</a> </div> <ha-logbook .hass="${this.hass}" .time="${this._time}" .entityIds="${this._entityIdAsList(this.entityId)}" narrow no-icon no-name show-indicator relative-time></ha-logbook> `:n.s6}},{kind:"method",key:"willUpdate",value:function(e){if((0,s.A)(i,"willUpdate",this,3)([e]),e.has("entityId")&&this.entityId){const e={entity_id:this.entityId,start_date:(0,o.K)().toISOString(),back:"1"};this._showMoreHref=`/logbook?${(0,h.KH)(e)}`}}},{kind:"method",key:"_close",value:function(){setTimeout((()=>(0,c.r)(this,"close-dialog")),500)}},{kind:"get",static:!0,key:"styles",value:function(){return[n.AH`ha-logbook{--logbook-max-height:250px}@media all and (max-width:450px),all and (max-height:500px){ha-logbook{--logbook-max-height:unset}}.header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-bottom:8px}.header>a,a:visited{color:var(--primary-color)}.title{font-family:var(--paper-font-title_-_font-family);-webkit-font-smoothing:var(--paper-font-title_-_-webkit-font-smoothing);font-size:var(--paper-font-subhead_-_font-size);font-weight:var(--paper-font-title_-_font-weight);letter-spacing:var(--paper-font-title_-_letter-spacing);line-height:var(--paper-font-title_-_line-height)}`]}}]}}),n.WF);t()}catch(e){t(e)}}))},67984:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(36312),s=i(15112),o=i(77706),n=i(85920),r=(i(13292),i(81957)),l=i(2853),d=i(84976),c=e([l]);l=(c.then?(await c)():c)[0];(0,a.A)([(0,o.EM)("ha-more-info-settings")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"entityId",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"entry",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_settingsElementTag",value:void 0},{kind:"method",key:"render",value:function(){return void 0===this.entry?s.s6:null===this.entry?s.qy` <div class="content"> <ha-alert alert-type="warning"> ${this.hass.localize("ui.dialogs.entity_registry.no_unique_id",{entity_id:this.entityId,faq_link:s.qy`<a href="${(0,d.o)(this.hass,"/faq/unique_id")}" target="_blank" rel="noreferrer">${this.hass.localize("ui.dialogs.entity_registry.faq")}</a>`})} </ha-alert> </div> `:this._settingsElementTag?s.qy` ${(0,n._)(this._settingsElementTag,{hass:this.hass,entry:this.entry,entityId:this.entityId})} `:s.s6}},{kind:"method",key:"willUpdate",value:function(e){e.has("entry")&&this._loadPlatformSettingTabs()}},{kind:"method",key:"_loadPlatformSettingTabs",value:async function(){if(!this.entry)return;if(!Object.keys(r.C).includes(this.entry.platform))return void(this._settingsElementTag="entity-registry-settings");const e=r.C[this.entry.platform];await i(19398)(`./${e}`),this._settingsElementTag=e}},{kind:"get",static:!0,key:"styles",value:function(){return[s.AH`.content{padding:8px 24px 24px 24px}`]}}]}}),s.WF);t()}catch(e){t(e)}}))},67452:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(36312),s=i(15112),o=i(77706),n=i(5157),r=i(79266),l=i(85920),d=e([n]);n=(d.then?(await d)():d)[0];(0,a.A)([(0,o.EM)("more-info-content")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"stateObj",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"entry",value:void 0},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"editMode",value:void 0},{kind:"method",key:"render",value:function(){let e;if(!this.stateObj||!this.hass)return s.s6;if(this.stateObj.attributes&&"custom_ui_more_info"in this.stateObj.attributes)e=this.stateObj.attributes.custom_ui_more_info;else{const t=(0,r.bG)(this.stateObj);(0,n.importMoreInfoControl)(t),e="hidden"===t?void 0:`more-info-${t}`}return e?(0,l._)(e,{hass:this.hass,stateObj:this.stateObj,entry:this.entry,editMode:this.editMode}):s.s6}}]}}),s.WF);t()}catch(e){t(e)}}))},79266:(e,t,i)=>{i.d(t,{S5:()=>l,bG:()=>n,mE:()=>r});var a=i(65459),s=i(83147);const o={alarm_control_panel:()=>i.e(35196).then(i.bind(i,35196)),automation:()=>i.e(80427).then(i.bind(i,80427)),camera:()=>i.e(26399).then(i.bind(i,26399)),climate:()=>Promise.all([i.e(14691),i.e(52333)]).then(i.bind(i,52333)),configurator:()=>Promise.all([i.e(94131),i.e(72937)]).then(i.bind(i,72937)),counter:()=>i.e(98482).then(i.bind(i,98482)),cover:()=>Promise.all([i.e(38876),i.e(85497)]).then(i.bind(i,85497)),date:()=>Promise.all([i.e(94131),i.e(14691),i.e(3316),i.e(48360)]).then(i.bind(i,48360)),datetime:()=>Promise.all([i.e(94131),i.e(14691),i.e(59089),i.e(3316),i.e(64169)]).then(i.bind(i,64169)),fan:()=>Promise.all([i.e(38876),i.e(3603)]).then(i.bind(i,3603)),group:()=>Promise.all([i.e(94131),i.e(14691),i.e(64730),i.e(40846)]).then(i.bind(i,22613)),humidifier:()=>i.e(47400).then(i.bind(i,47400)),image:()=>i.e(763).then(i.bind(i,763)),input_boolean:()=>Promise.all([i.e(38876),i.e(47265)]).then(i.bind(i,47265)),input_datetime:()=>Promise.all([i.e(94131),i.e(14691),i.e(3316),i.e(92304)]).then(i.bind(i,92304)),lawn_mower:()=>i.e(64495).then(i.bind(i,64495)),light:()=>Promise.all([i.e(38876),i.e(39758)]).then(i.bind(i,39758)),lock:()=>Promise.all([i.e(38876),i.e(17011)]).then(i.bind(i,17011)),media_player:()=>Promise.all([i.e(14691),i.e(73288)]).then(i.bind(i,73288)),person:()=>Promise.all([i.e(82331),i.e(40042)]).then(i.bind(i,36710)),remote:()=>Promise.all([i.e(14691),i.e(7826)]).then(i.bind(i,7826)),script:()=>Promise.all([i.e(94131),i.e(40319),i.e(15313),i.e(22787),i.e(59292),i.e(96584)]).then(i.bind(i,35371)),siren:()=>Promise.all([i.e(38876),i.e(89055)]).then(i.bind(i,89055)),sun:()=>i.e(55776).then(i.bind(i,55776)),switch:()=>Promise.all([i.e(38876),i.e(17040)]).then(i.bind(i,17040)),time:()=>Promise.all([i.e(94131),i.e(14691),i.e(3316),i.e(71869)]).then(i.bind(i,71869)),timer:()=>i.e(69875).then(i.bind(i,69875)),update:()=>i.e(92683).then(i.bind(i,92683)),vacuum:()=>Promise.all([i.e(14691),i.e(94467)]).then(i.bind(i,94467)),valve:()=>Promise.all([i.e(38876),i.e(76704)]).then(i.bind(i,76704)),water_heater:()=>i.e(48065).then(i.bind(i,48065)),weather:()=>Promise.all([i.e(13618),i.e(49170)]).then(i.bind(i,49170))},n=e=>{const t=(0,a.t)(e);return r(t)},r=e=>s.gs.includes(e)?e:s.oF.includes(e)?"hidden":"default",l=e=>{e in o&&o[e]()}},20712:(e,t,i)=>{i.d(t,{E:()=>n});var a=i(36312),s=i(68689),o=i(77706);const n=e=>(0,a.A)(null,(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:void 0},{kind:"field",key:"__unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,s.A)(i,"connectedCallback",this,3)([]),this.__checkSubscribed()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,s.A)(i,"disconnectedCallback",this,3)([]),this.__unsubs){for(;this.__unsubs.length;){const e=this.__unsubs.pop();e instanceof Promise?e.then((e=>e())):e()}this.__unsubs=void 0}}},{kind:"method",key:"updated",value:function(e){if((0,s.A)(i,"updated",this,3)([e]),e.has("hass"))this.__checkSubscribed();else if(this.hassSubscribeRequiredHostProps)for(const t of e.keys())if(this.hassSubscribeRequiredHostProps.includes(t))return void this.__checkSubscribed()}},{kind:"method",key:"hassSubscribe",value:function(){return[]}},{kind:"method",key:"__checkSubscribed",value:function(){void 0===this.__unsubs&&this.isConnected&&void 0!==this.hass&&!this.hassSubscribeRequiredHostProps?.some((e=>void 0===this[e]))&&(this.__unsubs=this.hassSubscribe())}}]}}),e)},47293:(e,t,i)=>{i.d(t,{E:()=>s,J:()=>o});var a=i(34897);const s=()=>Promise.all([i.e(94131),i.e(14121),i.e(63893),i.e(10963),i.e(40319),i.e(15313),i.e(16882),i.e(71893),i.e(89059),i.e(70993),i.e(55792),i.e(30225),i.e(66680),i.e(84129)]).then(i.bind(i,38929)),o=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-area-registry-detail",dialogImport:s,dialogParams:t})}},46598:(e,t,i)=>{i.d(t,{F:()=>s,_:()=>o});var a=i(34897);const s=()=>Promise.all([i.e(40319),i.e(15313),i.e(55792),i.e(30225),i.e(62815)]).then(i.bind(i,78690)),o=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-device-registry-detail",dialogImport:s,dialogParams:t})}},81957:(e,t,i)=>{i.d(t,{C:()=>a});const a={input_number:"entity-settings-helper-tab",input_select:"entity-settings-helper-tab",input_text:"entity-settings-helper-tab",input_boolean:"entity-settings-helper-tab",input_datetime:"entity-settings-helper-tab",counter:"entity-settings-helper-tab",timer:"entity-settings-helper-tab",input_button:"entity-settings-helper-tab",schedule:"entity-settings-helper-tab"}},503:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(36312),s=i(68689),o=(i(89655),i(253),i(94438),i(16891),i(72606),i(49724),i(15112)),n=i(77706),r=i(10296),l=i(94100),d=i(33922),c=i(34897),h=i(79051),u=i(213),m=i(59780),y=i(42496),p=i(57636),f=i(2682),v=i(32920),_=(i(13292),i(25756),i(20144),i(63606),i(85288),i(13830),i(51513),i(77312),i(24640),i(70857),i(59588),i(30225),i(90431),i(47007)),g=i(31265),b=i(98041),k=i(10725),w=i(94929),$=i(68236),x=i(46092),M=i(42777),C=i(70747),E=i(96778),A=i(73682),I=i(22619),L=i(6121),P=i(92594),S=i(51243),z=i(55321),Z=i(18589),H=i(46598),q=e([p]);p=(q.then?(await q)():q)[0];const O="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",V={cover:[["awning","blind","curtain","damper","door","garage","gate","shade","shutter","window"]],binary_sensor:[["lock"],["window","door","garage_door","opening"],["battery","battery_charging"],["cold","gas","heat"],["running","motion","moving","occupancy","presence","vibration"],["power","plug","light"],["smoke","safety","sound","problem","tamper","carbon_monoxide","moisture"],["connectivity"],["update"]]},D=["cover","fan","light","lock","siren","valve"],F=["cover","lock","valve"],T=[0,1,2,3,4,5,6];(0,a.A)([(0,n.EM)("entity-registry-settings-editor")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Object})],key:"entry",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"hideName",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"hideIcon",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"helperConfigEntry",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_name",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_icon",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_entityId",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_deviceClass",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_switchAsDomain",value:()=>"switch"},{kind:"field",decorators:[(0,n.wk)()],key:"_switchAsInvert",value:()=>!1},{kind:"field",decorators:[(0,n.wk)()],key:"_areaId",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_labels",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_disabledBy",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_hiddenBy",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_device",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_unit_of_measurement",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_precision",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_precipitation_unit",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_pressure_unit",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_temperature_unit",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_visibility_unit",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_wind_speed_unit",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_cameraPrefs",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_numberDeviceClassConvertibleUnits",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_sensorDeviceClassConvertibleUnits",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_sensorNumericalDeviceClasses",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_weatherConvertibleUnits",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_defaultCode",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_noDeviceArea",value:void 0},{kind:"field",key:"_origEntityId",value:void 0},{kind:"field",key:"_deviceClassOptions",value:void 0},{kind:"method",key:"willUpdate",value:function(e){if((0,s.A)(i,"willUpdate",this,3)([e]),!e.has("entry")||e.get("entry")?.id===this.entry.id)return;this._name=this.entry.name||"",this._icon=this.entry.icon||"",this._deviceClass=this.entry.device_class||this.entry.original_device_class,this._origEntityId=this.entry.entity_id,this._areaId=this.entry.area_id,this._labels=this.entry.labels,this._entityId=this.entry.entity_id,this._disabledBy=this.entry.disabled_by,this._hiddenBy=this.entry.hidden_by,this._device=this.entry.device_id?this.hass.devices[this.entry.device_id]:void 0,this._switchAsInvert=!0===this.entry.options?.switch_as_x?.invert;const t=(0,u.m)(this.entry.entity_id);if("camera"===t&&(0,d.x)(this.hass,"stream")){const e=this.hass.states[this.entry.entity_id];e&&(0,y.$)(e,_.JT)&&e.attributes.frontend_stream_type===_.Ub&&this._fetchCameraPrefs()}if("number"===t||"sensor"===t){const e=this.hass.states[this.entry.entity_id];this._unit_of_measurement=e?.attributes?.unit_of_measurement}if("sensor"===t&&(this._precision=this.entry.options?.sensor?.display_precision),"lock"===t&&(this._defaultCode=this.entry.options?.lock?.default_code),"alarm_control_panel"===t&&(this._defaultCode=this.entry.options?.alarm_control_panel?.default_code),"weather"===t){const e=this.hass.states[this.entry.entity_id];this._precipitation_unit=e?.attributes?.precipitation_unit,this._pressure_unit=e?.attributes?.pressure_unit,this._temperature_unit=e?.attributes?.temperature_unit,this._visibility_unit=e?.attributes?.visibility_unit,this._wind_speed_unit=e?.attributes?.wind_speed_unit}const a=V[t];if(a){this._deviceClassOptions=[[],[]];for(const e of a)e.includes(this.entry.original_device_class)?this._deviceClassOptions[0]=e:this._deviceClassOptions[1].push(...e)}}},{kind:"method",key:"precisionLabel",value:function(e,t){const i=Number(t),a=isNaN(i)?0:t;return(0,p.ZV)(a,this.hass.locale,{minimumFractionDigits:e,maximumFractionDigits:e})}},{kind:"method",key:"_isInvalidDefaultCode",value:function(e,t){return!(!e||!t)&&!RegExp(e).test(t)}},{kind:"method",key:"updated",value:async function(e){if(e.has("_deviceClass")){const e=(0,u.m)(this.entry.entity_id);if("number"===e&&this._deviceClass){const{units:e}=await(0,M.Y)(this.hass,this._deviceClass);this._numberDeviceClassConvertibleUnits=e}else this._numberDeviceClassConvertibleUnits=[];if("sensor"===e){const{numeric_device_classes:e}=await(0,E.KL)(this.hass);this._sensorNumericalDeviceClasses=e}else this._sensorNumericalDeviceClasses=[];if("sensor"===e&&this._deviceClass){const{units:e}=await(0,E.j4)(this.hass,this._deviceClass);this._sensorDeviceClassConvertibleUnits=e}else this._sensorDeviceClassConvertibleUnits=[]}if(e.has("_entityId")){if("weather"===(0,u.m)(this.entry.entity_id)){const{units:e}=await(0,A.VB)(this.hass);this._weatherConvertibleUnits=e}else this._weatherConvertibleUnits=void 0}e.has("helperConfigEntry")&&("switch_as_x"===this.helperConfigEntry?.domain?this._switchAsDomain=(0,u.m)(this.entry.entity_id):(this._switchAsDomain="switch",this._switchAsInvert=!1))}},{kind:"method",key:"render",value:function(){if(this.entry.entity_id!==this._origEntityId)return o.s6;const e=this.hass.states[this.entry.entity_id],t=(0,u.m)(this.entry.entity_id),i="lock"===t&&this._isInvalidDefaultCode(e?.attributes?.code_format,this._defaultCode),a=this.entry.options?.sensor?.suggested_display_precision??void 0;return o.qy` ${this.hideName?o.s6:o.qy`<ha-textfield .value="${this._name}" .label="${this.hass.localize("ui.dialogs.entity_registry.editor.name")}" .disabled="${this.disabled}" .placeholder="${this.entry.original_name}" @input="${this._nameChanged}"></ha-textfield>`} ${this.hideIcon?o.s6:o.qy` <ha-icon-picker .hass="${this.hass}" .value="${this._icon}" @value-changed="${this._iconChanged}" .label="${this.hass.localize("ui.dialogs.entity_registry.editor.icon")}" .placeholder="${this.entry.original_icon||e?.attributes.icon||e&&(0,r.T)((0,$.fq)(this.hass,e))||(0,r.T)((0,$.u7)(this.hass,this.entry))}" .disabled="${this.disabled}"> ${this._icon||e?.attributes.icon||!e?o.s6:o.qy` <ha-state-icon slot="fallback" .hass="${this.hass}" .stateObj="${e}"></ha-state-icon> `} </ha-icon-picker> `} ${"switch"===t?o.qy`<ha-select .label="${this.hass.localize("ui.dialogs.entity_registry.editor.device_class")}" naturalMenuWidth fixedMenuPosition @selected="${this._switchAsDomainChanged}" @closed="${h.d}"> <ha-list-item value="switch" .selected="${!this._deviceClass||"switch"===this._deviceClass}"> ${(0,x.p$)(this.hass.localize,"switch")} </ha-list-item> <ha-list-item value="outlet" .selected="${"outlet"===this._deviceClass}"> ${this.hass.localize("ui.dialogs.entity_registry.editor.device_classes.switch.outlet")} </ha-list-item> <li divider role="separator"></li> ${this._switchAsDomainsSorted(D,this.hass.localize).map((e=>o.qy` <ha-list-item .value="${e.domain}"> ${e.label} </ha-list-item> `))} </ha-select>`:"switch_as_x"===this.helperConfigEntry?.domain?o.qy`<ha-select .label="${this.hass.localize("ui.dialogs.entity_registry.editor.switch_as_x")}" .value="${this._switchAsDomain}" naturalMenuWidth fixedMenuPosition @selected="${this._switchAsDomainChanged}" @closed="${h.d}"> <ha-list-item value="switch"> ${(0,x.p$)(this.hass.localize,"switch")} </ha-list-item> <ha-list-item .value="${t}"> ${(0,x.p$)(this.hass.localize,t)} </ha-list-item> <li divider role="separator"></li> ${this._switchAsDomainsSorted(D,this.hass.localize).map((e=>t===e.domain?o.s6:o.qy` <ha-list-item .value="${e.domain}"> ${e.label} </ha-list-item> `))} </ha-select> ${F.includes(this._switchAsDomain)?o.qy` <ha-settings-row> <span slot="heading">${this.hass.localize("ui.dialogs.entity_registry.editor.invert.label")}</span> <span slot="description">${this.hass.localize(`ui.dialogs.entity_registry.editor.invert.descriptions.${this._switchAsDomain}`)}</span> <ha-switch .checked="${this.entry.options?.switch_as_x?.invert}" @change="${this._switchAsInvertChanged}"></ha-switch> </ha-settings-row> `:o.s6} `:o.s6} ${this._deviceClassOptions?o.qy` <ha-select .label="${this.hass.localize("ui.dialogs.entity_registry.editor.device_class")}" .value="${this._deviceClass}" naturalMenuWidth fixedMenuPosition clearable @selected="${this._deviceClassChanged}" @closed="${h.d}"> ${this._deviceClassesSorted(t,this._deviceClassOptions[0],this.hass.localize).map((e=>o.qy` <ha-list-item .value="${e.deviceClass}"> ${e.label} </ha-list-item> `))} ${this._deviceClassOptions[0].length&&this._deviceClassOptions[1].length?o.qy`<li divider role="separator"></li>`:""} ${this._deviceClassesSorted(t,this._deviceClassOptions[1],this.hass.localize).map((e=>o.qy` <ha-list-item .value="${e.deviceClass}"> ${e.label} </ha-list-item> `))} </ha-select> `:""} ${"number"===t&&this._deviceClass&&e?.attributes.unit_of_measurement&&this._numberDeviceClassConvertibleUnits?.includes(e?.attributes.unit_of_measurement)?o.qy` <ha-select .label="${this.hass.localize("ui.dialogs.entity_registry.editor.unit_of_measurement")}" .value="${e.attributes.unit_of_measurement}" naturalMenuWidth fixedMenuPosition @selected="${this._unitChanged}" @closed="${h.d}"> ${this._numberDeviceClassConvertibleUnits.map((e=>o.qy` <ha-list-item .value="${e}">${e}</ha-list-item> `))} </ha-select> `:""} ${"lock"===t?o.qy` <ha-textfield .validationMessage="${this.hass.localize("ui.dialogs.entity_registry.editor.default_code_error")}" .value="${null==this._defaultCode?"":this._defaultCode}" .label="${this.hass.localize("ui.dialogs.entity_registry.editor.default_code")}" type="password" .invalid="${i}" .disabled="${this.disabled}" @input="${this._defaultcodeChanged}"></ha-textfield> `:""} ${"alarm_control_panel"===t?o.qy` <ha-textfield .value="${null==this._defaultCode?"":this._defaultCode}" .label="${this.hass.localize("ui.dialogs.entity_registry.editor.default_code")}" type="password" .disabled="${this.disabled}" @input="${this._defaultcodeChanged}"></ha-textfield> `:""} ${"sensor"===t&&this._deviceClass&&e?.attributes.unit_of_measurement&&this._sensorDeviceClassConvertibleUnits?.includes(e?.attributes.unit_of_measurement)?o.qy` <ha-select .label="${this.hass.localize("ui.dialogs.entity_registry.editor.unit_of_measurement")}" .value="${e.attributes.unit_of_measurement}" naturalMenuWidth fixedMenuPosition @selected="${this._unitChanged}" @closed="${h.d}"> ${this._sensorDeviceClassConvertibleUnits.map((e=>o.qy` <ha-list-item .value="${e}">${e}</ha-list-item> `))} </ha-select> `:""} ${"sensor"===t&&(this._deviceClass&&this._sensorNumericalDeviceClasses?.includes(this._deviceClass)||e?.attributes.unit_of_measurement||e?.attributes.state_class)?o.qy` <ha-select .label="${this.hass.localize("ui.dialogs.entity_registry.editor.precision")}" .value="${null==this._precision?"default":this._precision.toString()}" naturalMenuWidth fixedMenuPosition @selected="${this._precisionChanged}" @closed="${h.d}"> <ha-list-item value="default">${this.hass.localize("ui.dialogs.entity_registry.editor.precision_default",{value:this.precisionLabel(a,e?.state)})}</ha-list-item> ${T.map((t=>o.qy` <ha-list-item .value="${t.toString()}"> ${this.precisionLabel(t,e?.state)} </ha-list-item> `))} </ha-select> `:""} ${"weather"===t?o.qy` <ha-select .label="${this.hass.localize("ui.dialogs.entity_registry.editor.precipitation_unit")}" .value="${this._precipitation_unit}" naturalMenuWidth fixedMenuPosition @selected="${this._precipitationUnitChanged}" @closed="${h.d}"> ${this._weatherConvertibleUnits?.precipitation_unit.map((e=>o.qy` <ha-list-item .value="${e}">${e}</ha-list-item> `))} </ha-select> <ha-select .label="${this.hass.localize("ui.dialogs.entity_registry.editor.pressure_unit")}" .value="${this._pressure_unit}" naturalMenuWidth fixedMenuPosition @selected="${this._pressureUnitChanged}" @closed="${h.d}"> ${this._weatherConvertibleUnits?.pressure_unit.map((e=>o.qy` <ha-list-item .value="${e}">${e}</ha-list-item> `))} </ha-select> <ha-select .label="${this.hass.localize("ui.dialogs.entity_registry.editor.temperature_unit")}" .value="${this._temperature_unit}" naturalMenuWidth fixedMenuPosition @selected="${this._temperatureUnitChanged}" @closed="${h.d}"> ${this._weatherConvertibleUnits?.temperature_unit.map((e=>o.qy` <ha-list-item .value="${e}">${e}</ha-list-item> `))} </ha-select> <ha-select .label="${this.hass.localize("ui.dialogs.entity_registry.editor.visibility_unit")}" .value="${this._visibility_unit}" naturalMenuWidth fixedMenuPosition @selected="${this._visibilityUnitChanged}" @closed="${h.d}"> ${this._weatherConvertibleUnits?.visibility_unit.map((e=>o.qy` <ha-list-item .value="${e}">${e}</ha-list-item> `))} </ha-select> <ha-select .label="${this.hass.localize("ui.dialogs.entity_registry.editor.wind_speed_unit")}" .value="${this._wind_speed_unit}" naturalMenuWidth fixedMenuPosition @selected="${this._windSpeedUnitChanged}" @closed="${h.d}"> ${this._weatherConvertibleUnits?.wind_speed_unit.map((e=>o.qy` <ha-list-item .value="${e}">${e}</ha-list-item> `))} </ha-select> `:""} <ha-textfield class="entityId" .value="${(0,m.Y)(this._entityId)}" .prefix="${t+"."}" .label="${this.hass.localize("ui.dialogs.entity_registry.editor.entity_id")}" .disabled="${this.disabled}" required @input="${this._entityIdChanged}" iconTrailing autocapitalize="none" autocomplete="off" autocorrect="off" input-spellcheck="false"> <ha-icon-button @click="${this._copyEntityId}" slot="trailingIcon" .path="${O}"></ha-icon-button> </ha-textfield> ${this.entry.device_id?"":o.qy`<ha-area-picker .hass="${this.hass}" .value="${this._areaId}" .disabled="${this.disabled}" @value-changed="${this._areaPicked}"></ha-area-picker>`} <ha-labels-picker .hass="${this.hass}" .value="${this._labels}" .disabled="${this.disabled}" @value-changed="${this._labelsChanged}"></ha-labels-picker> ${this._cameraPrefs?o.qy` <ha-settings-row> <span slot="heading">${this.hass.localize("ui.dialogs.entity_registry.editor.stream.preload_stream")}</span> <span slot="description">${this.hass.localize("ui.dialogs.entity_registry.editor.stream.preload_stream_description")}</span> <ha-switch .checked="${this._cameraPrefs.preload_stream}" .disabled="${this.disabled}" @change="${this._handleCameraPrefsChanged}"> </ha-switch> </ha-settings-row> <ha-settings-row> <span slot="heading">${this.hass.localize("ui.dialogs.entity_registry.editor.stream.stream_orientation")}</span> <span slot="description">${this.hass.localize("ui.dialogs.entity_registry.editor.stream.stream_orientation_description")}</span> <ha-select .label="${this.hass.localize("ui.dialogs.entity_registry.editor.stream.stream_orientation")}" naturalMenuWidth fixedMenuPosition .disabled="${this.disabled}" @selected="${this._handleCameraOrientationChanged}" @closed="${h.d}"> ${_.sd.map((e=>{const t="ui.dialogs.entity_registry.editor.stream.stream_orientation_"+e.toString();return o.qy` <ha-list-item value="${e}"> ${this.hass.localize(t)} </ha-list-item> `}))} </ha-select> </ha-settings-row> `:""} ${this.helperConfigEntry&&this.helperConfigEntry.supports_options&&"switch_as_x"!==this.helperConfigEntry.domain?o.qy` <ha-list-item class="menu-item" twoline hasMeta .disabled="${this.disabled}" @click="${this._showOptionsFlow}"> <span>${this.hass.localize("ui.dialogs.entity_registry.editor.configure_state",{integration:(0,x.p$)(this.hass.localize,this.helperConfigEntry.domain)})}</span> <span slot="secondary">${this.hass.localize("ui.dialogs.entity_registry.editor.configure_state_secondary",{integration:(0,x.p$)(this.hass.localize,this.helperConfigEntry.domain)})}</span> <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> `:""} <ha-list-item class="menu-item" twoline hasMeta .disabled="${this.disabled}" @click="${this._handleVoiceAssistantsClicked}"> <span>${this.hass.localize("ui.dialogs.entity_registry.editor.voice_assistants")}</span> <span slot="secondary"> ${this.entry.aliases.length?[...this.entry.aliases].sort(((e,t)=>(0,f.x)(e,t,this.hass.locale.language))).join(", "):this.hass.localize("ui.dialogs.entity_registry.editor.no_aliases")} </span> <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> ${this._disabledBy&&"user"!==this._disabledBy&&"integration"!==this._disabledBy?o.qy`<ha-alert alert-type="warning">${this.hass.localize("ui.dialogs.entity_registry.editor.enabled_cause",{cause:this.hass.localize(`config_entry.disabled_by.${this._disabledBy}`)})}</ha-alert>`:""} <ha-settings-row> <span slot="heading">${this.hass.localize("ui.dialogs.entity_registry.editor.enabled_label")}</span> <span slot="description">${this.hass.localize("ui.dialogs.entity_registry.editor.enabled_description")}</span> <ha-switch .checked="${!this._disabledBy}" .disabled="${this.disabled||this._device?.disabled_by||this._disabledBy&&"user"!==this._disabledBy&&"integration"!==this._disabledBy}" @change="${this._enabledChanged}"></ha-switch> </ha-settings-row> ${this._hiddenBy&&"user"!==this._hiddenBy?o.qy`<ha-alert alert-type="warning">${this.hass.localize("ui.dialogs.entity_registry.editor.hidden_cause",{cause:this.hass.localize(`config_entry.hidden_by.${this._hiddenBy}`)})}</ha-alert>`:""} <ha-settings-row> <span slot="heading">${this.hass.localize("ui.dialogs.entity_registry.editor.visible_label")}</span> <span slot="description">${this.hass.localize("ui.dialogs.entity_registry.editor.hidden_explanation")}</span> <ha-switch .checked="${!this._disabledBy&&!this._hiddenBy}" .disabled="${this.disabled||this._disabledBy}" @change="${this._hiddenChanged}"></ha-switch> </ha-settings-row> ${this.entry.device_id?o.qy`<ha-settings-row> <span slot="heading">${this.hass.localize("ui.dialogs.entity_registry.editor.use_device_area")} ${this.hass.devices[this.entry.device_id].area_id?`(${this.hass.areas[this.hass.devices[this.entry.device_id].area_id]?.name})`:""}</span> <span slot="description">${this.hass.localize("ui.dialogs.entity_registry.editor.change_device_settings",{link:o.qy`<button class="link" @click="${this._openDeviceSettings}"> ${this.hass.localize("ui.dialogs.entity_registry.editor.change_device_area_link")} </button>`})}</span> <ha-switch .checked="${!this._areaId||this._noDeviceArea}" .disabled="${this.disabled}" @change="${this._useDeviceAreaChanged}"> </ha-switch></ha-settings-row> ${this._areaId||this._noDeviceArea?o.qy`<ha-area-picker .hass="${this.hass}" .value="${this._areaId}" .placeholder="${this._device?.area_id}" .disabled="${this.disabled}" @value-changed="${this._areaPicked}"></ha-area-picker>`:""} `:""} `}},{kind:"method",key:"updateEntry",value:async function(){let e=!0,t=this;for(;"home-assistant"!==t?.localName;)t=t.getRootNode().host;const i={name:this._name.trim()||null,icon:this._icon.trim()||null,area_id:this._areaId||null,labels:this._labels||[],new_entity_id:this._entityId.trim()};this._deviceClass!==(this.entry.device_class||this.entry.original_device_class)&&(i.device_class=this._deviceClass);const a=this.hass.states[this.entry.entity_id],s=(0,u.m)(this.entry.entity_id);this.entry.disabled_by===this._disabledBy||null!==this._disabledBy&&"user"!==this._disabledBy||(i.disabled_by=this._disabledBy),this.entry.hidden_by===this._hiddenBy||null!==this._hiddenBy&&"user"!==this._hiddenBy||(i.hidden_by=this._hiddenBy),"number"!==s&&"sensor"!==s||a?.attributes?.unit_of_measurement===this._unit_of_measurement||(i.options_domain=s,i.options=this.entry.options?.[s]||{},i.options.unit_of_measurement=this._unit_of_measurement),"sensor"===s&&this.entry.options?.[s]?.display_precision!==this._precision&&(i.options_domain=s,i.options=i.options||this.entry.options?.[s]||{},i.options.display_precision=this._precision),"lock"===s&&this.entry.options?.[s]?.default_code!==this._defaultCode&&(i.options_domain=s,i.options=this.entry.options?.[s]||{},i.options.default_code=this._defaultCode),"alarm_control_panel"===s&&this.entry.options?.[s]?.default_code!==this._defaultCode&&(i.options_domain=s,i.options=this.entry.options?.[s]||{},i.options.default_code=this._defaultCode),"weather"!==s||a?.attributes?.precipitation_unit===this._precipitation_unit&&a?.attributes?.pressure_unit===this._pressure_unit&&a?.attributes?.temperature_unit===this._temperature_unit&&a?.attributes?.visbility_unit===this._visibility_unit&&a?.attributes?.wind_speed_unit===this._wind_speed_unit||(i.options_domain="weather",i.options={precipitation_unit:this._precipitation_unit,pressure_unit:this._pressure_unit,temperature_unit:this._temperature_unit,visibility_unit:this._visibility_unit,wind_speed_unit:this._wind_speed_unit});const o=await(0,w.G_)(this.hass,this.entry.entity_id,i);if(o.require_restart&&(0,L.showAlertDialog)(this,{text:this.hass.localize("ui.dialogs.entity_registry.editor.enabled_restart_confirm")}),o.reload_delay&&(0,L.showAlertDialog)(this,{text:this.hass.localize("ui.dialogs.entity_registry.editor.enabled_delay_confirm",{delay:o.reload_delay})}),"switch"===s&&"switch"!==this._switchAsDomain){if(await(0,L.showConfirmationDialog)(this,{text:this.hass.localize("ui.dialogs.entity_registry.editor.switch_as_x_confirm",{domain:(0,x.p$)(this.hass.localize,this._switchAsDomain).toLowerCase()})})){const i=await(0,b.t1)(this.hass,"switch_as_x"),a=await(0,b.jm)(this.hass,i.flow_id,{entity_id:this._entityId.trim(),invert:this._switchAsInvert,target_domain:this._switchAsDomain});if(a.result?.entry_id)try{const i=await this._waitForEntityRegistryUpdate(a.result.entry_id);(0,S.p)(t,{entityId:i.entity_id}),e=!1}catch(e){}}}else if("switch_as_x"===this.helperConfigEntry?.domain&&this._switchAsDomain!==s){if(await(0,L.showConfirmationDialog)(this,{text:"switch"===this._switchAsDomain?this.hass.localize("ui.dialogs.entity_registry.editor.switch_as_x_remove_confirm",{domain:(0,x.p$)(this.hass.localize,s).toLowerCase()}):this.hass.localize("ui.dialogs.entity_registry.editor.switch_as_x_change_confirm",{domain_1:(0,x.p$)(this.hass.localize,s).toLowerCase(),domain_2:(0,x.p$)(this.hass.localize,this._switchAsDomain).toLowerCase()})})){const i=this.entry.options?.switch_as_x?.entity_id;if(await(0,g.eM)(this.hass,this.helperConfigEntry.entry_id),i)if("switch"===this._switchAsDomain)(0,S.p)(t,{entityId:i}),e=!1;else{const a=await(0,b.t1)(this.hass,"switch_as_x"),s=await(0,b.jm)(this.hass,a.flow_id,{entity_id:i,invert:this._switchAsInvert,target_domain:this._switchAsDomain});if(s.result?.entry_id)try{const i=await this._waitForEntityRegistryUpdate(s.result.entry_id);(0,S.p)(t,{entityId:i.entity_id}),e=!1}catch(e){}}else;}}else if("switch_as_x"===this.helperConfigEntry?.domain&&this._switchAsDomain===s&&this._switchAsInvert!==this.entry.options?.switch_as_x?.invert){const e=this.entry.options?.switch_as_x?.entity_id;if(e){const e=await(0,C.HH)(this.hass,this.helperConfigEntry.entry_id);await(0,C.lu)(this.hass,e.flow_id,{invert:this._switchAsInvert})}else;}return{close:e,entry:o.entity_entry}}},{kind:"method",key:"_waitForEntityRegistryUpdate",value:async function(e){return new Promise(((t,i)=>{const a=setTimeout(i,5e3),s=(0,w.Bz)(this.hass.connection,(i=>{const o=i.find((t=>t.config_entry_id===e));o&&(clearTimeout(a),s(),t(o))}));this.hass.connection._entityRegistry?.refresh()}))}},{kind:"method",key:"_nameChanged",value:function(e){(0,c.r)(this,"change"),this._name=e.target.value}},{kind:"method",key:"_iconChanged",value:function(e){(0,c.r)(this,"change"),this._icon=e.detail.value}},{kind:"method",key:"_copyEntityId",value:async function(){await(0,v.l)(this._entityId),(0,Z.P)(this,{message:this.hass.localize("ui.common.copied_clipboard")})}},{kind:"method",key:"_entityIdChanged",value:function(e){(0,c.r)(this,"change"),this._entityId=`${(0,u.m)(this._origEntityId)}.${e.target.value}`}},{kind:"method",key:"_deviceClassChanged",value:function(e){(0,c.r)(this,"change"),this._deviceClass=e.target.value}},{kind:"method",key:"_unitChanged",value:function(e){(0,c.r)(this,"change"),this._unit_of_measurement=e.target.value}},{kind:"method",key:"_defaultcodeChanged",value:function(e){(0,c.r)(this,"change"),this._defaultCode=""===e.target.value?null:e.target.value}},{kind:"method",key:"_precipitationUnitChanged",value:function(e){(0,c.r)(this,"change"),this._precipitation_unit=e.target.value}},{kind:"method",key:"_precisionChanged",value:function(e){(0,c.r)(this,"change"),this._precision="default"===e.target.value?null:Number(e.target.value)}},{kind:"method",key:"_pressureUnitChanged",value:function(e){(0,c.r)(this,"change"),this._pressure_unit=e.target.value}},{kind:"method",key:"_temperatureUnitChanged",value:function(e){(0,c.r)(this,"change"),this._temperature_unit=e.target.value}},{kind:"method",key:"_visibilityUnitChanged",value:function(e){(0,c.r)(this,"change"),this._visibility_unit=e.target.value}},{kind:"method",key:"_windSpeedUnitChanged",value:function(e){(0,c.r)(this,"change"),this._wind_speed_unit=e.target.value}},{kind:"method",key:"_switchAsDomainChanged",value:function(e){if(""===e.target.value)return;const t="outlet"===e.target.value?"switch":e.target.value;this._switchAsDomain=t,("switch"===(0,u.m)(this.entry.entity_id)&&"outlet"===e.target.value||"switch"===e.target.value)&&(this._deviceClass=e.target.value)}},{kind:"method",key:"_switchAsInvertChanged",value:function(e){this._switchAsInvert=e.target.checked}},{kind:"method",key:"_useDeviceAreaChanged",value:function(e){this._noDeviceArea=!e.target.checked,this._noDeviceArea||(this._areaId=void 0)}},{kind:"method",key:"_areaPicked",value:function(e){(0,c.r)(this,"change"),this._areaId=e.detail.value}},{kind:"method",key:"_labelsChanged",value:function(e){this._labels=e.detail.value}},{kind:"method",key:"_fetchCameraPrefs",value:async function(){this._cameraPrefs=await(0,_.y3)(this.hass,this.entry.entity_id)}},{kind:"method",key:"_handleCameraPrefsChanged",value:async function(e){const t=e.currentTarget;try{this._cameraPrefs=await(0,_.FX)(this.hass,this.entry.entity_id,{preload_stream:t.checked})}catch(e){(0,L.showAlertDialog)(this,{text:e.message}),t.checked=!t.checked}}},{kind:"method",key:"_handleCameraOrientationChanged",value:async function(e){try{this._cameraPrefs=await(0,_.FX)(this.hass,this.entry.entity_id,{orientation:e.currentTarget.value})}catch(e){(0,L.showAlertDialog)(this,{text:e.message})}}},{kind:"method",key:"_enabledChanged",value:function(e){e.target.checked?this._disabledBy=null:this._disabledBy="user"}},{kind:"method",key:"_hiddenChanged",value:function(e){e.target.checked?this._hiddenBy=null:this._hiddenBy="user"}},{kind:"method",key:"_openDeviceSettings",value:function(){(0,H._)(this,{device:this._device,updateEntry:async e=>{await(0,k.FB)(this.hass,this._device.id,e)}})}},{kind:"method",key:"_handleVoiceAssistantsClicked",value:function(){(0,P.C)(this,this.hass.localize("ui.dialogs.entity_registry.editor.voice_assistants"))}},{kind:"method",key:"_showOptionsFlow",value:async function(){(0,I.Q)(this,this.helperConfigEntry,{manifest:await(0,x.QC)(this.hass,this.helperConfigEntry.domain)})}},{kind:"field",key:"_switchAsDomainsSorted",value(){return(0,l.A)(((e,t)=>e.map((e=>({domain:e,label:(0,x.p$)(t,e)}))).sort(((e,t)=>(0,f.x)(e.label,t.label,this.hass.locale.language)))))}},{kind:"field",key:"_deviceClassesSorted",value(){return(0,l.A)(((e,t,i)=>t.map((t=>({deviceClass:t,label:i(`ui.dialogs.entity_registry.editor.device_classes.${e}.${t}`)}))).sort(((e,t)=>(0,f.x)(e.label,t.label,this.hass.locale.language)))))}},{kind:"get",static:!0,key:"styles",value:function(){return[z.RF,o.AH`:host{display:block}ha-textfield.entityId{--text-field-prefix-padding-right:0;--textfield-icon-trailing-padding:0}ha-textfield.entityId>ha-icon-button{position:relative;right:-8px;--mdc-icon-button-size:36px;--mdc-icon-size:20px;color:var(--secondary-text-color);inset-inline-start:initial;inset-inline-end:-8px;direction:var(--direction)}ha-switch{margin-right:16px;margin-inline-end:16px;margin-inline-start:initial}ha-settings-row ha-switch{margin-right:0;margin-inline-end:0;margin-inline-start:initial}ha-area-picker,ha-icon-picker,ha-select,ha-textfield{display:block;margin:8px 0;width:100%}li[divider]{border-bottom-color:var(--divider-color)}ha-alert mwc-button{width:max-content}.menu-item{border-radius:4px;margin-top:3px;margin-bottom:3px;overflow:hidden;--mdc-list-side-padding:13px}`]}}]}}),o.WF);t()}catch(e){t(e)}}))},2853:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(36312),s=i(68689),o=(i(72606),i(49724),i(67056),i(15112)),n=i(77706),r=i(34897),l=(i(13292),i(31265)),d=i(10725),c=i(94929),h=i(46092),u=i(6121),m=i(20712),y=i(55321),p=i(46598),f=i(503),v=e([f]);f=(v.then?(await v)():v)[0];const _=!1;(0,a.A)([(0,n.EM)("entity-registry-settings")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)({type:Object})],key:"entry",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_helperConfigEntry",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_submitting",value:void 0},{kind:"field",decorators:[(0,n.P)("entity-registry-settings-editor")],key:"_registryEditor",value:void 0},{kind:"method",key:"willUpdate",value:function(e){(0,s.A)(i,"willUpdate",this,3)([e]),e.has("entry")&&this._fetchHelperConfigEntry()}},{kind:"method",key:"_fetchHelperConfigEntry",value:async function(){if(this._helperConfigEntry=void 0,this.entry?.config_entry_id)try{const e=(await(0,l.Vx)(this.hass,this.entry.config_entry_id)).config_entry;"helper"===(await(0,h.QC)(this.hass,e.domain)).integration_type&&(this._helperConfigEntry=e)}catch(e){}}},{kind:"method",key:"render",value:function(){const e=this.hass.states[this.entry.entity_id],t=this.entry.device_id?this.hass.devices[this.entry.device_id]:void 0;return o.qy` ${e?"":o.qy` <ha-alert alert-type="warning"> ${t?.disabled_by?o.qy`${this.hass.localize("ui.dialogs.entity_registry.editor.device_disabled")}<mwc-button @click="${this._openDeviceSettings}" slot="action"> ${this.hass.localize("ui.dialogs.entity_registry.editor.open_device_settings")} </mwc-button>`:this.entry.disabled_by?o.qy`${this.hass.localize("ui.dialogs.entity_registry.editor.entity_disabled")}${["user","integration"].includes(this.entry.disabled_by)?o.qy`<mwc-button slot="action" @click="${this._enableEntry}"> ${this.hass.localize("ui.dialogs.entity_registry.editor.enable_entity")}</mwc-button>`:""}`:this.hass.localize("ui.dialogs.entity_registry.editor.unavailable")} </ha-alert> `} ${this._error?o.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:""} <div class="form container"> <entity-registry-settings-editor .hass="${this.hass}" .entry="${this.entry}" .helperConfigEntry="${this._helperConfigEntry}" .disabled="${this._submitting}" @change="${this._entityRegistryChanged}"></entity-registry-settings-editor> </div> <div class="buttons"> <mwc-button class="warning" @click="${this._confirmDeleteEntry}" .disabled="${this._submitting||!this._helperConfigEntry&&!e?.attributes.restored}"> ${this.hass.localize("ui.dialogs.entity_registry.editor.delete")} </mwc-button> <mwc-button @click="${this._updateEntry}" .disabled="${_||this._submitting}"> ${this.hass.localize("ui.dialogs.entity_registry.editor.update")} </mwc-button> </div> `}},{kind:"method",key:"_entityRegistryChanged",value:function(){this._error=void 0}},{kind:"method",key:"_openDeviceSettings",value:function(){const e=this.hass.devices[this.entry.device_id];(0,p._)(this,{device:e,updateEntry:async t=>{await(0,d.FB)(this.hass,e.id,t)}})}},{kind:"method",key:"_enableEntry",value:async function(){this._error=void 0,this._submitting=!0;try{const e=await(0,c.G_)(this.hass,this.entry.entity_id,{disabled_by:null});(0,r.r)(this,"entity-entry-updated",e.entity_entry),e.require_restart&&(0,u.showAlertDialog)(this,{text:this.hass.localize("ui.dialogs.entity_registry.editor.enabled_restart_confirm")}),e.reload_delay&&(0,u.showAlertDialog)(this,{text:this.hass.localize("ui.dialogs.entity_registry.editor.enabled_delay_confirm",{delay:e.reload_delay})})}catch(e){this._error=e.message}finally{this._submitting=!1}}},{kind:"method",key:"_updateEntry",value:async function(){this._submitting=!0;try{(await this._registryEditor.updateEntry()).close&&(0,r.r)(this,"close-dialog")}catch(e){this._error=e.message||"Unknown error"}finally{this._submitting=!1}}},{kind:"method",key:"_confirmDeleteEntry",value:async function(){if(await(0,u.showConfirmationDialog)(this,{text:this.hass.localize("ui.dialogs.entity_registry.editor.confirm_delete"),confirmText:this.hass.localize("ui.common.delete"),dismissText:this.hass.localize("ui.common.cancel"),destructive:!0})){this._submitting=!0;try{this._helperConfigEntry?await(0,l.eM)(this.hass,this._helperConfigEntry.entry_id):await(0,c.bg)(this.hass,this.entry.entity_id),(0,r.r)(this,"close-dialog")}finally{this._submitting=!1}}}},{kind:"get",static:!0,key:"styles",value:function(){return[y.RF,o.AH`:host{display:block}.container{padding:8px 24px 20px 24px}.buttons{box-sizing:border-box;display:flex;padding:8px 16px 8px 24px;justify-content:space-between;padding-bottom:max(env(safe-area-inset-bottom),8px);background-color:var(--mdc-theme-surface,#fff);border-top:1px solid var(--divider-color);position:sticky;bottom:0px}ha-alert mwc-button{width:max-content}`]}}]}}),(0,m.E)(o.WF));t()}catch(e){t(e)}}))},57273:(e,t,i)=>{i.d(t,{L:()=>s,z:()=>o});var a=i(99890);const s=["input_boolean","input_button","input_text","input_number","input_datetime","input_select","counter","timer","schedule"],o=(0,a.g)(s)},58331:(e,t,i)=>{i.d(t,{f:()=>o});var a=i(34897);const s=()=>Promise.all([i.e(63893),i.e(10963),i.e(40319),i.e(15313),i.e(23766),i.e(14691),i.e(29654),i.e(24500),i.e(89059),i.e(25018),i.e(75269)]).then(i.bind(i,75269)),o=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-label-detail",dialogImport:s,dialogParams:t})}},8492:(e,t,i)=>{i.d(t,{P8:()=>w,PV:()=>k,rU:()=>b,x2:()=>$});var a=i(36312),s=i(15112),o=i(77706),n=i(85323),r=i(63073),l=i(94100),d=i(86188),c=i(3254),h=i(213),u=i(65459),m=i(46875),y=i(95239),p=(i(83941),i(23562),i(70857),i(88400),i(47007)),f=i(25319),v=i(18102),_=i(63582),g=i(562);const b=["minimal","standard","complete"],k={type:"entity",show_name:!1,show_state:!0,show_icon:!0},w=e=>{const t={...e};return e.display_type&&(void 0===e.show_name&&"complete"===e.display_type&&(t.show_name=!0),void 0===e.show_state&&"minimal"===e.display_type&&(t.show_state=!1),delete t.display_type),t};let $=(0,a.A)([(0,o.EM)("hui-entity-badge")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"method",static:!0,key:"getConfigElement",value:async function(){return await Promise.all([i.e(16204),i.e(54083),i.e(54581),i.e(75495),i.e(50346)]).then(i.bind(i,75330)),document.createElement("hui-entity-badge-editor")}},{kind:"method",static:!0,key:"getStubConfig",value:function(e,t,i){return{type:"entity",entity:(0,v.B)(e,1,t,i,["sensor","light","switch"])[0]||""}}},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){this._config={...k,...w(e)}}},{kind:"get",key:"hasAction",value:function(){return!this._config?.tap_action||(0,g.h)(this._config?.tap_action)||(0,g.h)(this._config?.hold_action)||(0,g.h)(this._config?.double_tap_action)}},{kind:"field",key:"_computeStateColor",value:()=>(0,l.A)(((e,t)=>{if(t)return(0,m.a)(e)?(0,d.M)(t):void 0;if("light"===(0,h.m)(e.entity_id)&&e.attributes.rgb_color){const t=(0,c.bi)(e.attributes.rgb_color);return t[1]<.4&&(t[1]<.1?t[2]=225:t[1]=.4),(0,c.v2)((0,c.hT)(t))}return(0,y.Se)(e)}))},{kind:"method",key:"_getImageUrl",value:function(e){const t=e.attributes.entity_picture_local||e.attributes.entity_picture;if(!t)return;let i=this.hass.hassUrl(t);return"camera"===(0,u.t)(e)&&(i=(0,p.su)(i,32,32)),i}},{kind:"method",key:"render",value:function(){if(!this._config||!this.hass)return s.s6;const e=this._config.entity,t=e?this.hass.states[e]:void 0;if(!t)return s.qy` <ha-badge .label="${e}" class="error"> <ha-svg-icon slot="icon" .hass="${this.hass}" .path="${"M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}"></ha-svg-icon> ${this.hass.localize("ui.badge.entity.not_found")} </ha-badge> `;const i=(0,m.a)(t),a={"--badge-color":this._computeStateColor(t,this._config.color)},o=s.qy` <state-display .stateObj="${t}" .hass="${this.hass}" .content="${this._config.state_content}" .name="${this._config.name}"> </state-display> `,l=this._config.name||t.attributes.friendly_name,d=this._config.show_state,c=this._config.show_name,h=this._config.show_icon,u=this._config.show_entity_picture?this._getImageUrl(t):void 0,y=d&&c?l:void 0,p=d?o:c?l:void 0;return s.qy` <ha-badge .type="${this.hasAction?"button":"badge"}" @action="${this._handleAction}" .actionHandler="${(0,f.T)({hasHold:(0,g.h)(this._config.hold_action),hasDoubleClick:(0,g.h)(this._config.double_tap_action)})}" .label="${y}" .iconOnly="${!p}" style="${(0,r.W)(a)}" class="${(0,n.H)({active:i})}"> ${h?u?s.qy`<img slot="icon" src="${u}" aria-hidden>`:s.qy` <ha-state-icon slot="icon" .hass="${this.hass}" .stateObj="${t}" .icon="${this._config.icon}"></ha-state-icon> `:s.s6} ${p} </ha-badge> `}},{kind:"method",key:"_handleAction",value:function(e){(0,_.$)(this,this.hass,this._config,e.detail.action)}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`ha-badge{--badge-color:var(--state-inactive-color)}ha-badge.error{--badge-color:var(--red-color)}ha-badge.active{--badge-color:var(--primary-color)}`}}]}}),s.WF)},99280:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{M:()=>n});i(253),i(54846);var s=i(8325),o=e([s]);function n(e){const t=(0,s.d)(e);return"HUI-CONDITIONAL-ELEMENT"!==t.tagName&&t.classList.add("element"),e.style&&Object.keys(e.style).forEach((i=>{t.style.setProperty(i,e.style[i])})),t}s=(o.then?(await o)():o)[0],a()}catch(r){a(r)}}))},86696:(e,t,i)=>{i.d(t,{d:()=>o});var a=i(19244);function s(e,t,i,a){if(!i||!i.action||"none"===i.action)return"";let s=a?e.localize("ui.panel.lovelace.cards.picture-elements.hold"):e.localize("ui.panel.lovelace.cards.picture-elements.tap");switch(i.action){case"navigate":s+=` ${e.localize("ui.panel.lovelace.cards.picture-elements.navigate_to",{location:i.navigation_path})}`;break;case"url":s+=` ${e.localize("ui.panel.lovelace.cards.picture-elements.url",{url_path:i.url_path})}`;break;case"toggle":s+=` ${e.localize("ui.panel.lovelace.cards.picture-elements.toggle",{name:t})}`;break;case"call-service":s+=`${e.localize("ui.panel.lovelace.cards.picture-elements.perform_action",{name:i.service})}`;break;case"more-info":s+=`${e.localize("ui.panel.lovelace.cards.picture-elements.more_info",{name:t})}`}return s}const o=(e,t)=>{if(null===t.title)return"";if(t.title)return t.title;let i="",o="";if(t.entity&&(i=t.entity in e.states?(0,a.u)(e.states[t.entity]):t.entity),!t.tap_action&&!t.hold_action)return i;const n=t.tap_action?s(e,i,t.tap_action,!1):"",r=t.hold_action?s(e,i,t.hold_action,!0):"";return o=n+(n&&r?"\n":"")+r,o}},16204:(e,t,i)=>{var a=i(36312),s=i(68689),o=(i(253),i(2075),i(15112)),n=i(77706),r=i(85323),l=i(63073),d=i(94872),c=i(213),h=i(77226),u=(i(65619),i(37629),i(47007)),m=i(9883),y=i(9755);var p=function(e){return e[e.Loading=1]="Loading",e[e.Loaded=2]="Loaded",e[e.Error=3]="Error",e}(p||{});(0,a.A)([(0,n.EM)("hui-image")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"entity",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"image",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"stateImage",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"cameraImage",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"cameraView",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"aspectRatio",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"filter",value:void 0},{kind:"field",decorators:[(0,n.MZ)({attribute:!1})],key:"stateFilter",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"darkModeImage",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"darkModeFilter",value:void 0},{kind:"field",decorators:[(0,n.MZ)()],key:"fitMode",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_imageVisible",value:()=>!1},{kind:"field",decorators:[(0,n.wk)()],key:"_loadState",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_cameraImageSrc",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_loadedImageSrc",value:void 0},{kind:"field",decorators:[(0,n.wk)()],key:"_lastImageHeight",value:void 0},{kind:"field",key:"_intersectionObserver",value:void 0},{kind:"field",key:"_cameraUpdater",value:void 0},{kind:"field",key:"_ratio",value:()=>null},{kind:"method",key:"connectedCallback",value:function(){(0,s.A)(i,"connectedCallback",this,3)([]),void 0===this._loadState&&(this._loadState=p.Loading),this.cameraImage&&"live"!==this.cameraView&&this._startIntersectionObserverOrUpdates()}},{kind:"method",key:"disconnectedCallback",value:function(){(0,s.A)(i,"disconnectedCallback",this,3)([]),this._stopUpdateCameraInterval(),this._stopIntersectionObserver(),this._imageVisible=void 0}},{kind:"method",key:"handleIntersectionCallback",value:function(e){this._imageVisible=e[0].isIntersecting}},{kind:"method",key:"willUpdate",value:function(e){if(e.has("hass")){const t=e.get("hass");this._shouldStartCameraUpdates(t)?this._startIntersectionObserverOrUpdates():this.hass.connected||(this._stopUpdateCameraInterval(),this._stopIntersectionObserver(),this._loadState=p.Loading,this._cameraImageSrc=void 0,this._loadedImageSrc=void 0)}e.has("_imageVisible")&&(this._imageVisible?this._shouldStartCameraUpdates()&&this._startUpdateCameraInterval():this._stopUpdateCameraInterval()),e.has("aspectRatio")&&(this._ratio=this.aspectRatio?(0,h.A)(this.aspectRatio):null),this._loadState!==p.Loading||this.cameraImage||(this._loadState=p.Loaded)}},{kind:"method",key:"render",value:function(){if(!this.hass)return o.s6;const e=Boolean(this._ratio&&this._ratio.w>0&&this._ratio.h>0),t=this.entity?this.hass.states[this.entity]:void 0,i=t?t.state:m.Hh;let a,s,n=!this.stateImage;if(this.cameraImage)"live"===this.cameraView?s=this.hass.states[this.cameraImage]:a=this._cameraImageSrc;else if(this.stateImage){const e=this.stateImage[i];e?a=e:(a=this.image,n=!0)}else a=this.darkModeImage&&this.hass.themes.darkMode?this.darkModeImage:t&&"image"===(0,c.m)(t.entity_id)?(0,y.e)(t):this.image;a&&(a=this.hass.hassUrl(a));let h=this.filter||"";if(this.hass.themes.darkMode&&this.darkModeFilter&&(h+=this.darkModeFilter),this.stateFilter&&this.stateFilter[i]&&(h+=this.stateFilter[i]),!h&&this.entity){h=(!t||d.jj.includes(i))&&n?"grayscale(100%)":""}return o.qy` <div style="${(0,l.W)({paddingBottom:e?`${(100*this._ratio.h/this._ratio.w).toFixed(2)}%`:void 0===this._lastImageHeight?"56.25%":void 0,backgroundImage:e&&this._loadedImageSrc?`url("${this._loadedImageSrc}")`:void 0,filter:this._loadState===p.Loaded||"live"===this.cameraView?h:void 0})}" class="container ${(0,r.H)({ratio:e||void 0===this._lastImageHeight,contain:"contain"===this.fitMode,fill:"fill"===this.fitMode})}"> ${this.cameraImage&&"live"===this.cameraView?o.qy` <ha-camera-stream muted .hass="${this.hass}" .stateObj="${s}" @load="${this._onVideoLoad}"></ha-camera-stream> `:void 0===a?o.s6:o.qy` <img id="image" src="${a}" @error="${this._onImageError}" @load="${this._onImageLoad}" style="${(0,l.W)({display:e||this._loadState===p.Loaded?"block":"none"})}"> `} ${this._loadState===p.Error?o.qy`<div id="brokenImage" style="${(0,l.W)({height:e?void 0:`${this._lastImageHeight}px`||"100%"})}"></div>`:"live"===this.cameraView||void 0!==a&&this._loadState!==p.Loading?"":o.qy`<div class="progress-container" style="${(0,l.W)({height:e?void 0:`${this._lastImageHeight}px`||"100%"})}"> <ha-circular-progress class="render-spinner" indeterminate size="small"></ha-circular-progress> </div>`} </div> `}},{kind:"method",key:"_shouldStartCameraUpdates",value:function(e){return!(e&&e.connected===this.hass.connected||!this.hass.connected||"live"===this.cameraView)}},{kind:"method",key:"_startIntersectionObserverOrUpdates",value:function(){"IntersectionObserver"in window?(this._intersectionObserver||(this._intersectionObserver=new IntersectionObserver(this.handleIntersectionCallback.bind(this))),this._intersectionObserver.observe(this)):(this._imageVisible=!0,this._startUpdateCameraInterval())}},{kind:"method",key:"_stopIntersectionObserver",value:function(){this._intersectionObserver&&this._intersectionObserver.disconnect()}},{kind:"method",key:"_startUpdateCameraInterval",value:function(){this._stopUpdateCameraInterval(),this._updateCameraImageSrc(),this.cameraImage&&this.isConnected&&(this._cameraUpdater=window.setInterval((()=>this._updateCameraImageSrcAtInterval()),1e4))}},{kind:"method",key:"_stopUpdateCameraInterval",value:function(){this._cameraUpdater&&(clearInterval(this._cameraUpdater),this._cameraUpdater=void 0)}},{kind:"method",key:"_onImageError",value:function(){this._loadState=p.Error}},{kind:"method",key:"_onImageLoad",value:async function(e){this._loadState=p.Loaded;const t=e.target;this._ratio&&this._ratio.w>0&&this._ratio.h>0&&(this._loadedImageSrc=t.src),await this.updateComplete,this._lastImageHeight=t.offsetHeight}},{kind:"method",key:"_onVideoLoad",value:async function(e){this._loadState=p.Loaded;const t=e.currentTarget;await this.updateComplete,this._lastImageHeight=t.offsetHeight}},{kind:"method",key:"_updateCameraImageSrcAtInterval",value:async function(){return this._loadState===p.Loading&&this._onImageError(),this._updateCameraImageSrc()}},{kind:"method",key:"_updateCameraImageSrc",value:async function(){if(!this.hass||!this.cameraImage)return;if(!this.hass.states[this.cameraImage])return void this._onImageError();const e=this.clientWidth||640;let t,i=Math.ceil(e*devicePixelRatio);this._lastImageHeight?t=Math.ceil(this._lastImageHeight*devicePixelRatio):this._ratio&&this._ratio.w>0&&this._ratio.h>0?t=Math.ceil(i*(this._ratio.h/this._ratio.w)):(i*=2,t=Math.ceil(.5625*i)),this._cameraImageSrc=await(0,u.C4)(this.hass,this.cameraImage,i,t),void 0===this._cameraImageSrc&&this._onImageError()}},{kind:"get",static:!0,key:"styles",value:function(){return o.AH`:host{display:block}.container{transition:filter .2s linear;height:100%}img{display:block;height:100%;width:100%;object-fit:cover}.progress-container{display:flex;justify-content:center;align-items:center}.ratio{position:relative;width:100%;height:0;background-position:center;background-size:cover}.ratio.fill{background-size:100% 100%}.ratio.contain{background-size:contain;background-repeat:no-repeat}.fill img{object-fit:fill}.contain img{object-fit:contain}.ratio div,.ratio img{position:absolute;top:0;left:0;width:100%;height:100%}.ratio img{visibility:hidden}#brokenImage{background:grey url("/static/images/image-broken.svg") center/36px no-repeat}`}}]}}),o.WF)},34308:(e,t,i)=>{i.d(t,{YH:()=>r,hZ:()=>n,ww:()=>l});i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435),i(8492);var a=i(17678);const s=new Set(["error","entity"]),o={"entity-filter":()=>i.e(56151).then(i.bind(i,56151)),"state-label":()=>i.e(75185).then(i.bind(i,97566))},n=e=>(0,a.Vd)("badge",e,s,o,void 0,"entity"),r=e=>(0,a.Ue)("badge",e,s,o,void 0,"entity"),l=e=>(0,a.gh)(e,"badge",s,o)},54075:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{MJ:()=>v,dY:()=>g,te:()=>_});i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435);var s=i(9754),o=i(29138),n=(i(23554),i(57327),i(59335)),r=i(59127),l=(i(81881),i(42469)),d=i(72408),c=i(6709),h=i(20711),u=i(56907),m=i(17678),y=e([s,o,n,r,l,d,c,h,u]);[s,o,n,r,l,d,c,h,u]=y.then?(await y)():y;const p=new Set(["entity","entities","button","entity-button","glance","grid","section","light","sensor","thermostat","weather-forecast","tile","heading"]),f={"alarm-panel":()=>Promise.all([i.e(94131),i.e(34971)]).then(i.bind(i,34971)),area:()=>Promise.all([i.e(16204),i.e(66076)]).then(i.bind(i,76448)),calendar:()=>Promise.all([i.e(71580),i.e(29842),i.e(91174),i.e(42027)]).then(i.bind(i,92921)),conditional:()=>i.e(31557).then(i.bind(i,31557)),"empty-state":()=>i.e(54090).then(i.bind(i,54090)),"energy-compare":()=>Promise.all([i.e(59089),i.e(35193),i.e(47076),i.e(54778)]).then(i.bind(i,18862)),"energy-carbon-consumed-gauge":()=>Promise.all([i.e(59089),i.e(35193),i.e(77126),i.e(47076),i.e(39483)]).then(i.bind(i,39483)),"energy-date-selection":()=>Promise.all([i.e(94131),i.e(59089),i.e(35193),i.e(79924),i.e(47076),i.e(9043),i.e(80217)]).then(i.bind(i,42208)),"energy-devices-graph":()=>Promise.all([i.e(59089),i.e(35193),i.e(20288),i.e(47076),i.e(58455)]).then(i.bind(i,15177)),"energy-devices-detail-graph":()=>Promise.all([i.e(59089),i.e(35193),i.e(47076),i.e(71653)]).then(i.bind(i,1799)),"energy-distribution":()=>Promise.all([i.e(59089),i.e(35193),i.e(47076),i.e(11761)]).then(i.bind(i,71895)),"energy-gas-graph":()=>Promise.all([i.e(59089),i.e(35193),i.e(60209),i.e(47076),i.e(80915)]).then(i.bind(i,80915)),"energy-water-graph":()=>Promise.all([i.e(59089),i.e(35193),i.e(60209),i.e(47076),i.e(59173)]).then(i.bind(i,59173)),"energy-grid-neutrality-gauge":()=>Promise.all([i.e(59089),i.e(35193),i.e(77126),i.e(47076),i.e(28855)]).then(i.bind(i,28855)),"energy-solar-consumed-gauge":()=>Promise.all([i.e(59089),i.e(35193),i.e(77126),i.e(47076),i.e(42681)]).then(i.bind(i,42681)),"energy-self-sufficiency-gauge":()=>Promise.all([i.e(59089),i.e(35193),i.e(77126),i.e(47076),i.e(38406)]).then(i.bind(i,16025)),"energy-solar-graph":()=>Promise.all([i.e(59089),i.e(35193),i.e(60209),i.e(47076),i.e(62835)]).then(i.bind(i,62835)),"energy-sources-table":()=>Promise.all([i.e(59089),i.e(35193),i.e(40080),i.e(47076),i.e(4294)]).then(i.bind(i,4294)),"energy-usage-graph":()=>Promise.all([i.e(59089),i.e(35193),i.e(60209),i.e(47076),i.e(72069)]).then(i.bind(i,72069)),"entity-filter":()=>i.e(90337).then(i.bind(i,90337)),error:()=>i.e(31023).then(i.bind(i,31023)),gauge:()=>i.e(57540).then(i.bind(i,57540)),"history-graph":()=>Promise.all([i.e(20288),i.e(81140),i.e(41164)]).then(i.bind(i,60654)),"horizontal-stack":()=>i.e(81312).then(i.bind(i,81312)),humidifier:()=>i.e(13815).then(i.bind(i,13815)),iframe:()=>i.e(91311).then(i.bind(i,91311)),logbook:()=>Promise.all([i.e(88316),i.e(24455)]).then(i.bind(i,55832)),map:()=>Promise.all([i.e(82331),i.e(97960)]).then(i.bind(i,29399)),markdown:()=>i.e(91416).then(i.bind(i,91416)),"media-control":()=>Promise.all([i.e(9403),i.e(58245)]).then(i.bind(i,58245)),"picture-elements":()=>Promise.all([i.e(16204),i.e(54083),i.e(35212),i.e(92575)]).then(i.bind(i,75259)),"picture-entity":()=>Promise.all([i.e(16204),i.e(42869)]).then(i.bind(i,52177)),"picture-glance":()=>Promise.all([i.e(16204),i.e(30048)]).then(i.bind(i,21628)),picture:()=>i.e(95423).then(i.bind(i,95423)),"plant-status":()=>i.e(83881).then(i.bind(i,83881)),"recovery-mode":()=>Promise.all([i.e(14691),i.e(55858),i.e(2598)]).then(i.bind(i,2598)),"todo-list":()=>Promise.all([i.e(94131),i.e(14691),i.e(48292)]).then(i.bind(i,48292)),"shopping-list":()=>Promise.all([i.e(94131),i.e(14691),i.e(48292),i.e(48908)]).then(i.bind(i,48908)),starting:()=>i.e(46831).then(i.bind(i,46831)),"statistics-graph":()=>i.e(44297).then(i.bind(i,44297)),statistic:()=>i.e(47083).then(i.bind(i,47083)),"vertical-stack":()=>i.e(77970).then(i.bind(i,77970))},v=e=>(0,m.Vd)("card",e,p,f,void 0,void 0),_=e=>(0,m.Ue)("card",e,p,f,void 0,void 0),g=e=>(0,m.gh)(e,"card",p,f);a()}catch(e){a(e)}}))},5157:(e,t,i)=>{i.a(e,(async(e,a)=>{try{if(i.r(t),i.d(t,{createBadgeElement:()=>r.YH,createCardElement:()=>l.te,createHeaderFooterElement:()=>d.x,createHuiElement:()=>c.d,createRowElement:()=>h.T,importMoreInfoControl:()=>n.S5,showAlertDialog:()=>o.showAlertDialog,showConfirmationDialog:()=>o.showConfirmationDialog,showEnterCodeDialog:()=>s.H,showPromptDialog:()=>o.showPromptDialog}),33524==i.j)var s=i(53473);var o=i(6121),n=i(79266),r=i(34308),l=i(54075),d=i(32064),c=i(8325),h=i(31271),u=e([l,c,h]);[l,c,h]=u.then?(await u)():u,a()}catch(e){a(e)}}))},65253:(e,t,i)=>{i.a(e,(async(e,t)=>{try{i(89655),i(253),i(54846);var a=i(99280),s=i(32689),o=e([a]);a=(o.then?(await o)():o)[0];class n extends HTMLElement{constructor(...e){super(...e),this._hass=void 0,this._config=void 0,this._elements=[]}static async getConfigElement(){return await Promise.all([i.e(14691),i.e(54581),i.e(63756),i.e(73198)]).then(i.bind(i,73198)),document.createElement("hui-conditional-element-editor")}setConfig(e){if(!(e.conditions&&Array.isArray(e.conditions)&&e.elements&&Array.isArray(e.elements)&&(0,s.db)(e.conditions)))throw new Error("Invalid configuration");this._elements.length>0&&(this._elements.forEach((e=>{e.parentElement&&e.parentElement.removeChild(e)})),this._elements=[]),this._config=e,this._config.elements.forEach((e=>{this._elements.push((0,a.M)(e))})),this.updateElements()}set hass(e){this._hass=e,this.updateElements()}updateElements(){if(!this._hass||!this._config)return;const e=(0,s.XH)(this._config.conditions,this._hass);this._elements.forEach((t=>{e?(t.hass=this._hass,t.parentElement||this.appendChild(t)):t.parentElement&&t.parentElement.removeChild(t)}))}}customElements.define("hui-conditional-element",n),t()}catch(e){t(e)}}))},84198:(e,t,i)=>{var a=i(36312),s=i(15112),o=i(77706),n=i(10977),r=(i(20144),i(86696)),l=i(25319),d=i(63582),c=i(562);(0,a.A)([(0,o.EM)("hui-icon-element")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"method",static:!0,key:"getConfigElement",value:async function(){return await i.e(997).then(i.bind(i,997)),document.createElement("hui-icon-element-editor")}},{kind:"method",static:!0,key:"getStubConfig",value:function(){return{type:"icon",icon:"mdi:alert-circle"}}},{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){if(!e.icon)throw Error("Icon required");this._config={hold_action:{action:"more-info"},...e}}},{kind:"method",key:"render",value:function(){return this._config&&this.hass?s.qy` <ha-icon .icon="${this._config.icon}" .title="${(0,r.d)(this.hass,this._config)}" @action="${this._handleAction}" .actionHandler="${(0,l.T)({hasHold:(0,c.h)(this._config.hold_action),hasDoubleClick:(0,c.h)(this._config.double_tap_action)})}" tabindex="${(0,n.J)((0,c.h)(this._config.tap_action)?"0":void 0)}"></ha-icon> `:s.s6}},{kind:"method",key:"_handleAction",value:function(e){(0,d.$)(this,this.hass,this._config,e.detail.action)}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`:host{cursor:pointer}ha-icon:focus{outline:0;background:var(--divider-color);border-radius:100%}`}}]}}),s.WF)},88552:(e,t,i)=>{var a=i(36312),s=(i(253),i(2075),i(15112)),o=i(77706),n=i(10977),r=i(9755),l=i(86696),d=i(25319),c=i(63582),h=i(562);i(16204);(0,a.A)([(0,o.EM)("hui-image-element")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"method",static:!0,key:"getConfigElement",value:async function(){return await i.e(63757).then(i.bind(i,63757)),document.createElement("hui-image-element-editor")}},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){if(!e)throw Error("Invalid configuration");this._config={hold_action:{action:"more-info"},...e},this.classList.toggle("clickable",this._config.tap_action&&"none"!==this._config.tap_action.action)}},{kind:"method",key:"render",value:function(){if(!this._config||!this.hass)return s.s6;let e;return this._config.image_entity&&(e=this.hass.states[this._config.image_entity]),s.qy` <hui-image .hass="${this.hass}" .entity="${this._config.entity}" .image="${e?(0,r.e)(e):this._config.image}" .stateImage="${this._config.state_image}" .cameraImage="${this._config.camera_image}" .cameraView="${this._config.camera_view}" .filter="${this._config.filter}" .stateFilter="${this._config.state_filter}" .title="${(0,l.d)(this.hass,this._config)}" .aspectRatio="${this._config.aspect_ratio}" .darkModeImage="${this._config.dark_mode_image}" .darkModeFilter="${this._config.dark_mode_filter}" @action="${this._handleAction}" .actionHandler="${(0,d.T)({hasHold:(0,h.h)(this._config.hold_action),hasDoubleClick:(0,h.h)(this._config.double_tap_action)})}" tabindex="${(0,n.J)((0,h.h)(this._config.tap_action)?"0":void 0)}"></hui-image> `}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`:host(.clickable){cursor:pointer;overflow:hidden;-webkit-touch-callout:none!important}hui-image{-webkit-user-select:none!important}hui-image:focus{outline:0;background:var(--divider-color);border-radius:100%}`}},{kind:"method",key:"_handleAction",value:function(e){(0,c.$)(this,this.hass,this._config,e.detail.action)}}]}}),s.WF)},94673:(e,t,i)=>{var a=i(36312),s=i(15112),o=i(77706);i(66641);(0,a.A)([(0,o.EM)("hui-service-button-element")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"method",static:!0,key:"getConfigElement",value:async function(){return await Promise.all([i.e(94131),i.e(40319),i.e(15313),i.e(59292),i.e(48563)]).then(i.bind(i,2668)),document.createElement("hui-service-button-element-editor")}},{kind:"method",static:!0,key:"getStubConfig",value:function(e){return{type:"action-button",action:"homeassistant.turn_on",title:e.localize("ui.card.common.turn_on")}}},{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_config",value:void 0},{kind:"field",key:"_domain",value:void 0},{kind:"field",key:"_service",value:void 0},{kind:"method",key:"setConfig",value:function(e){if(!e||!e.action&&!e.service)throw Error("Action required");if([this._domain,this._service]=(e.action??e.service).split(".",2),!this._domain)throw Error("Action does not have a domain");if(!this._service)throw Error("Action does not have a action name");this._config=e}},{kind:"method",key:"render",value:function(){if(!this._config||!this.hass)return s.s6;const{entity_id:e,label_id:t,floor_id:i,device_id:a,area_id:o}=this._config.service_data??this._config.data??{},n=this._config.target??{entity_id:e,label_id:t,floor_id:i,device_id:a,area_id:o};return s.qy` <ha-call-service-button .hass="${this.hass}" .domain="${this._domain}" .service="${this._service}" .data="${this._config.data??this._config.service_data}" .target="${n}"> ${this._config.title} </ha-call-service-button> `}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`ha-call-service-button{color:var(--primary-color);white-space:nowrap}`}}]}}),s.WF)},62830:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(36312),s=i(15112),o=i(77706),n=i(10977),r=i(18102),l=i(19244),d=i(35212),c=i(25319),h=i(63582),u=i(562),m=i(9883),y=i(7934),p=i(46645),f=(i(37940),e([d]));d=(f.then?(await f)():f)[0];(0,a.A)([(0,o.EM)("hui-state-badge-element")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"method",static:!0,key:"getConfigElement",value:async function(){return await i.e(24824).then(i.bind(i,2443)),document.createElement("hui-state-badge-element-editor")}},{kind:"method",static:!0,key:"getStubConfig",value:function(e,t,i){return{type:"state-badge",entity:(0,r.B)(e,1,t,i,["light","switch","sensor"],(e=>!(0,m.g0)(e.state)))[0]||""}}},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){if(!e.entity)throw Error("Entity required");this._config={hold_action:{action:"more-info"},...e}}},{kind:"method",key:"shouldUpdate",value:function(e){return(0,y.LX)(this,e)}},{kind:"method",key:"render",value:function(){if(!this._config||!this.hass)return s.s6;const e=this.hass.states[this._config.entity];return e?s.qy` <ha-state-label-badge .hass="${this.hass}" .state="${e}" .title="${void 0===this._config.title?(0,l.u)(e):null===this._config.title?"":this._config.title}" showName @action="${this._handleAction}" .actionHandler="${(0,c.T)({hasHold:(0,u.h)(this._config.hold_action),hasDoubleClick:(0,u.h)(this._config.double_tap_action)})}" tabindex="${(0,n.J)((0,u.h)(this._config.tap_action)?"0":void 0)}"></ha-state-label-badge> `:s.qy` <hui-warning-element .label="${(0,p.j)(this.hass,this._config.entity)}"></hui-warning-element> `}},{kind:"method",key:"_handleAction",value:function(e){(0,h.$)(this,this.hass,this._config,e.detail.action)}}]}}),s.WF);t()}catch(e){t(e)}}))},17758:(e,t,i)=>{var a=i(36312),s=i(15112),o=i(77706),n=i(10977),r=i(18102),l=(i(12675),i(86696)),d=i(25319),c=i(63582),h=i(562),u=i(9883),m=i(7934),y=i(46645);i(37940);(0,a.A)([(0,o.EM)("hui-state-icon-element")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"method",static:!0,key:"getConfigElement",value:async function(){return await i.e(2977).then(i.bind(i,2977)),document.createElement("hui-state-icon-element-editor")}},{kind:"method",static:!0,key:"getStubConfig",value:function(e,t,i){return{type:"state-icon",entity:(0,r.B)(e,1,t,i,["light","switch","sensor"],(e=>!(0,u.g0)(e.state)))[0]||""}}},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){if(!e.entity)throw Error("Entity required");this._config={state_color:!0,hold_action:{action:"more-info"},...e}}},{kind:"method",key:"shouldUpdate",value:function(e){return(0,m.LX)(this,e)}},{kind:"method",key:"render",value:function(){if(!this._config||!this.hass)return s.s6;const e=this.hass.states[this._config.entity];return e?s.qy` <state-badge .hass="${this.hass}" .stateObj="${e}" .title="${(0,l.d)(this.hass,this._config)}" @action="${this._handleAction}" .actionHandler="${(0,d.T)({hasHold:(0,h.h)(this._config.hold_action),hasDoubleClick:(0,h.h)(this._config.double_tap_action)})}" tabindex="${(0,n.J)((0,h.h)(this._config.tap_action)?"0":void 0)}" .overrideIcon="${this._config.icon}" .stateColor="${this._config.state_color}"></state-badge> `:s.qy` <hui-warning-element .label="${(0,y.j)(this.hass,this._config.entity)}"></hui-warning-element> `}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`:host{cursor:pointer}state-badge:focus{outline:0;background:var(--divider-color);border-radius:100%}`}},{kind:"method",key:"_handleAction",value:function(e){(0,c.$)(this,this.hass,this._config,e.detail.action)}}]}}),s.WF)},57963:(e,t,i)=>{var a=i(36312),s=i(15112),o=i(77706),n=i(10977),r=i(18102),l=i(86696),d=i(25319),c=i(63582),h=i(562),u=i(9883),m=i(7934),y=i(46645);i(37940);(0,a.A)([(0,o.EM)("hui-state-label-element")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"method",static:!0,key:"getConfigElement",value:async function(){return await i.e(61624).then(i.bind(i,61624)),document.createElement("hui-state-label-element-editor")}},{kind:"method",static:!0,key:"getStubConfig",value:function(e,t,i){return{type:"state-label",entity:(0,r.B)(e,1,t,i,["light","switch","sensor"],(e=>!(0,u.g0)(e.state)))[0]||""}}},{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){if(!e.entity)throw Error("Entity required");this._config={hold_action:{action:"more-info"},...e}}},{kind:"method",key:"shouldUpdate",value:function(e){return(0,m.LX)(this,e)}},{kind:"method",key:"render",value:function(){if(!this._config||!this.hass)return s.s6;const e=this.hass.states[this._config.entity];return e?this._config.attribute&&!(this._config.attribute in e.attributes)?s.qy` <hui-warning-element label="${this.hass.localize("ui.panel.lovelace.warning.attribute_not_found",{attribute:this._config.attribute,entity:this._config.entity})}"></hui-warning-element> `:s.qy` <div .title="${(0,l.d)(this.hass,this._config)}" @action="${this._handleAction}" .actionHandler="${(0,d.T)({hasHold:(0,h.h)(this._config.hold_action),hasDoubleClick:(0,h.h)(this._config.double_tap_action)})}" tabindex="${(0,n.J)((0,h.h)(this._config.tap_action)?"0":void 0)}"> ${this._config.prefix}${this._config.attribute?e.attributes[this._config.attribute]:this.hass.formatEntityState(e)}${this._config.suffix} </div> `:s.qy` <hui-warning-element .label="${(0,y.j)(this.hass,this._config.entity)}"></hui-warning-element> `}},{kind:"method",key:"_handleAction",value:function(e){(0,c.$)(this,this.hass,this._config,e.detail.action)}},{kind:"get",static:!0,key:"styles",value:function(){return s.AH`:host{cursor:pointer}div{padding:8px;white-space:nowrap}div:focus{outline:0;background:var(--divider-color);border-radius:100%}`}}]}}),s.WF)},55321:(e,t,i)=>{i.d(t,{RF:()=>o,dp:()=>r,nA:()=>n,og:()=>s});var a=i(15112);const s=a.AH`button.link{background:0 0;color:inherit;border:none;padding:0;font:inherit;text-align:left;text-decoration:underline;cursor:pointer;outline:0}`,o=a.AH`:host{font-family:var(--paper-font-body1_-_font-family);-webkit-font-smoothing:var(--paper-font-body1_-_-webkit-font-smoothing);font-size:var(--paper-font-body1_-_font-size);font-weight:var(--paper-font-body1_-_font-weight);line-height:var(--paper-font-body1_-_line-height)}app-header div[sticky]{height:48px}app-toolbar [main-title]{margin-left:20px;margin-inline-start:20px;margin-inline-end:initial}h1{font-family:var(--paper-font-headline_-_font-family);-webkit-font-smoothing:var(--paper-font-headline_-_-webkit-font-smoothing);white-space:var(--paper-font-headline_-_white-space);overflow:var(--paper-font-headline_-_overflow);text-overflow:var(--paper-font-headline_-_text-overflow);font-size:var(--paper-font-headline_-_font-size);font-weight:var(--paper-font-headline_-_font-weight);line-height:var(--paper-font-headline_-_line-height)}h2{font-family:var(--paper-font-title_-_font-family);-webkit-font-smoothing:var(--paper-font-title_-_-webkit-font-smoothing);white-space:var(--paper-font-title_-_white-space);overflow:var(--paper-font-title_-_overflow);text-overflow:var(--paper-font-title_-_text-overflow);font-size:var(--paper-font-title_-_font-size);font-weight:var(--paper-font-title_-_font-weight);line-height:var(--paper-font-title_-_line-height)}h3{font-family:var(--paper-font-subhead_-_font-family);-webkit-font-smoothing:var(--paper-font-subhead_-_-webkit-font-smoothing);white-space:var(--paper-font-subhead_-_white-space);overflow:var(--paper-font-subhead_-_overflow);text-overflow:var(--paper-font-subhead_-_text-overflow);font-size:var(--paper-font-subhead_-_font-size);font-weight:var(--paper-font-subhead_-_font-weight);line-height:var(--paper-font-subhead_-_line-height)}a{color:var(--primary-color)}.secondary{color:var(--secondary-text-color)}.error{color:var(--error-color)}.warning{color:var(--error-color)}ha-button.warning,mwc-button.warning{--mdc-theme-primary:var(--error-color)}${s} .card-actions a{text-decoration:none}.card-actions .warning{--mdc-theme-primary:var(--error-color)}.layout.horizontal,.layout.vertical{display:flex}.layout.inline{display:inline-flex}.layout.horizontal{flex-direction:row}.layout.vertical{flex-direction:column}.layout.wrap{flex-wrap:wrap}.layout.no-wrap{flex-wrap:nowrap}.layout.center,.layout.center-center{align-items:center}.layout.bottom{align-items:flex-end}.layout.center-center,.layout.center-justified{justify-content:center}.flex{flex:1;flex-basis:0.000000001px}.flex-auto{flex:1 1 auto}.flex-none{flex:none}.layout.justified{justify-content:space-between}`,n=a.AH`ha-dialog{--mdc-dialog-min-width:400px;--mdc-dialog-max-width:600px;--mdc-dialog-max-width:min(600px, 95vw);--justify-action-buttons:space-between}ha-dialog .form{color:var(--primary-text-color)}a{color:var(--primary-color)}@media all and (max-width:450px),all and (max-height:500px){ha-dialog{--mdc-dialog-min-width:calc(
        100vw - env(safe-area-inset-right) - env(safe-area-inset-left)
      );--mdc-dialog-max-width:calc(
        100vw - env(safe-area-inset-right) - env(safe-area-inset-left)
      );--mdc-dialog-min-height:100%;--mdc-dialog-max-height:100%;--vertical-align-dialog:flex-end;--ha-dialog-border-radius:0}}ha-button.warning,mwc-button.warning{--mdc-theme-primary:var(--error-color)}.error{color:var(--error-color)}`,r=a.AH`.ha-scrollbar::-webkit-scrollbar{width:.4rem;height:.4rem}.ha-scrollbar::-webkit-scrollbar-thumb{-webkit-border-radius:4px;border-radius:4px;background:var(--scrollbar-thumb-color)}.ha-scrollbar{overflow-y:auto;scrollbar-color:var(--scrollbar-thumb-color) transparent;scrollbar-width:thin}`;a.AH`body{background-color:var(--primary-background-color);color:var(--primary-text-color);height:calc(100vh - 32px);width:100vw}`},84976:(e,t,i)=>{i.d(t,{o:()=>a});const a=(e,t)=>`https://${e.config.version.includes("b")?"rc":e.config.version.includes("dev")?"next":"www"}.home-assistant.io${t}`},19398:(e,t,i)=>{var a={"./entity-settings-helper-tab":[27247,29842,31753,27247],"./entity-settings-helper-tab.ts":[27247,29842,31753,27247]};function s(e){if(!i.o(a,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],s=t[0];return Promise.all(t.slice(1).map(i.e)).then((()=>i(s)))}s.keys=()=>Object.keys(a),s.id=19398,e.exports=s}};
//# sourceMappingURL=13699.eOODiKb6Dkk.js.map