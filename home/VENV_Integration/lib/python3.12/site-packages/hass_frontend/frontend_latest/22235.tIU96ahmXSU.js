export const id=22235;export const ids=[22235];export const modules={32689:(e,t,i)=>{i.d(t,{CZ:()=>_,Wx:()=>c,XH:()=>u,db:()=>h,gW:()=>y,lB:()=>f});i(89655),i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435),i(253),i(5186),i(2075),i(54846),i(16891),i(37679),i(4525);var n=i(21863),s=i(82291),o=i(26175),r=i(9883);function a(e,t){if((0,o.n)(t)&&e.states[t])return e.states[t]?.state}function d(e,t){const i=e.entity&&t.states[e.entity]?t.states[e.entity].state:r.Hh;let s=e.state??e.state_not;if(Array.isArray(s)){const e=s.map((e=>a(t,e))).filter((e=>void 0!==e));s=[...s,...e]}else if("string"==typeof s){const e=a(t,s);s=[s],e&&s.push(e)}return null!=e.state?(0,n.e)(s).includes(i):!(0,n.e)(s).includes(i)}function u(e,t){return e.every((e=>{if("condition"in e)switch(e.condition){case"screen":return!!(i=e).media_query&&matchMedia(i.media_query).matches;case"user":return function(e,t){return!(!e.users||!t.user?.id)&&e.users.includes(t.user.id)}(e,t);case"numeric_state":return function(e,t){const i=(e.entity?t.states[e.entity]:void 0)?.state;let n=e.above,s=e.below;"string"==typeof n&&(n=a(t,n)??n),"string"==typeof s&&(s=a(t,s)??s);const o=Number(i),r=Number(n),d=Number(s);return!isNaN(o)&&(null==e.above||isNaN(r)||r<o)&&(null==e.below||isNaN(d)||d>o)}(e,t);case"and":return function(e,t){return!e.conditions||u(e.conditions,t)}(e,t);case"or":return function(e,t){return!e.conditions||e.conditions.some((e=>u([e],t)))}(e,t);default:return d(e,t)}var i;return d(e,t)}))}function c(e){const t=new Set;for(const i of e)if("numeric_state"===i.condition)"string"==typeof i.above&&(0,o.n)(i.above)&&t.add(i.above),"string"==typeof i.below&&(0,o.n)(i.below)&&t.add(i.below);else if("state"===i.condition)[...(0,n.e)(i.state)??[],...(0,n.e)(i.state_not)??[]].forEach((e=>{e&&(0,o.n)(e)&&t.add(e)}));else if("conditions"in i&&i.conditions)return new Set([...t,...c(i.conditions)]);return t}function l(e){return null!=e.entity&&(null!=e.state||null!=e.state_not)}function h(e){return e.every((e=>{if("condition"in e)switch(e.condition){case"screen":return null!=e.media_query;case"user":return function(e){return null!=e.users}(e);case"numeric_state":return function(e){return null!=e.entity&&(null!=e.above||null!=e.below)}(e);case"and":case"or":return function(e){return null!=e.conditions}(e);default:return l(e)}return l(e)}))}function f(e,t){return"conditions"in e&&e.conditions?{...e,conditions:e.conditions.map((e=>f(e,t)))}:"state"===e.condition||"numeric_state"===e.condition?{...e,entity:t}:e}function y(e){return e.reduce(((e,t)=>("conditions"in t&&t.conditions&&e.push(...y(t.conditions)),"screen"===t.condition&&t.media_query&&e.push(t.media_query),e)),[])}function _(e,t){return y(e).map((e=>(0,s.m)(e,(e=>{t(e)}))))}},66651:(e,t,i)=>{i.d(t,{E:()=>u});var n=i(36312),s=i(68689),o=(i(253),i(2075),i(54846),i(15112)),r=i(77706),a=i(16569),d=i(32689);let u=(0,n.A)([(0,r.EM)("hui-conditional-base")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"preview",value:()=>!1},{kind:"field",decorators:[(0,r.wk)()],key:"_config",value:void 0},{kind:"field",key:"_element",value:void 0},{kind:"field",key:"_listeners",value:()=>[]},{kind:"field",key:"_mediaQueries",value:()=>[]},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"validateConfig",value:function(e){if(!e.conditions)throw new Error("No conditions configured");if(!Array.isArray(e.conditions))throw new Error("Conditions need to be an array");if(!(0,d.db)(e.conditions))throw new Error("Conditions are invalid");this.lastChild&&this.removeChild(this.lastChild),this._config=e}},{kind:"method",key:"disconnectedCallback",value:function(){(0,s.A)(i,"disconnectedCallback",this,3)([]),this._clearMediaQueries()}},{kind:"method",key:"connectedCallback",value:function(){(0,s.A)(i,"connectedCallback",this,3)([]),this._listenMediaQueries(),this._updateVisibility()}},{kind:"method",key:"_clearMediaQueries",value:function(){this._listeners.forEach((e=>e())),this._listeners=[]}},{kind:"method",key:"_listenMediaQueries",value:function(){if(!this._config||!this.hass)return;const e=this._config.conditions.filter((e=>"condition"in e)),t=(0,d.gW)(e);if((0,a.b)(t,this._mediaQueries))return;this._clearMediaQueries();const i=this._config.conditions,n=1===i.length&&"condition"in i[0]&&"screen"===i[0].condition&&!!i[0].media_query;this._listeners=(0,d.CZ)(e,(e=>{n?this.setVisibility(e):this._updateVisibility()}))}},{kind:"method",key:"update",value:function(e){(0,s.A)(i,"update",this,3)([e]),(e.has("_element")||e.has("_config")||e.has("hass")||e.has("preview"))&&(this._listenMediaQueries(),this._updateVisibility())}},{kind:"method",key:"_updateVisibility",value:function(){if(!this._element||!this.hass||!this._config)return;this._element.preview=this.preview;const e=(0,d.XH)(this._config.conditions,this.hass);this.setVisibility(e)}},{kind:"method",key:"setVisibility",value:function(e){if(!this._element||!this.hass)return;const t=this.preview||e;this.hidden!==!t&&(this.toggleAttribute("hidden",!t),this.style.setProperty("display",t?"":"none")),t?(this._element.hass=this.hass,this._element.parentElement||this.appendChild(this._element)):this._element.parentElement&&this.removeChild(this._element)}}]}}),o.mN)},22235:(e,t,i)=>{i.a(e,(async(e,n)=>{try{i.r(t);var s=i(36312),o=i(77706),r=i(66651),a=i(31271),d=e([a]);a=(d.then?(await d)():d)[0];(0,s.A)([(0,o.EM)("hui-conditional-row")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"method",key:"setConfig",value:function(e){if(this.validateConfig(e),!e.row)throw new Error("No row configured");this._element=(0,a.T)(e.state_color?{state_color:!0,...e.row}:e.row)}}]}}),r.E);n()}catch(e){n(e)}}))}};
//# sourceMappingURL=22235.tIU96ahmXSU.js.map