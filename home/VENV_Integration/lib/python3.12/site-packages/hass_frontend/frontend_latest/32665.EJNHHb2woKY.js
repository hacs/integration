export const id=32665;export const ids=[32665,13265,13292,46163,4924];export const modules={46999:(e,t,i)=>{i.d(t,{Vy:()=>s,fI:()=>o});var a=i(3254);const n=["#4269d0","#f4bd4a","#ff725c","#6cc5b0","#a463f2","#ff8ab7","#9c6b4e","#97bbf5","#01ab63","#9498a0","#094bad","#c99000","#d84f3e","#49a28f","#048732","#d96895","#8043ce","#7599d1","#7a4c31","#74787f","#6989f4","#ffd444","#ff957c","#8fe9d3","#62cc71","#ffadda","#c884ff","#badeff","#bf8b6d","#b6bac2","#927acc","#97ee3f","#bf3947","#9f5b00","#f48758","#8caed6","#f2b94f","#eff26e","#e43872","#d9b100","#9d7a00","#698cff","#d9d9d9","#00d27e","#d06800","#009f82","#c49200","#cbe8ff","#fecddf","#c27eb6","#8cd2ce","#c4b8d9","#f883b0","#a49100","#f48800","#27d0df","#a04a9b"];function s(e){return n[e%n.length]}function o(e,t){const i=t.getPropertyValue(`--graph-color-${e+1}`)||s(e);return(0,a.RQ)(i)}},58558:(e,t,i)=>{i.d(t,{DD:()=>r,PE:()=>o});var a=i(48248),n=i(45269);const s=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],o=e=>e.first_weekday===n.zt.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(e.language).weekInfo.firstDay%7:(0,a.S)(e.language)%7:s.includes(e.first_weekday)?s.indexOf(e.first_weekday):1,r=e=>{const t=o(e);return s[t]}},57289:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{CA:()=>z,Pm:()=>$,Wq:()=>k,Yq:()=>h,fr:()=>_,gu:()=>C,kz:()=>m,sl:()=>v,sw:()=>d,zB:()=>p});i(253),i(94438);var n=i(13265),s=i(94100),o=i(45269),r=i(35638),l=e([n,r]);[n,r]=l.then?(await l)():l;const d=(e,t,i)=>c(t,i.time_zone).format(e),c=(0,s.A)(((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",month:"long",day:"numeric",timeZone:(0,r.w)(e.time_zone,t)}))),h=(e,t,i)=>u(t,i.time_zone).format(e),u=(0,s.A)(((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",timeZone:(0,r.w)(e.time_zone,t)}))),m=(e,t,i)=>g(t,i.time_zone).format(e),g=(0,s.A)(((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"short",day:"numeric",timeZone:(0,r.w)(e.time_zone,t)}))),p=(e,t,i)=>{const a=f(t,i.time_zone);if(t.date_format===o.ow.language||t.date_format===o.ow.system)return a.format(e);const n=a.formatToParts(e),s=n.find((e=>"literal"===e.type))?.value,r=n.find((e=>"day"===e.type))?.value,l=n.find((e=>"month"===e.type))?.value,d=n.find((e=>"year"===e.type))?.value,c=n.at(n.length-1);let h="literal"===c?.type?c?.value:"";"bg"===t.language&&t.date_format===o.ow.YMD&&(h="");return{[o.ow.DMY]:`${r}${s}${l}${s}${d}${h}`,[o.ow.MDY]:`${l}${s}${r}${s}${d}${h}`,[o.ow.YMD]:`${d}${s}${l}${s}${r}${h}`}[t.date_format]},f=(0,s.A)(((e,t)=>{const i=e.date_format===o.ow.system?void 0:e.language;return e.date_format===o.ow.language||(e.date_format,o.ow.system),new Intl.DateTimeFormat(i,{year:"numeric",month:"numeric",day:"numeric",timeZone:(0,r.w)(e.time_zone,t)})})),v=(e,t,i)=>y(t,i.time_zone).format(e),y=(0,s.A)(((e,t)=>new Intl.DateTimeFormat(e.language,{day:"numeric",month:"short",timeZone:(0,r.w)(e.time_zone,t)}))),_=(e,t,i)=>b(t,i.time_zone).format(e),b=(0,s.A)(((e,t)=>new Intl.DateTimeFormat(e.language,{month:"long",year:"numeric",timeZone:(0,r.w)(e.time_zone,t)}))),k=(e,t,i)=>w(t,i.time_zone).format(e),w=(0,s.A)(((e,t)=>new Intl.DateTimeFormat(e.language,{month:"long",timeZone:(0,r.w)(e.time_zone,t)}))),$=(e,t,i)=>x(t,i.time_zone).format(e),x=(0,s.A)(((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",timeZone:(0,r.w)(e.time_zone,t)}))),z=(e,t,i)=>A(t,i.time_zone).format(e),A=(0,s.A)(((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",timeZone:(0,r.w)(e.time_zone,t)}))),C=(e,t,i)=>M(t,i.time_zone).format(e),M=(0,s.A)(((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"short",timeZone:(0,r.w)(e.time_zone,t)})));a()}catch(e){a(e)}}))},8581:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{GH:()=>_,ZS:()=>p,aQ:()=>m,r6:()=>h,yg:()=>v});var n=i(13265),s=i(94100),o=i(57289),r=i(41924),l=i(35638),d=i(3453),c=e([n,o,r,l]);[n,o,r,l]=c.then?(await c)():c;const h=(e,t,i)=>u(t,i.time_zone).format(e),u=(0,s.A)(((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",hour:(0,d.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,d.J)(e)?"h12":"h23",timeZone:(0,l.w)(e.time_zone,t)}))),m=(e,t,i)=>g(t,i.time_zone).format(e),g=(0,s.A)(((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"short",day:"numeric",hour:(0,d.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,d.J)(e)?"h12":"h23",timeZone:(0,l.w)(e.time_zone,t)}))),p=(e,t,i)=>f(t,i.time_zone).format(e),f=(0,s.A)(((e,t)=>new Intl.DateTimeFormat(e.language,{month:"short",day:"numeric",hour:(0,d.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,d.J)(e)?"h12":"h23",timeZone:(0,l.w)(e.time_zone,t)}))),v=(e,t,i)=>y(t,i.time_zone).format(e),y=(0,s.A)(((e,t)=>new Intl.DateTimeFormat(e.language,{year:"numeric",month:"long",day:"numeric",hour:(0,d.J)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,d.J)(e)?"h12":"h23",timeZone:(0,l.w)(e.time_zone,t)}))),_=(e,t,i)=>`${(0,o.zB)(e,t,i)}, ${(0,r.fU)(e,t,i)}`;a()}catch(e){a(e)}}))},41924:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{LW:()=>p,Xs:()=>m,fU:()=>d,ie:()=>h});var n=i(13265),s=i(94100),o=i(35638),r=i(3453),l=e([n,o]);[n,o]=l.then?(await l)():l;const d=(e,t,i)=>c(t,i.time_zone).format(e),c=(0,s.A)(((e,t)=>new Intl.DateTimeFormat(e.language,{hour:"numeric",minute:"2-digit",hourCycle:(0,r.J)(e)?"h12":"h23",timeZone:(0,o.w)(e.time_zone,t)}))),h=(e,t,i)=>u(t,i.time_zone).format(e),u=(0,s.A)(((e,t)=>new Intl.DateTimeFormat(e.language,{hour:(0,r.J)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,r.J)(e)?"h12":"h23",timeZone:(0,o.w)(e.time_zone,t)}))),m=(e,t,i)=>g(t,i.time_zone).format(e),g=(0,s.A)(((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",hour:(0,r.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,r.J)(e)?"h12":"h23",timeZone:(0,o.w)(e.time_zone,t)}))),p=(e,t,i)=>f(t,i.time_zone).format(e),f=(0,s.A)(((e,t)=>new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit",hour12:!1,timeZone:(0,o.w)(e.time_zone,t)})));a()}catch(e){a(e)}}))},30125:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{K:()=>d});var n=i(13265),s=i(94100),o=i(30157),r=e([n,o]);[n,o]=r.then?(await r)():r;const l=(0,s.A)((e=>new Intl.RelativeTimeFormat(e.language,{numeric:"auto"}))),d=(e,t,i,a=!0)=>{const n=(0,o.x)(e,i,t);return a?l(t).format(n.value,n.unit):Intl.NumberFormat(t.language,{style:"unit",unit:n.unit,unitDisplay:"long"}).format(Math.abs(n.value))};a()}catch(e){a(e)}}))},35638:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{w:()=>l});var n=i(13265),s=i(45269),o=e([n]);n=(o.then?(await o)():o)[0];const r=Intl.DateTimeFormat?.().resolvedOptions?.().timeZone??"UTC",l=(e,t)=>e===s.Wj.local&&"UTC"!==r?r:t;a()}catch(e){a(e)}}))},3453:(e,t,i)=>{i.d(t,{J:()=>s});var a=i(94100),n=i(45269);const s=(0,a.A)((e=>{if(e.time_format===n.Hg.language||e.time_format===n.Hg.system){const t=e.time_format===n.Hg.language?e.language:void 0;return new Date("January 1, 2023 22:00:00").toLocaleString(t).includes("10")}return e.time_format===n.Hg.am_pm}))},46875:(e,t,i)=>{i.d(t,{a:()=>s});var a=i(9883),n=i(213);function s(e,t){const i=(0,n.m)(e.entity_id),s=void 0!==t?t:e?.state;if(["button","event","input_button","scene"].includes(i))return s!==a.Hh;if((0,a.g0)(s))return!1;if(s===a.KF&&"alert"!==i)return!1;switch(i){case"alarm_control_panel":return"disarmed"!==s;case"alert":return"idle"!==s;case"cover":case"valve":return"closed"!==s;case"device_tracker":case"person":return"not_home"!==s;case"lawn_mower":return["mowing","error"].includes(s);case"lock":return"locked"!==s;case"media_player":return"standby"!==s;case"vacuum":return!["idle","docked","paused"].includes(s);case"plant":return"problem"===s;case"group":return["on","home","open","locked","problem"].includes(s);case"timer":return"active"===s;case"camera":return"streaming"===s}return!0}},7127:(e,t,i)=>{i.d(t,{p:()=>n});const a=[" ",": "],n=(e,t)=>{const i=e.toLowerCase();for(const n of a){const a=`${t}${n}`;if(i.startsWith(a)){const t=e.substring(a.length);if(t.length)return s(t.substr(0,t.indexOf(" ")))?t:t[0].toUpperCase()+t.slice(1)}}},s=e=>e.toLowerCase()!==e},26175:(e,t,i)=>{i.d(t,{n:()=>n});const a=/^(\w+)\.(\w+)$/,n=e=>a.test(e)},44721:(e,t,i)=>{i.d(t,{P:()=>p,x:()=>g});var a=i(15112),n=i(31265),s=i(46092),o=i(19611),r=i(30581),l=i(6121),d=i(73218),c=i(24520),h=i(84976),u=i(33922),m=i(16312);const g=["zha","zwave_js","matter"],p=async(e,t,i,g)=>{if(g?.domain){const e=await t.loadBackendTranslation("title",g.domain);g.domain=(0,s.p$)(e,g.domain)}if(g?.brand){const e=await(0,o.O)(t);g.brand=e.core.integration[g.brand]?.name||g.brand}if("zwave_js"===i){const s=g?.config_entry?void 0:await(0,n.VN)(t,{domain:i});if(!(0,u.x)(t,"zwave_js")||!g?.config_entry&&!s?.length)return void(0,l.showConfirmationDialog)(e,{title:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee_title",{integration:"Z-Wave"}),text:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee",{integration:"Z-Wave",brand:g?.brand||g?.domain||"Z-Wave",supported_hardware_link:a.qy`<a href="${(0,h.o)(t,"/docs/z-wave/controllers")}" target="_blank" rel="noreferrer">${t.localize("ui.panel.config.integrations.config_flow.supported_hardware")}</a>`}),confirmText:t.localize("ui.panel.config.integrations.config_flow.proceed"),confirm:()=>{(0,r.W)(e,{startFlowHandler:"zwave_js"})}});(0,c.X)(e,{entry_id:g?.config_entry||s[0].entry_id})}else if("zha"===i){const s=g?.config_entry?void 0:await(0,n.VN)(t,{domain:i});if(!(0,u.x)(t,"zha")||!g?.config_entry&&!s?.length)return void(0,l.showConfirmationDialog)(e,{title:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee_title",{integration:"Zigbee"}),text:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee",{integration:"Zigbee",brand:g?.brand||g?.domain||"Zigbee",supported_hardware_link:a.qy`<a href="${(0,h.o)(t,"/integrations/zha/#known-working-zigbee-radio-modules")}" target="_blank" rel="noreferrer">${t.localize("ui.panel.config.integrations.config_flow.supported_hardware")}</a>`}),confirmText:t.localize("ui.panel.config.integrations.config_flow.proceed"),confirm:()=>{(0,r.W)(e,{startFlowHandler:"zha"})}});(0,m.o)("/config/zha/add")}else if("matter"===i){const s=g?.config_entry?void 0:await(0,n.VN)(t,{domain:i});if(!(0,u.x)(t,i)||!g?.config_entry&&!s?.length)return void(0,l.showConfirmationDialog)(e,{title:t.localize("ui.panel.config.integrations.config_flow.missing_zwave_zigbee_title",{integration:"Matter"}),text:t.localize("ui.panel.config.integrations.config_flow.missing_matter",{integration:"Matter",brand:g?.brand||g?.domain||"Matter",supported_hardware_link:a.qy`<a href="${(0,h.o)(t,"/integrations/matter")}" target="_blank" rel="noreferrer">${t.localize("ui.panel.config.integrations.config_flow.supported_hardware")}</a>`}),confirmText:t.localize("ui.panel.config.integrations.config_flow.proceed"),confirm:()=>{(0,r.W)(e,{startFlowHandler:"matter"})}});(0,d.g)(e)}}},57636:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{Yf:()=>c,ZQ:()=>u,ZV:()=>h,ty:()=>d,x:()=>l});var n=i(13265),s=i(45269),o=i(53249),r=e([n]);n=(r.then?(await r)():r)[0];const l=e=>d(e.attributes),d=(e,t)=>!!e.unit_of_measurement||!!e.state_class||(t||[]).includes(e.device_class||""),c=e=>{switch(e.number_format){case s.jG.comma_decimal:return["en-US","en"];case s.jG.decimal_comma:return["de","es","it"];case s.jG.space_comma:return["fr","sv","cs"];case s.jG.system:return;default:return e.language}},h=(e,t,i)=>{const a=t?c(t):void 0;return Number.isNaN=Number.isNaN||function e(t){return"number"==typeof t&&e(t)},t?.number_format===s.jG.none||Number.isNaN(Number(e))?Number.isNaN(Number(e))||""===e||t?.number_format!==s.jG.none?"string"==typeof e?e:`${(0,o.L)(e,i?.maximumFractionDigits).toString()}${"currency"===i?.style?` ${i.currency}`:""}`:new Intl.NumberFormat("en-US",m(e,{...i,useGrouping:!1})).format(Number(e)):new Intl.NumberFormat(a,m(e,i)).format(Number(e))},u=(e,t)=>{const i=t?.display_precision;return null!=i?{maximumFractionDigits:i,minimumFractionDigits:i}:Number.isInteger(Number(e?.attributes?.step))&&Number.isInteger(Number(e?.state))?{maximumFractionDigits:0}:void 0},m=(e,t)=>{const i={maximumFractionDigits:2,...t};if("string"!=typeof e)return i;if(!t||void 0===t.minimumFractionDigits&&void 0===t.maximumFractionDigits){const t=e.indexOf(".")>-1?e.split(".")[1].length:0;i.minimumFractionDigits=t,i.maximumFractionDigits=t}return i};a()}catch(e){a(e)}}))},53249:(e,t,i)=>{i.d(t,{L:()=>a});const a=(e,t=2)=>Math.round(e*10**t)/10**t},49281:(e,t,i)=>{i.d(t,{Z:()=>a});const a=e=>e.charAt(0).toUpperCase()+e.slice(1)},57888:(e,t,i)=>{i.d(t,{n:()=>a});const a=e=>e.replace(/^_*(.)|_+(.)/g,((e,t,i)=>t?t.toUpperCase():" "+i.toUpperCase()))},30157:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{x:()=>h});var n=i(74312),s=i(94086),o=i(87934),r=i(58558);const l=1e3,d=60,c=60*d;function h(e,t=Date.now(),i,a={}){const h={...u,...a||{}},m=(+e-+t)/l;if(Math.abs(m)<h.second)return{value:Math.round(m),unit:"second"};const g=m/d;if(Math.abs(g)<h.minute)return{value:Math.round(g),unit:"minute"};const p=m/c;if(Math.abs(p)<h.hour)return{value:Math.round(p),unit:"hour"};const f=new Date(e),v=new Date(t);f.setHours(0,0,0,0),v.setHours(0,0,0,0);const y=(0,n.c)(f,v);if(0===y)return{value:Math.round(p),unit:"hour"};if(Math.abs(y)<h.day)return{value:y,unit:"day"};const _=(0,r.PE)(i),b=(0,s.k)(f,{weekStartsOn:_}),k=(0,s.k)(v,{weekStartsOn:_}),w=(0,o.I)(b,k);if(0===w)return{value:y,unit:"day"};if(Math.abs(w)<h.week)return{value:w,unit:"week"};const $=f.getFullYear()-v.getFullYear(),x=12*$+f.getMonth()-v.getMonth();return 0===x?{value:w,unit:"week"}:Math.abs(x)<h.month||0===$?{value:x,unit:"month"}:{value:Math.round($),unit:"year"}}const u={second:45,minute:45,hour:22,day:5,week:4,month:11};a()}catch(m){a(m)}}))},72731:(e,t,i)=>{var a=i(36312),n=i(15112),s=i(77706),o=i(68148);i(20144);(0,a.A)([(0,s.EM)("ha-battery-icon")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"batteryStateObj",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"batteryChargingStateObj",value:void 0},{kind:"method",key:"render",value:function(){return this.batteryStateObj?n.qy` <ha-icon .icon="${(0,o.L)(this.batteryStateObj.state,"on"===this.batteryChargingStateObj?.state)}"></ha-icon> `:n.s6}}]}}),n.WF)},13292:(e,t,i)=>{i.r(t);var a=i(36312),n=i(15112),s=i(77706),o=i(85323),r=i(34897);i(28066),i(88400);const l={info:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z",warning:"M12,2L1,21H23M12,6L19.53,19H4.47M11,10V14H13V10M11,16V18H13V16",error:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z",success:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2,4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"};(0,a.A)([(0,s.EM)("ha-alert")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)()],key:"title",value:()=>""},{kind:"field",decorators:[(0,s.MZ)({attribute:"alert-type"})],key:"alertType",value:()=>"info"},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"dismissable",value:()=>!1},{kind:"method",key:"render",value:function(){return n.qy` <div class="issue-type ${(0,o.H)({[this.alertType]:!0})}" role="alert"> <div class="icon ${this.title?"":"no-title"}"> <slot name="icon"> <ha-svg-icon .path="${l[this.alertType]}"></ha-svg-icon> </slot> </div> <div class="content"> <div class="main-content"> ${this.title?n.qy`<div class="title">${this.title}</div>`:""} <slot></slot> </div> <div class="action"> <slot name="action"> ${this.dismissable?n.qy`<ha-icon-button @click="${this._dismiss_clicked}" label="Dismiss alert" .path="${"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}"></ha-icon-button>`:""} </slot> </div> </div> </div> `}},{kind:"method",key:"_dismiss_clicked",value:function(){(0,r.r)(this,"alert-dismissed-clicked")}},{kind:"field",static:!0,key:"styles",value:()=>n.AH`.issue-type{position:relative;padding:8px;display:flex}.issue-type::after{position:absolute;top:0;right:0;bottom:0;left:0;opacity:.12;pointer-events:none;content:"";border-radius:4px}.icon{z-index:1}.icon.no-title{align-self:center}.content{display:flex;justify-content:space-between;align-items:center;width:100%;text-align:var(--float-start)}.action{z-index:1;width:min-content;--mdc-theme-primary:var(--primary-text-color)}.main-content{overflow-wrap:anywhere;word-break:break-word;margin-left:8px;margin-right:0;margin-inline-start:8px;margin-inline-end:0}.title{margin-top:2px;font-weight:700}.action ha-icon-button,.action mwc-button{--mdc-theme-primary:var(--primary-text-color);--mdc-icon-button-size:36px}.issue-type.info>.icon{color:var(--info-color)}.issue-type.info::after{background-color:var(--info-color)}.issue-type.warning>.icon{color:var(--warning-color)}.issue-type.warning::after{background-color:var(--warning-color)}.issue-type.error>.icon{color:var(--error-color)}.issue-type.error::after{background-color:var(--error-color)}.issue-type.success>.icon{color:var(--success-color)}.issue-type.success::after{background-color:var(--success-color)}:host ::slotted(ul){margin:0;padding-inline-start:20px}`}]}}),n.WF)},13082:(e,t,i)=>{var a=i(36312),n=i(15112),s=i(77706);(0,a.A)([(0,s.EM)("ha-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)()],key:"header",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean,reflect:!0})],key:"raised",value:()=>!1},{kind:"get",static:!0,key:"styles",value:function(){return n.AH`:host{background:var(--ha-card-background,var(--card-background-color,#fff));-webkit-backdrop-filter:var(--ha-card-backdrop-filter,none);backdrop-filter:var(--ha-card-backdrop-filter,none);box-shadow:var(--ha-card-box-shadow,none);box-sizing:border-box;border-radius:var(--ha-card-border-radius,12px);border-width:var(--ha-card-border-width,1px);border-style:solid;border-color:var(--ha-card-border-color,var(--divider-color,#e0e0e0));color:var(--primary-text-color);display:block;transition:all .3s ease-out;position:relative}:host([raised]){border:none;box-shadow:var(--ha-card-box-shadow,0px 2px 1px -1px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 1px 3px 0px rgba(0,0,0,.12))}.card-header,:host ::slotted(.card-header){color:var(--ha-card-header-color,--primary-text-color);font-family:var(--ha-card-header-font-family, inherit);font-size:var(--ha-card-header-font-size, 24px);letter-spacing:-.012em;line-height:48px;padding:12px 16px 16px;display:block;margin-block-start:0px;margin-block-end:0px;font-weight:400}:host ::slotted(.card-content:not(:first-child)),slot:not(:first-child)::slotted(.card-content){padding-top:0px;margin-top:-8px}:host ::slotted(.card-content){padding:16px}:host ::slotted(.card-actions){border-top:1px solid var(--divider-color,#e8e8e8);padding:5px 16px}`}},{kind:"method",key:"render",value:function(){return n.qy` ${this.header?n.qy`<h1 class="card-header">${this.header}</h1>`:n.s6} <slot></slot> `}}]}}),n.WF)},26207:(e,t,i)=>{var a=i(36312),n=i(68689),s=i(15112),o=i(77706),r=i(13830);(0,a.A)([(0,o.EM)("ha-clickable-list-item")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,o.MZ)()],key:"href",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"disableHref",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean,reflect:!0})],key:"openNewTab",value:()=>!1},{kind:"field",decorators:[(0,o.P)("a")],key:"_anchor",value:void 0},{kind:"method",key:"render",value:function(){const e=(0,n.A)(i,"render",this,3)([]),t=this.href||"";return s.qy`${this.disableHref?s.qy`<a>${e}</a>`:s.qy`<a target="${this.openNewTab?"_blank":""}" href="${t}">${e}</a>`}`}},{kind:"method",key:"firstUpdated",value:function(){(0,n.A)(i,"firstUpdated",this,3)([]),this.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||this._anchor.click()}))}},{kind:"get",static:!0,key:"styles",value:function(){return[(0,n.A)(i,"styles",this),s.AH`a{width:100%;height:100%;display:flex;align-items:center;overflow:hidden}`]}}]}}),r.$)},59400:(e,t,i)=>{var a=i(36312),n=i(15112),s=i(77706),o=i(10296),r=i(94872),l=i(68236),d=i(51842);i(20144);(0,a.A)([(0,s.EM)("ha-domain-icon")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"domain",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"deviceClass",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"icon",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"brandFallback",value:void 0},{kind:"method",key:"render",value:function(){if(this.icon)return n.qy`<ha-icon .icon="${this.icon}"></ha-icon>`;if(!this.domain)return n.s6;if(!this.hass)return this._renderFallback();const e=(0,l._4)(this.hass,this.domain,this.deviceClass).then((e=>e?n.qy`<ha-icon .icon="${e}"></ha-icon>`:this._renderFallback()));return n.qy`${(0,o.T)(e)}`}},{kind:"method",key:"_renderFallback",value:function(){if(this.domain in r.n_)return n.qy` <ha-svg-icon .path="${r.n_[this.domain]}"></ha-svg-icon> `;if(this.brandFallback){const e=(0,d.MR)({domain:this.domain,type:"icon",darkOptimized:this.hass.themes?.darkMode});return n.qy` <img alt="" src="${e}" crossorigin="anonymous" referrerpolicy="no-referrer"> `}return n.qy`<ha-svg-icon .path="${r.lW}"></ha-svg-icon>`}},{kind:"get",static:!0,key:"styles",value:function(){return n.AH`img{width:var(--mdc-icon-size,24px)}`}}]}}),n.WF)},45395:(e,t,i)=>{var a=i(36312),n=i(68689),s=i(46724),o=i(38973),r=i(77706),l=i(15112),d=i(74005);(0,a.A)([(0,r.EM)("ha-fab")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"method",key:"firstUpdated",value:function(e){(0,n.A)(i,"firstUpdated",this,3)([e]),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}},{kind:"field",static:!0,key:"styles",value:()=>[o.R,l.AH`:host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}`,"rtl"===d.G.document.dir?l.AH`:host .mdc-fab--extended .mdc-fab__icon{direction:rtl}`:l.AH``]}]}}),s.n)},27620:(e,t,i)=>{var a=i(36312),n=(i(253),i(2075),i(15112)),s=i(77706),o=i(66066),r=i(94100),l=i(34897),d=i(2682),c=i(46092),h=i(55321);i(59400),i(61391);(0,a.A)([(0,s.EM)("ha-filter-integrations")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"value",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean,reflect:!0})],key:"expanded",value:()=>!1},{kind:"field",decorators:[(0,s.wk)()],key:"_manifests",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_shouldRender",value:()=>!1},{kind:"field",decorators:[(0,s.wk)()],key:"_filter",value:void 0},{kind:"method",key:"render",value:function(){return n.qy` <ha-expansion-panel leftChevron .expanded="${this.expanded}" @expanded-will-change="${this._expandedWillChange}" @expanded-changed="${this._expandedChanged}"> <div slot="header" class="header"> ${this.hass.localize("ui.panel.config.integrations.caption")} ${this.value?.length?n.qy`<div class="badge">${this.value?.length}</div> <ha-icon-button .path="${"M21 8H3V6H21V8M13.81 16H10V18H13.09C13.21 17.28 13.46 16.61 13.81 16M18 11H6V13H18V11M21.12 15.46L19 17.59L16.88 15.46L15.47 16.88L17.59 19L15.47 21.12L16.88 22.54L19 20.41L21.12 22.54L22.54 21.12L20.41 19L22.54 16.88L21.12 15.46Z"}" @click="${this._clearFilter}"></ha-icon-button>`:n.s6} </div> ${this._manifests&&this._shouldRender?n.qy`<search-input-outlined .hass="${this.hass}" .filter="${this._filter}" @value-changed="${this._handleSearchChange}"> </search-input-outlined> <mwc-list class="ha-scrollbar" @click="${this._handleItemClick}" multi> ${(0,o.u)(this._integrations(this._manifests,this._filter,this.value),(e=>e.domain),(e=>n.qy`<ha-check-list-item .value="${e.domain}" .selected="${(this.value||[]).includes(e.domain)}" graphic="icon"> <ha-domain-icon slot="graphic" .hass="${this.hass}" .domain="${e.domain}" brandFallback></ha-domain-icon> ${e.name||e.domain} </ha-check-list-item>`))} </mwc-list> `:n.s6} </ha-expansion-panel> `}},{kind:"method",key:"updated",value:function(e){e.has("expanded")&&this.expanded&&setTimeout((()=>{this.expanded&&(this.renderRoot.querySelector("mwc-list").style.height=this.clientHeight-49-32+"px")}),300)}},{kind:"method",key:"_expandedWillChange",value:function(e){this._shouldRender=e.detail.expanded}},{kind:"method",key:"_expandedChanged",value:function(e){this.expanded=e.detail.expanded}},{kind:"method",key:"firstUpdated",value:async function(){this._manifests=await(0,c.fK)(this.hass)}},{kind:"field",key:"_integrations",value(){return(0,r.A)(((e,t,i)=>e.filter((e=>(!e.integration_type||!["entity","system","hardware"].includes(e.integration_type))&&(!t||e.name.toLowerCase().includes(t)||e.domain.toLowerCase().includes(t)))).sort(((e,t)=>(0,d.x)(e.name||e.domain,t.name||t.domain,this.hass.locale.language)))))}},{kind:"method",key:"_handleItemClick",value:function(e){const t=e.target.closest("ha-check-list-item"),i=t?.value;i&&(this.value?.includes(i)?this.value=this.value?.filter((e=>e!==i)):this.value=[...this.value||[],i],t.selected=this.value?.includes(i),(0,l.r)(this,"data-table-filter-changed",{value:this.value,items:void 0}))}},{kind:"method",key:"_clearFilter",value:function(e){e.preventDefault(),this.value=void 0,(0,l.r)(this,"data-table-filter-changed",{value:void 0,items:void 0})}},{kind:"method",key:"_handleSearchChange",value:function(e){this._filter=e.detail.value.toLowerCase()}},{kind:"get",static:!0,key:"styles",value:function(){return[h.dp,n.AH`:host{border-bottom:1px solid var(--divider-color)}:host([expanded]){flex:1;height:0}ha-expansion-panel{--ha-card-border-radius:0;--expansion-panel-content-padding:0}.header{display:flex;align-items:center}.header ha-icon-button{margin-inline-start:auto;margin-inline-end:8px}.badge{display:inline-block;margin-left:8px;margin-inline-start:8px;margin-inline-end:0;min-width:16px;box-sizing:border-box;border-radius:50%;font-weight:400;font-size:11px;background-color:var(--primary-color);line-height:16px;text-align:center;padding:0px 2px;color:var(--text-primary-color)}search-input-outlined{display:block;padding:0 8px}`]}}]}}),n.WF)},68741:(e,t,i)=>{var a=i(36312),n=(i(89655),i(253),i(94438),i(16891),i(15112)),s=i(77706),o=i(34897),r=i(55321);i(98515),i(15720),i(20144);(0,a.A)([(0,s.EM)("ha-filter-states")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"value",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"states",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean,reflect:!0})],key:"expanded",value:()=>!1},{kind:"field",decorators:[(0,s.wk)()],key:"_shouldRender",value:()=>!1},{kind:"method",key:"render",value:function(){if(!this.states)return n.s6;const e=this.states.find((e=>e.icon));return n.qy` <ha-expansion-panel leftChevron .expanded="${this.expanded}" @expanded-will-change="${this._expandedWillChange}" @expanded-changed="${this._expandedChanged}"> <div slot="header" class="header"> ${this.label} ${this.value?.length?n.qy`<div class="badge">${this.value?.length}</div> <ha-icon-button .path="${"M21 8H3V6H21V8M13.81 16H10V18H13.09C13.21 17.28 13.46 16.61 13.81 16M18 11H6V13H18V11M21.12 15.46L19 17.59L16.88 15.46L15.47 16.88L17.59 19L15.47 21.12L16.88 22.54L19 20.41L21.12 22.54L22.54 21.12L20.41 19L22.54 16.88L21.12 15.46Z"}" @click="${this._clearFilter}"></ha-icon-button>`:n.s6} </div> ${this._shouldRender?n.qy` <mwc-list @selected="${this._statesSelected}" multi class="ha-scrollbar"> ${this.states.map((t=>n.qy`<ha-check-list-item .value="${t.value}" .selected="${this.value?.includes(t.value)??!1}" .graphic="${e?"icon":null}"> ${t.icon?n.qy`<ha-icon slot="graphic" .icon="${t.icon}"></ha-icon>`:n.s6} ${t.label} </ha-check-list-item>`))} </mwc-list> `:n.s6} </ha-expansion-panel> `}},{kind:"method",key:"updated",value:function(e){e.has("expanded")&&this.expanded&&setTimeout((()=>{this.expanded&&(this.renderRoot.querySelector("mwc-list").style.height=this.clientHeight-49+"px")}),300)}},{kind:"method",key:"_expandedWillChange",value:function(e){this._shouldRender=e.detail.expanded}},{kind:"method",key:"_expandedChanged",value:function(e){this.expanded=e.detail.expanded}},{kind:"method",key:"_statesSelected",value:async function(e){if(!e.detail.index.size)return(0,o.r)(this,"data-table-filter-changed",{value:[],items:void 0}),void(this.value=[]);const t=[];for(const i of e.detail.index){const e=this.states[i].value;t.push(e)}this.value=t,(0,o.r)(this,"data-table-filter-changed",{value:t,items:void 0})}},{kind:"method",key:"_clearFilter",value:function(e){e.preventDefault(),this.value=void 0,(0,o.r)(this,"data-table-filter-changed",{value:void 0,items:void 0})}},{kind:"get",static:!0,key:"styles",value:function(){return[r.dp,n.AH`:host{border-bottom:1px solid var(--divider-color)}:host([expanded]){flex:1;height:0}ha-expansion-panel{--ha-card-border-radius:0;--expansion-panel-content-padding:0}.header{display:flex;align-items:center}.header ha-icon-button{margin-inline-start:auto;margin-inline-end:8px}.badge{display:inline-block;margin-left:8px;margin-inline-start:8px;margin-inline-end:0;min-width:16px;box-sizing:border-box;border-radius:50%;font-weight:400;font-size:11px;background-color:var(--primary-color);line-height:16px;text-align:center;padding:0px 2px;color:var(--text-primary-color)}`]}}]}}),n.WF)},46163:(e,t,i)=>{i.r(t),i.d(t,{HaIconNext:()=>r});var a=i(36312),n=i(77706),s=i(74005),o=i(88400);let r=(0,a.A)([(0,n.EM)("ha-icon-next")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,n.MZ)()],key:"path",value:()=>"rtl"===s.G.document.dir?"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z":"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"}]}}),o.HaSvgIcon)},70857:(e,t,i)=>{var a=i(36312),n=i(15112),s=i(77706),o=i(10296),r=i(94872),l=i(65459),d=i(68236);i(20144),i(88400);(0,a.A)([(0,s.EM)("ha-state-icon")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"stateObj",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"stateValue",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"icon",value:void 0},{kind:"method",key:"render",value:function(){const e=this.icon||this.stateObj&&this.hass?.entities[this.stateObj.entity_id]?.icon||this.stateObj?.attributes.icon;if(e)return n.qy`<ha-icon .icon="${e}"></ha-icon>`;if(!this.stateObj)return n.s6;if(!this.hass)return this._renderFallback();const t=(0,d.fq)(this.hass,this.stateObj,this.stateValue).then((e=>e?n.qy`<ha-icon .icon="${e}"></ha-icon>`:this._renderFallback()));return n.qy`${(0,o.T)(t)}`}},{kind:"method",key:"_renderFallback",value:function(){const e=(0,l.t)(this.stateObj);return n.qy` <ha-svg-icon .path="${r.n_[e]||r.lW}"></ha-svg-icon> `}}]}}),n.WF)},72418:(e,t,i)=>{var a=i(36312),n=i(68689),s=i(19346),o=i(15112),r=i(77706);(0,a.A)([(0,r.EM)("ha-sub-menu")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"method",key:"show",value:async function(){(0,n.A)(i,"show",this,3)([]),this.menu.hasOverflow=!1}},{kind:"field",static:!0,key:"styles",value(){return[...(0,n.A)(i,"styles",this),o.AH`:host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color);--md-sys-color-secondary-container:rgba(
          var(--rgb-primary-color),
          0.15
        );--md-sys-color-on-secondary-container:var(--text-primary-color);--mdc-icon-size:16px;--md-sys-color-on-primary-container:var(--primary-text-color);--md-sys-color-on-secondary-container:var(--primary-text-color)}`]}}]}}),s.b)},19657:(e,t,i)=>{i.d(t,{KC:()=>h,Vy:()=>d,ds:()=>o,ew:()=>l,g5:()=>c,tl:()=>r});var a=i(42496),n=i(9883);let s=function(e){return e[e.ANNOUNCE=1]="ANNOUNCE",e}({});const o=(e,t,i)=>e.connection.subscribeMessage(i,{type:"assist_satellite/intercept_wake_word",entity_id:t}),r=(e,t)=>e.callWS({type:"assist_satellite/test_connection",entity_id:t}),l=(e,t,i)=>e.callService("assist_satellite","announce",{message:i},{entity_id:t}),d=(e,t)=>e.callWS({type:"assist_satellite/get_configuration",entity_id:t}),c=(e,t,i)=>e.callWS({type:"assist_satellite/set_wake_words",entity_id:t,wake_word_ids:i}),h=e=>e&&e.state!==n.Hh&&(0,a.$)(e,s.ANNOUNCE)},94526:(e,t,i)=>{i.d(t,{Fy:()=>s,Gk:()=>l,Hg:()=>a,Y_:()=>d,ds:()=>r,e0:()=>n,ec:()=>o});i(16891);const a=e=>e.map((e=>{if("string"!==e.type)return e;switch(e.name){case"username":return{...e,autocomplete:"username"};case"password":return{...e,autocomplete:"current-password"};case"code":return{...e,autocomplete:"one-time-code"};default:return e}})),n=(e,t)=>e.callWS({type:"auth/sign_path",path:t}),s=async(e,t,i,a)=>e.callWS({type:"config/auth_provider/homeassistant/create",user_id:t,username:i,password:a}),o=(e,t,i)=>e.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:t,new_password:i}),r=(e,t,i)=>e.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:t,password:i}),l=(e,t,i)=>e.callWS({type:"config/auth_provider/homeassistant/admin_change_username",user_id:t,username:i}),d=(e,t,i)=>e.callWS({type:"auth/delete_all_refresh_tokens",token_type:t,delete_current_token:i})},31265:(e,t,i)=>{i.d(t,{JW:()=>m,TC:()=>s,VN:()=>o,Vx:()=>r,XQ:()=>h,eM:()=>d,iH:()=>l,k3:()=>u,m4:()=>a,qf:()=>n,yv:()=>c});i(253),i(2075),i(94438);const a=["migration_error","setup_error","setup_retry"],n=["not_loaded","loaded","setup_error","setup_retry"],s=(e,t,i)=>{const a={type:"config_entries/subscribe"};return i&&i.type&&(a.type_filter=i.type),e.connection.subscribeMessage((e=>t(e)),a)},o=(e,t)=>{const i={};return t&&(t.type&&(i.type_filter=t.type),t.domain&&(i.domain=t.domain)),e.callWS({type:"config_entries/get",...i})},r=(e,t)=>e.callWS({type:"config_entries/get_single",entry_id:t}),l=(e,t,i)=>e.callWS({type:"config_entries/update",entry_id:t,...i}),d=(e,t)=>e.callApi("DELETE",`config/config_entries/entry/${t}`),c=(e,t)=>e.callApi("POST",`config/config_entries/entry/${t}/reload`),h=(e,t)=>e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:"user"}),u=(e,t)=>e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:null}),m=(e,t)=>{if(!t)return e;const i=e.find((e=>e.entry_id===t));if(!i)return e;return[i,...e.filter((e=>e.entry_id!==t))]}},98041:(e,t,i)=>{i.d(t,{Al:()=>r,KY:()=>o,PN:()=>c,RM:()=>v,dG:()=>u,jm:()=>h,m7:()=>_,sR:()=>m,t1:()=>d,t2:()=>p,x:()=>y,yu:()=>g});var a=i(88444),n=i(18409),s=i(46092);const o=["bluetooth","dhcp","discovery","hardware","hassio","homekit","integration_discovery","mqtt","ssdp","unignore","usb","zeroconf"],r=["reauth"],l={"HA-Frontend-Base":`${location.protocol}//${location.host}`},d=(e,t,i)=>e.callApi("POST","config/config_entries/flow",{handler:t,show_advanced_options:Boolean(e.userData?.showAdvanced),entry_id:i},l),c=(e,t)=>e.callApi("GET",`config/config_entries/flow/${t}`,void 0,l),h=(e,t,i)=>e.callApi("POST",`config/config_entries/flow/${t}`,i,l),u=(e,t,i)=>e.callWS({type:"config_entries/ignore_flow",flow_id:t,title:i}),m=(e,t)=>e.callApi("DELETE",`config/config_entries/flow/${t}`),g=(e,t)=>e.callApi("GET","config/config_entries/flow_handlers"+(t?`?type=${t}`:"")),p=e=>e.sendMessagePromise({type:"config_entries/flow/progress"}),f=(e,t)=>e.subscribeEvents((0,n.s)((()=>p(e).then((e=>t.setState(e,!0)))),500,!0),"config_entry_discovered"),v=e=>(0,a.X)(e,"_configFlowProgress",p,f),y=(e,t)=>v(e.connection).subscribe(t),_=(e,t)=>t.context.title_placeholders&&0!==Object.keys(t.context.title_placeholders).length?e(`component.${t.handler}.config.flow_title`,t.context.title_placeholders)||("name"in t.context.title_placeholders?t.context.title_placeholders.name:(0,s.p$)(e,t.handler)):(0,s.p$)(e,t.handler)},92119:(e,t,i)=>{i.d(t,{D:()=>n,i:()=>a});i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435),i(253),i(54846);const a=e=>{const t={};return Object.entries(e).forEach((([e,i])=>{t[e]={value:i.value,items:i.items instanceof Set?Array.from(i.items):i.items}})),t},n=e=>{const t={};return Object.entries(e).forEach((([e,i])=>{t[e]={value:i.value,items:Array.isArray(i.items)?new Set(i.items):i.items}})),t}},13494:(e,t,i)=>{i.d(t,{Dh:()=>a,It:()=>o,WV:()=>s,g9:()=>n});const a=e=>e.callWS({type:"diagnostics/list"}),n=(e,t)=>e.callWS({type:"diagnostics/get",domain:t}),s=e=>`/api/diagnostics/config_entry/${e}`,o=(e,t)=>`/api/diagnostics/config_entry/${e}/device/${t}`},9883:(e,t,i)=>{i.d(t,{HV:()=>s,Hh:()=>n,KF:()=>r,ON:()=>o,g0:()=>c,s7:()=>l});var a=i(99890);const n="unavailable",s="unknown",o="on",r="off",l=[n,s],d=[n,s,r],c=(0,a.g)(l);(0,a.g)(d)},19611:(e,t,i)=>{i.d(t,{O:()=>a,s:()=>n});const a=e=>e.callWS({type:"integration/descriptions"}),n=(e,t)=>{if(e){if(t in e){const i=e[t];if("integration_type"in i)return i}for(const i of Object.values(e))if("integrations"in i&&i.integrations&&t in i.integrations)return i.integrations[t]}}},50118:(e,t,i)=>{function a(e){return"strategy"in e}i.d(t,{Dz:()=>n,Wu:()=>a,io:()=>o,ql:()=>s});const n=(e,t,i)=>e.sendMessagePromise({type:"lovelace/config",url_path:t,force:i}),s=(e,t,i)=>e.callWS({type:"lovelace/config/save",url_path:t,config:i}),o=(e,t)=>e.callWS({type:"lovelace/config/delete",url_path:t})},57216:(e,t,i)=>{i.d(t,{A_:()=>o,SJ:()=>a,mQ:()=>s,n6:()=>n});const a=e=>e.callWS({type:"lovelace/dashboards/list"}),n=(e,t)=>e.callWS({type:"lovelace/dashboards/create",...t}),s=(e,t,i)=>e.callWS({type:"lovelace/dashboards/update",dashboard_id:t,...i}),o=(e,t)=>e.callWS({type:"lovelace/dashboards/delete",dashboard_id:t})},33257:(e,t,i)=>{i.d(t,{IP:()=>a,Iu:()=>h,J_:()=>s,O9:()=>r,b$:()=>d,bH:()=>o,c8:()=>c,wi:()=>l});i(253),i(94438);const a="custom:",n=window;"customCards"in n||(n.customCards=[]),"customCardFeatures"in n||(n.customCardFeatures=[]),"customBadges"in n||(n.customBadges=[]),"customTileFeatures"in n||(n.customTileFeatures=[]);const s=n.customCards,o=()=>[...n.customCardFeatures,...n.customTileFeatures],r=n.customBadges,l=e=>s.find((t=>t.type===e)),d=e=>r.find((t=>t.type===e)),c=e=>e.startsWith(a),h=e=>e.slice(a.length)},30581:(e,t,i)=>{i.d(t,{W:()=>r});var a=i(15112),n=i(98041),s=i(46092),o=i(41572);const r=(e,t)=>(0,o.g)(e,t,{flowType:"config_flow",loadDevicesAndAreas:!0,createFlow:async(e,i)=>{const[a]=await Promise.all([(0,n.t1)(e,i,t.entryId),e.loadFragmentTranslation("config"),e.loadBackendTranslation("config",i),e.loadBackendTranslation("selector",i),e.loadBackendTranslation("title",i)]);return a},fetchFlow:async(e,t)=>{const i=await(0,n.PN)(e,t);return await e.loadFragmentTranslation("config"),await e.loadBackendTranslation("config",i.handler),await e.loadBackendTranslation("selector",i.handler),i},handleFlowStep:n.jm,deleteFlow:n.sR,renderAbortDescription(e,t){const i=e.localize(`component.${t.translation_domain||t.handler}.config.abort.${t.reason}`,t.description_placeholders);return i?a.qy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:t.reason},renderShowFormStepHeader:(e,t)=>e.localize(`component.${t.translation_domain||t.handler}.config.step.${t.step_id}.title`,t.description_placeholders)||e.localize(`component.${t.handler}.title`),renderShowFormStepDescription(e,t){const i=e.localize(`component.${t.translation_domain||t.handler}.config.step.${t.step_id}.description`,t.description_placeholders);return i?a.qy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""},renderShowFormStepFieldLabel(e,t,i,a){if("expandable"===i.type)return e.localize(`component.${t.handler}.config.step.${t.step_id}.sections.${i.name}.name`);const n=a?.path?.[0]?`sections.${a.path[0]}.`:"";return e.localize(`component.${t.handler}.config.step.${t.step_id}.${n}data.${i.name}`)||i.name},renderShowFormStepFieldHelper(e,t,i,n){if("expandable"===i.type)return e.localize(`component.${t.translation_domain||t.handler}.config.step.${t.step_id}.sections.${i.name}.description`);const s=n?.path?.[0]?`sections.${n.path[0]}.`:"",o=e.localize(`component.${t.translation_domain||t.handler}.config.step.${t.step_id}.${s}data_description.${i.name}`,t.description_placeholders);return o?a.qy`<ha-markdown breaks .content="${o}"></ha-markdown>`:""},renderShowFormStepFieldError:(e,t,i)=>e.localize(`component.${t.translation_domain||t.translation_domain||t.handler}.config.error.${i}`,t.description_placeholders)||i,renderShowFormStepFieldLocalizeValue:(e,t,i)=>e.localize(`component.${t.handler}.selector.${i}`),renderShowFormStepSubmitButton:(e,t)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.submit`)||e.localize("ui.panel.config.integrations.config_flow."+(!1===t.last_step?"next":"submit")),renderExternalStepHeader:(e,t)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.title`)||e.localize("ui.panel.config.integrations.config_flow.external_step.open_site"),renderExternalStepDescription(e,t){const i=e.localize(`component.${t.translation_domain||t.handler}.config.${t.step_id}.description`,t.description_placeholders);return a.qy` <p> ${e.localize("ui.panel.config.integrations.config_flow.external_step.description")} </p> ${i?a.qy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""} `},renderCreateEntryDescription(e,t){const i=e.localize(`component.${t.translation_domain||t.handler}.config.create_entry.${t.description||"default"}`,t.description_placeholders);return a.qy` ${i?a.qy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""} <p> ${e.localize("ui.panel.config.integrations.config_flow.created_config",{name:t.title})} </p> `},renderShowFormProgressHeader:(e,t)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.title`)||e.localize(`component.${t.handler}.title`),renderShowFormProgressDescription(e,t){const i=e.localize(`component.${t.translation_domain||t.handler}.config.progress.${t.progress_action}`,t.description_placeholders);return i?a.qy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""},renderMenuHeader:(e,t)=>e.localize(`component.${t.handler}.config.step.${t.step_id}.title`)||e.localize(`component.${t.handler}.title`),renderMenuDescription(e,t){const i=e.localize(`component.${t.translation_domain||t.handler}.config.step.${t.step_id}.description`,t.description_placeholders);return i?a.qy` <ha-markdown allowsvg breaks .content="${i}"></ha-markdown> `:""},renderMenuOption:(e,t,i)=>e.localize(`component.${t.translation_domain||t.handler}.config.step.${t.step_id}.menu_options.${i}`,t.description_placeholders),renderLoadingDescription(e,t,i,a){if("loading_flow"!==t&&"loading_step"!==t)return"";const n=a?.handler||i;return e.localize(`ui.panel.config.integrations.config_flow.loading.${t}`,{integration:n?(0,s.p$)(e.localize,n):e.localize("ui.panel.config.integrations.config_flow.loading.fallback_title")})}})},41572:(e,t,i)=>{i.d(t,{g:()=>s});var a=i(34897);const n=()=>Promise.all([i.e(94131),i.e(14121),i.e(10963),i.e(40319),i.e(15313),i.e(89059),i.e(82054),i.e(55792),i.e(78162)]).then(i.bind(i,78162)),s=(e,t,i)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-data-entry-flow",dialogImport:n,dialogParams:{...t,flowConfig:i,dialogParentElement:e}})}},93585:(e,t,i)=>{i.d(t,{L:()=>s});var a=i(34897);const n=()=>Promise.all([i.e(63893),i.e(23766),i.e(14691),i.e(29654),i.e(31572),i.e(24500),i.e(16882),i.e(16919),i.e(69810),i.e(12675),i.e(94872),i.e(57162),i.e(51615)]).then(i.bind(i,43029)),s=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"ha-voice-assistant-setup-dialog",dialogImport:n,dialogParams:t})}},29832:(e,t,i)=>{i.r(t);var a=i(36312),n=(i(72606),i(15112)),s=i(77706);i(45346),i(11804),i(13292);(0,a.A)([(0,s.EM)("hass-error-screen")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"toolbar",value:()=>!0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"rootnav",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)()],key:"error",value:void 0},{kind:"method",key:"render",value:function(){return n.qy` ${this.toolbar?n.qy`<div class="toolbar"> ${this.rootnav||history.state?.root?n.qy` <ha-menu-button .hass="${this.hass}" .narrow="${this.narrow}"></ha-menu-button> `:n.qy` <ha-icon-button-arrow-prev .hass="${this.hass}" @click="${this._handleBack}"></ha-icon-button-arrow-prev> `} </div>`:""} <div class="content"> <ha-alert alert-type="error">${this.error}</ha-alert> <slot> <mwc-button @click="${this._handleBack}"> ${this.hass?.localize("ui.common.back")} </mwc-button> </slot> </div> `}},{kind:"method",key:"_handleBack",value:function(){history.back()}},{kind:"get",static:!0,key:"styles",value:function(){return[n.AH`:host{display:block;height:100%;background-color:var(--primary-background-color)}.toolbar{display:flex;align-items:center;font-size:20px;height:var(--header-height);padding:8px 12px;pointer-events:none;background-color:var(--app-header-background-color);font-weight:400;color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}ha-icon-button-arrow-prev{pointer-events:auto}.content{color:var(--primary-text-color);height:calc(100% - var(--header-height));display:flex;padding:16px;align-items:center;justify-content:center;flex-direction:column;box-sizing:border-box}a{color:var(--primary-color)}ha-alert{margin-bottom:16px}`]}}]}}),n.WF)},77980:(e,t,i)=>{var a=i(36312),n=i(15112),s=i(77706),o=i(37456),r=(i(45346),i(11804),i(55321));(0,a.A)([(0,s.EM)("hass-subpage")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"header",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean,attribute:"main-page"})],key:"mainPage",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:String,attribute:"back-path"})],key:"backPath",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"backCallback",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"supervisor",value:()=>!1},{kind:"field",decorators:[(0,o.a)(".content")],key:"_savedScrollPos",value:void 0},{kind:"method",key:"render",value:function(){return n.qy` <div class="toolbar"> ${this.mainPage||history.state?.root?n.qy` <ha-menu-button .hassio="${this.supervisor}" .hass="${this.hass}" .narrow="${this.narrow}"></ha-menu-button> `:this.backPath?n.qy` <a href="${this.backPath}"> <ha-icon-button-arrow-prev .hass="${this.hass}"></ha-icon-button-arrow-prev> </a> `:n.qy` <ha-icon-button-arrow-prev .hass="${this.hass}" @click="${this._backTapped}"></ha-icon-button-arrow-prev> `} <div class="main-title"><slot name="header">${this.header}</slot></div> <slot name="toolbar-icon"></slot> </div> <div class="content ha-scrollbar" @scroll="${this._saveScrollPos}"> <slot></slot> </div> <div id="fab"> <slot name="fab"></slot> </div> `}},{kind:"method",decorators:[(0,s.Ls)({passive:!0})],key:"_saveScrollPos",value:function(e){this._savedScrollPos=e.target.scrollTop}},{kind:"method",key:"_backTapped",value:function(){this.backCallback?this.backCallback():history.back()}},{kind:"get",static:!0,key:"styles",value:function(){return[r.dp,n.AH`:host{display:block;height:100%;background-color:var(--primary-background-color);overflow:hidden;position:relative}:host([narrow]){width:100%;position:fixed}.toolbar{display:flex;align-items:center;font-size:20px;height:var(--header-height);padding:8px 12px;background-color:var(--app-header-background-color);font-weight:400;color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}.toolbar a{color:var(--sidebar-text-color);text-decoration:none}::slotted([slot=toolbar-icon]),ha-icon-button-arrow-prev,ha-menu-button{pointer-events:auto;color:var(--sidebar-icon-color)}.main-title{margin:var(--margin-title);line-height:20px;flex-grow:1}.content{position:relative;width:100%;height:calc(100% - 1px - var(--header-height));overflow-y:auto;overflow:auto;-webkit-overflow-scrolling:touch}#fab{position:absolute;right:calc(16px + env(safe-area-inset-right));inset-inline-end:calc(16px + env(safe-area-inset-right));inset-inline-start:initial;bottom:calc(16px + env(safe-area-inset-bottom));z-index:1;display:flex;flex-wrap:wrap;justify-content:flex-end;gap:8px}:host([narrow]) #fab.tabs{bottom:calc(84px + env(safe-area-inset-bottom))}#fab[is-wide]{bottom:24px;right:24px;inset-inline-end:24px;inset-inline-start:initial}`]}}]}}),n.WF)},47293:(e,t,i)=>{i.d(t,{E:()=>n,J:()=>s});var a=i(34897);const n=()=>Promise.all([i.e(94131),i.e(14121),i.e(63893),i.e(10963),i.e(40319),i.e(15313),i.e(16882),i.e(71893),i.e(89059),i.e(70993),i.e(55792),i.e(30225),i.e(66680),i.e(84129)]).then(i.bind(i,38929)),s=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-area-registry-detail",dialogImport:n,dialogParams:t})}},36202:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(36312),n=(i(89655),i(253),i(2075),i(54846),i(16891),i(63893),i(15112)),s=i(77706),o=i(10296),r=i(19244),l=i(7127),d=(i(13082),i(20144),i(13830),i(94929)),c=i(68236),h=i(51243),u=i(31271),m=i(7950),g=i(45657),p=e([u]);u=(p.then?(await p)():p)[0];(0,a.A)([(0,s.EM)("ha-device-entities-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)()],key:"header",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"deviceName",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"entities",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"showHidden",value:()=>!1},{kind:"field",decorators:[(0,s.wk)()],key:"_extDisabledEntityEntries",value:void 0},{kind:"field",key:"_entityRows",value:()=>[]},{kind:"method",key:"shouldUpdate",value:function(e){return!e.has("hass")||1!==e.size||(this._entityRows.forEach((e=>{e.hass=this.hass})),!1)}},{kind:"method",key:"render",value:function(){if(!this.entities.length)return n.qy` <ha-card outlined .header="${this.header}"> <div class="empty card-content"> ${this.hass.localize("ui.panel.config.devices.entities.none")} </div> </ha-card> `;const e=[],t=[];return this._entityRows=[],this.entities.forEach((i=>{i.disabled_by?this._extDisabledEntityEntries?t.push(this._extDisabledEntityEntries[i.entity_id]||i):t.push(i):e.push(i)})),n.qy` <ha-card outlined .header="${this.header}"> <div id="entities"> <mwc-list> ${e.map((e=>this.hass.states[e.entity_id]?this._renderEntity(e):this._renderEntry(e)))} </mwc-list> </div> ${t.length?this.showHidden?n.qy` <mwc-list> ${t.map((e=>this._renderEntry(e)))} </mwc-list> <button class="show-more" @click="${this._toggleShowHidden}"> ${this.hass.localize("ui.panel.config.devices.entities.show_less")} </button> `:n.qy` <button class="show-more" @click="${this._toggleShowHidden}"> ${this.hass.localize("ui.panel.config.devices.entities.hidden_entities",{count:t.length})} </button> `:""} <div class="card-actions"> <mwc-button @click="${this._addToLovelaceView}"> ${this.hass.localize("ui.panel.config.devices.entities.add_entities_lovelace")} </mwc-button> </div> </ha-card> `}},{kind:"method",key:"_toggleShowHidden",value:function(){if(this.showHidden=!this.showHidden,!this.showHidden||void 0!==this._extDisabledEntityEntries)return;this._extDisabledEntityEntries={};const e=this.entities.filter((e=>e.disabled_by)),t=async()=>{if(0===e.length)return;const i=e.pop().entity_id,a=await(0,d.v)(this.hass,i);this._extDisabledEntityEntries[i]=a,this.requestUpdate("_extDisabledEntityEntries"),t()};t(),t(),t()}},{kind:"method",key:"_renderEntity",value:function(e){const t={entity:e.entity_id},i=(0,u.T)(t);if(this.hass){i.hass=this.hass;const a=this.hass.states[e.entity_id];let n=e.name?(0,l.p)(e.name,this.deviceName.toLowerCase()):e.has_entity_name?e.original_name||this.deviceName:(0,l.p)((0,r.u)(a),this.deviceName.toLowerCase());n||(n=(0,r.u)(a)),e.hidden_by&&(n+=` (${this.hass.localize("ui.panel.config.devices.entities.hidden")})`),t.name=n}return i.entry=e,this._entityRows.push(i),n.qy` <div>${i}</div> `}},{kind:"method",key:"_renderEntry",value:function(e){const t=e.stateName||e.name||e.original_name,i=(0,o.T)((0,c.u7)(this.hass,e));return n.qy` <ha-list-item graphic="icon" class="disabled-entry" .entry="${e}" @click="${this._openEditEntry}"> <ha-icon slot="graphic" .icon="${i}"></ha-icon> <div class="name"> ${t?(0,l.p)(t,this.deviceName.toLowerCase())||t:e.entity_id} </div> </ha-list-item> `}},{kind:"method",key:"_openEditEntry",value:function(e){const t=e.currentTarget.entry;(0,h.p)(this,{entityId:t.entity_id})}},{kind:"method",key:"_addToLovelaceView",value:function(){const e=this.entities.filter((e=>!e.disabled_by)).map((e=>e.entity_id));(0,m.Q)(this,this.hass,(0,g.Bi)(this.hass.states,e,{title:this.deviceName}),(0,g.ZI)(e,{title:this.deviceName}),e)}},{kind:"get",static:!0,key:"styles",value:function(){return n.AH`:host{display:block}ha-icon{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial}.entity-id{color:var(--secondary-text-color)}.buttons{text-align:right;margin:0 0 0 8px}.disabled-entry{color:var(--secondary-text-color)}#entities{margin-top:-24px}#entities>*{margin:8px 16px 8px 8px}#entities>paper-icon-item{margin:0}paper-icon-item{min-height:40px;padding:0 16px;cursor:pointer;--paper-item-icon-width:48px}.name{font-size:14px}.empty{text-align:center}button.show-more{color:var(--primary-color);text-align:left;cursor:pointer;background:0 0;border-width:initial;border-style:none;border-color:initial;border-image:initial;padding:16px;font:inherit}button.show-more:focus{outline:0;text-decoration:underline}`}}]}}),n.WF);t()}catch(e){t(e)}}))},65971:(e,t,i)=>{var a=i(36312),n=(i(253),i(2075),i(16891),i(15112)),s=i(77706),o=i(57888),r=(i(13082),i(10725)),l=i(55321);(0,a.A)([(0,s.EM)("ha-device-info-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"device",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"method",key:"render",value:function(){return n.qy` <ha-card outlined .header="${this.hass.localize("ui.panel.config.devices.device_info",{type:this.hass.localize(`ui.panel.config.devices.type.${this.device.entry_type||"device"}_heading`)})}"> <div class="card-content"> ${this.device.model?n.qy`<div class="model"> ${this.device.model} ${this.device.model_id?n.qy`(${this.device.model_id})`:""} </div>`:this.device.model_id?n.qy`<div class="model">${this.device.model_id}</div>`:""} ${this.device.manufacturer?n.qy` <div class="manuf"> ${this.hass.localize("ui.panel.config.integrations.config_entry.manuf",{manufacturer:this.device.manufacturer})} </div> `:""} ${this.device.via_device_id?n.qy` <div class="extra-info"> ${this.hass.localize("ui.panel.config.integrations.config_entry.via")} <span class="hub"><a href="/config/devices/device/${this.device.via_device_id}">${this._computeDeviceName(this.device.via_device_id)}</a></span> </div> `:""} ${this.device.sw_version?n.qy` <div class="extra-info"> ${this.hass.localize("ui.panel.config.integrations.config_entry."+("service"!==this.device.entry_type||this.device.hw_version?"firmware":"version"),{version:this.device.sw_version})} </div> `:""} ${this.device.hw_version?n.qy` <div class="extra-info"> ${this.hass.localize("ui.panel.config.integrations.config_entry.hardware",{version:this.device.hw_version})} </div> `:""} ${this.device.serial_number?n.qy` <div class="extra-info"> ${this.hass.localize("ui.panel.config.integrations.config_entry.serial_number",{serial_number:this.device.serial_number})} </div> `:""} ${this._getAddresses().map((([e,t])=>n.qy` <div class="extra-info"> ${"mac"===e?"MAC":(0,o.n)(e)}: ${t.toUpperCase()} </div> `))} <slot></slot> </div> <slot name="actions"></slot> </ha-card> `}},{kind:"method",key:"_getAddresses",value:function(){return this.device.connections.filter((e=>"mac"===e[0]||"bluetooth"===e[0]))}},{kind:"method",key:"_computeDeviceName",value:function(e){const t=this.hass.devices[e];return t?(0,r.xn)(t,this.hass):`<${this.hass.localize("ui.panel.config.integrations.config_entry.unknown_via_device")}>`}},{kind:"get",static:!0,key:"styles",value:function(){return[l.RF,n.AH`:host{display:block}ha-card{flex:1 0 100%;min-width:0}.device{width:30%}.extra-info{margin-top:8px;word-wrap:break-word}.manuf,.model{color:var(--secondary-text-color);word-wrap:break-word}`]}}]}}),n.WF)},49995:(e,t,i)=>{var a=i(36312),n=(i(253),i(2075),i(16891),i(67056),i(15112)),s=i(77706),o=i(94100),r=i(2682),l=(i(13082),i(46163),i(10725));(0,a.A)([(0,s.EM)("ha-device-via-devices-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)()],key:"deviceId",value:void 0},{kind:"field",decorators:[(0,s.wk)()],key:"_showAll",value:()=>!1},{kind:"field",key:"_viaDevices",value(){return(0,o.A)(((e,t)=>Object.values(t).filter((t=>t.via_device_id===e)).sort(((e,t)=>(0,r.S)((0,l.xn)(e,this.hass),(0,l.xn)(t,this.hass),this.hass.locale.language)))))}},{kind:"method",key:"render",value:function(){const e=this._viaDevices(this.deviceId,this.hass.devices);return 0===e.length?n.s6:n.qy` <ha-card> <h1 class="card-header"> ${this.hass.localize("ui.panel.config.devices.connected_devices.heading")} </h1> ${(this._showAll?e:e.slice(0,10)).map((e=>n.qy` <a href="${`/config/devices/device/${e.id}`}"> <mwc-list-item hasMeta> ${(0,l.xn)(e,this.hass)} <ha-icon-next slot="meta"></ha-icon-next> </mwc-list-item> </a> `))} ${!this._showAll&&e.length>10?n.qy` <button class="show-more" @click="${this._toggleShowAll}"> ${this.hass.localize("ui.panel.config.devices.connected_devices.show_more",{count:e.length-10})} </button> `:""} </ha-card> `}},{kind:"method",key:"_toggleShowAll",value:function(){this._showAll=!this._showAll}},{kind:"get",static:!0,key:"styles",value:function(){return n.AH`:host{display:block}.card-header{padding-bottom:0}a{text-decoration:none;color:var(--primary-text-color)}button.show-more{color:var(--primary-color);text-align:left;cursor:pointer;background:0 0;border-width:initial;border-style:none;border-color:initial;border-image:initial;padding:16px;font:inherit}button.show-more:focus{outline:0;text-decoration:underline}`}}]}}),n.WF)},66452:(e,t,i)=>{i.d(t,{V:()=>s});var a=i(34897);const n=()=>i.e(44860).then(i.bind(i,44860)),s=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-device-automation",dialogImport:n,dialogParams:t})}},46598:(e,t,i)=>{i.d(t,{F:()=>n,_:()=>s});var a=i(34897);const n=()=>Promise.all([i.e(40319),i.e(15313),i.e(55792),i.e(30225),i.e(62815)]).then(i.bind(i,78690)),s=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-device-registry-detail",dialogImport:n,dialogParams:t})}},45383:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(36312),n=i(68689),s=(i(89655),i(253),i(2075),i(94438),i(54846),i(16891),i(4525),i(68816)),o=(i(7986),i(15112)),r=i(77706),l=i(10977),d=i(94100),c=i(33922),h=i(94872),u=i(213),m=i(65459),g=i(19244),p=i(2682),f=i(81566),v=i(10469),y=(i(72731),i(13292),i(26790),i(28066),i(46163),i(88400),i(15720),i(94526)),_=i(31265),b=i(26885),k=i(10725),w=i(13494),$=i(94929),x=i(46092),z=i(53874),A=i(67240),C=i(6121),M=(i(29832),i(77980),i(55321)),L=i(51842),E=i(30489),F=i(88316),q=i(36202),D=(i(65971),i(49995),i(66452)),S=i(46598),Z=i(93585),H=i(19657),I=e([F,q]);[F,q]=I.then?(await I)():I;const P="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",T="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",W="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",V="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z",N="M12,2A3,3 0 0,1 15,5V11A3,3 0 0,1 12,14A3,3 0 0,1 9,11V5A3,3 0 0,1 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7A5,5 0 0,0 12,16A5,5 0 0,0 17,11H19Z",j="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z",B="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",O="M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z";(0,a.A)([(0,r.EM)("ha-config-device-page")],(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"entries",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"manifests",value:void 0},{kind:"field",decorators:[(0,r.MZ)()],key:"deviceId",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"showAdvanced",value:()=>!1},{kind:"field",decorators:[(0,r.wk)()],key:"_related",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_diagnosticDownloadLinks",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_deleteButtons",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_deviceActions",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_deviceAlerts",value:void 0},{kind:"field",decorators:[(0,r.wk)(),(0,s.Fg)({context:b.ih,subscribe:!0})],key:"_entityReg",value:void 0},{kind:"field",key:"_logbookTime",value:()=>({recent:86400})},{kind:"field",key:"_integrations",value:()=>(0,d.A)(((e,t,i)=>{const a={};for(const e of t)a[e.entry_id]=e;const n={};for(const e of i)n[e.domain]=e;const s=e.config_entries.filter((e=>e in a)).map((e=>a[e]));return(0,_.JW)(s,e.primary_config_entry)}))},{kind:"field",key:"_entities",value(){return(0,d.A)(((e,t)=>t.filter((t=>t.device_id===e)).map((e=>({...e,stateName:this._computeEntityName(e)}))).sort(((e,t)=>(0,p.x)(e.stateName||`zzz${e.entity_id}`,t.stateName||`zzz${t.entity_id}`,this.hass.locale.language)))))}},{kind:"field",key:"_deviceIdInList",value:()=>(0,d.A)((e=>[e]))},{kind:"field",key:"_entityIds",value:()=>(0,d.A)((e=>e.map((e=>e.entity_id))))},{kind:"field",key:"_entitiesByCategory",value:()=>(0,d.A)((e=>{const t=(0,v.$)(e,(e=>{const t=(0,u.m)(e.entity_id);return h.gt.includes(t)?"assist":"event"===t||"notify"===t?t:e.entity_category?e.entity_category:h.JF.includes(t)?"sensor":"control"}));for(const e of["assist","config","control","diagnostic","event","notify","sensor"])e in t||(t[e]=[]);return t}))},{kind:"field",key:"_batteryEntity",value(){return(0,d.A)((e=>(0,$.Er)(this.hass,e)))}},{kind:"field",key:"_batteryChargingEntity",value(){return(0,d.A)((e=>(0,$.DW)(this.hass,e)))}},{kind:"method",key:"willUpdate",value:function(e){(0,n.A)(a,"willUpdate",this,3)([e]),(e.has("deviceId")||e.has("devices")||e.has("entries"))&&(this._diagnosticDownloadLinks=void 0,this._deleteButtons=void 0,this._deviceActions=void 0,this._deviceAlerts=void 0),this._diagnosticDownloadLinks&&this._deleteButtons&&this._deviceActions&&this._deviceAlerts||!this.deviceId||!this.entries||(this._diagnosticDownloadLinks=Math.random(),this._deleteButtons=[],this._deviceActions=[],this._deviceAlerts=[],this._getDiagnosticButtons(this._diagnosticDownloadLinks),this._getDeleteActions(),this._getDeviceActions(),this._getDeviceAlerts())}},{kind:"method",key:"firstUpdated",value:function(e){(0,n.A)(a,"firstUpdated",this,3)([e]),(0,S.F)()}},{kind:"method",key:"updated",value:function(e){(0,n.A)(a,"updated",this,3)([e]),e.has("deviceId")&&this._findRelated()}},{kind:"method",key:"render",value:function(){if(!this.hass||!this.deviceId)return o.s6;const e=this.hass.devices[this.deviceId];if(!e)return o.qy` <hass-error-screen .hass="${this.hass}" .error="${this.hass.localize("ui.panel.config.devices.device_not_found")}"></hass-error-screen> `;const t=(0,k.xn)(e,this.hass),i=this._integrations(e,this.entries,this.manifests),a=this._entities(this.deviceId,this._entityReg),n=this._entitiesByCategory(a),s=this._batteryEntity(a),r=this._batteryChargingEntity(a),d=s?this.hass.states[s.entity_id]:void 0,h=d?(0,m.t)(d):void 0,u=r?this.hass.states[r.entity_id]:void 0,p=e.area_id?this.hass.areas[e.area_id]:void 0,f=i.map((e=>o.qy`<a slot="actions" href="${`/config/integrations/integration/${e.domain}#config_entry=${e.entry_id}`}"> <ha-list-item graphic="icon" hasMeta> <img slot="graphic" alt="${(0,x.p$)(this.hass.localize,e.domain)}" src="${(0,L.MR)({domain:e.domain,type:"icon",darkOptimized:this.hass.themes?.darkMode})}" crossorigin="anonymous" referrerpolicy="no-referrer"> ${(0,x.p$)(this.hass.localize,e.domain)} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a>`)),v=[...this._deviceActions||[]];Array.isArray(this._diagnosticDownloadLinks)&&v.push(...this._diagnosticDownloadLinks),this._deleteButtons&&v.push(...this._deleteButtons),v.sort(((e,t)=>"warning"===e.classes&&"warning"!==t.classes?1:"warning"!==e.classes&&"warning"===t.classes?-1:0));const y=v.shift();e.disabled_by&&f.push(o.qy` <ha-alert alert-type="warning"> ${this.hass.localize("ui.panel.config.devices.enabled_cause",{type:this.hass.localize(`ui.panel.config.devices.type.${e.entry_type||"device"}`),cause:this.hass.localize(`ui.panel.config.devices.disabled_by.${e.disabled_by}`)})} </ha-alert> ${"user"===e.disabled_by?o.qy` <div class="card-actions" slot="actions"> <mwc-button unelevated @click="${this._enableDevice}"> ${this.hass.localize("ui.common.enable")} </mwc-button> </div> `:""} `),this._renderIntegrationInfo(e,i,f);const _=(0,c.x)(this.hass,"automation")?o.qy` <ha-card outlined> <h1 class="card-header"> ${this.hass.localize("ui.panel.config.devices.automation.automations_heading")} <ha-icon-button @click="${this._showAutomationDialog}" .disabled="${e.disabled_by}" .label="${e.disabled_by?this.hass.localize("ui.panel.config.devices.automation.create_disable",{type:this.hass.localize(`ui.panel.config.devices.type.${e.entry_type||"device"}`)}):this.hass.localize("ui.panel.config.devices.automation.create",{type:this.hass.localize(`ui.panel.config.devices.type.${e.entry_type||"device"}`)})}" .path="${O}"></ha-icon-button> </h1> ${this._related?.automation?.length?o.qy` <div class="items"> ${this._related.automation.map((e=>{const t=this.hass.states[e];return t?o.qy`<div> <a href="${(0,l.J)(t.attributes.id?`/config/automation/edit/${encodeURIComponent(t.attributes.id)}`:void 0)}"> <ha-list-item hasMeta .automation="${t}" .disabled="${!t.attributes.id}"> ${(0,g.u)(t)} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a> ${t.attributes.id?"":o.qy` <simple-tooltip animation-delay="0"> ${this.hass.localize("ui.panel.config.devices.cant_edit")} </simple-tooltip> `} </div> `:""}))} </div> `:o.qy` <div class="card-content"> ${this.hass.localize("ui.panel.config.devices.add_prompt",{name:this.hass.localize("ui.panel.config.devices.automation.automations"),type:this.hass.localize(`ui.panel.config.devices.type.${e.entry_type||"device"}`)})} </div> `} </ha-card> `:"",b=(0,c.x)(this.hass,"scene")&&a.length?o.qy` <ha-card outlined> <h1 class="card-header"> ${this.hass.localize("ui.panel.config.devices.scene.scenes_heading")} <ha-icon-button @click="${this._createScene}" .disabled="${e.disabled_by}" .label="${e.disabled_by?this.hass.localize("ui.panel.config.devices.scene.create_disable",{type:this.hass.localize(`ui.panel.config.devices.type.${e.entry_type||"device"}`)}):this.hass.localize("ui.panel.config.devices.scene.create",{type:this.hass.localize(`ui.panel.config.devices.type.${e.entry_type||"device"}`)})}" .path="${O}"></ha-icon-button> </h1> ${this._related?.scene?.length?o.qy` <div class="items"> ${this._related.scene.map((e=>{const t=this.hass.states[e];return t?o.qy` <div> <a href="${(0,l.J)(t.attributes.id?`/config/scene/edit/${t.attributes.id}`:void 0)}"> <ha-list-item hasMeta .scene="${t}" .disabled="${!t.attributes.id}"> ${(0,g.u)(t)} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a> ${t.attributes.id?"":o.qy` <simple-tooltip animation-delay="0"> ${this.hass.localize("ui.panel.config.devices.cant_edit")} </simple-tooltip> `} </div> `:""}))} </div> `:o.qy` <div class="card-content"> ${this.hass.localize("ui.panel.config.devices.add_prompt",{name:this.hass.localize("ui.panel.config.devices.scene.scenes"),type:this.hass.localize(`ui.panel.config.devices.type.${e.entry_type||"device"}`)})} </div> `} </ha-card> `:"",w=(0,c.x)(this.hass,"script")?o.qy` <ha-card outlined> <h1 class="card-header"> ${this.hass.localize("ui.panel.config.devices.script.scripts_heading")} <ha-icon-button @click="${this._showScriptDialog}" .disabled="${e.disabled_by}" .label="${e.disabled_by?this.hass.localize("ui.panel.config.devices.script.create_disable",{type:this.hass.localize(`ui.panel.config.devices.type.${e.entry_type||"device"}`)}):this.hass.localize("ui.panel.config.devices.script.create",{type:this.hass.localize(`ui.panel.config.devices.type.${e.entry_type||"device"}`)})}" .path="${O}"></ha-icon-button> </h1> ${this._related?.script?.length?o.qy` <div class="items"> ${this._related.script.map((e=>{const t=this.hass.states[e],i=this._entityReg.find((t=>t.entity_id===e));let a=`/config/script/show/${t.entity_id}`;return i&&(a=`/config/script/edit/${i.unique_id}`),t?o.qy` <a href="${a}"> <ha-list-item hasMeta .script="${e}"> ${(0,g.u)(t)} <ha-icon-next slot="meta"></ha-icon-next> </ha-list-item> </a> `:""}))} </div> `:o.qy` <div class="card-content"> ${this.hass.localize("ui.panel.config.devices.add_prompt",{name:this.hass.localize("ui.panel.config.devices.script.scripts"),type:this.hass.localize(`ui.panel.config.devices.type.${e.entry_type||"device"}`)})} </div> `} </ha-card> `:"";return o.qy` <hass-subpage .hass="${this.hass}" .narrow="${this.narrow}" .header="${t}"> <ha-icon-button slot="toolbar-icon" .path="${B}" @click="${this._showSettings}" .label="${this.hass.localize("ui.panel.config.devices.edit_settings")}"></ha-icon-button> <div class="container"> <div class="header fullwidth"> ${p?o.qy`<div class="header-name"> <a href="/config/areas/area/${p.area_id}">${this.hass.localize("ui.panel.config.integrations.config_entry.area",{area:p.name||"Unnamed Area"})}</a> </div>`:""} <div class="header-right"> ${!d||"binary_sensor"!==h&&isNaN(d.state)?"":o.qy` <div class="battery"> ${"sensor"===h?this.hass.formatEntityState(d):o.s6} <ha-battery-icon .hass="${this.hass}" .batteryStateObj="${d}" .batteryChargingStateObj="${u}"></ha-battery-icon> </div> `} ${i.length?o.qy` <img alt="${(0,x.p$)(this.hass.localize,i[0].domain)}" src="${(0,L.MR)({domain:i[0].domain,type:"logo",darkOptimized:this.hass.themes?.darkMode})}" crossorigin="anonymous" referrerpolicy="no-referrer" @load="${this._onImageLoad}" @error="${this._onImageError}"> `:""} </div> </div> <div class="column"> ${this._deviceAlerts?.length?o.qy` <div> ${this._deviceAlerts.map((e=>o.qy` <ha-alert .alertType="${e.level}"> ${e.text} </ha-alert> `))} </div> `:""} <ha-device-info-card .hass="${this.hass}" .device="${e}"> ${f} ${y||v.length?o.qy` <div class="card-actions" slot="actions"> <div> <a href="${(0,l.J)(y.href)}" rel="${(0,l.J)(y.target?"noreferrer":void 0)}" target="${(0,l.J)(y.target)}"> <mwc-button class="${(0,l.J)(y.classes)}" .action="${y.action}" @click="${this._deviceActionClicked}" graphic="icon"> ${y.label} ${y.icon?o.qy` <ha-svg-icon class="${(0,l.J)(y.classes)}" .path="${y.icon}" slot="graphic"></ha-svg-icon> `:""} ${y.trailingIcon?o.qy` <ha-svg-icon .path="${y.trailingIcon}" slot="trailingIcon"></ha-svg-icon> `:""} </mwc-button> </a> </div> ${v.length?o.qy` <ha-button-menu> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${W}"></ha-icon-button> ${v.map((e=>{const t=o.qy`<mwc-list-item class="${(0,l.J)(e.classes)}" .action="${e.action}" @click="${this._deviceActionClicked}" graphic="icon" .hasMeta="${Boolean(e.trailingIcon)}"> ${e.label} ${e.icon?o.qy` <ha-svg-icon class="${(0,l.J)(e.classes)}" .path="${e.icon}" slot="graphic"></ha-svg-icon> `:""} ${e.trailingIcon?o.qy` <ha-svg-icon slot="meta" .path="${e.trailingIcon}"></ha-svg-icon> `:""} </mwc-list-item>`;return e.href?o.qy`<a href="${e.href}" target="${(0,l.J)(e.target)}" rel="${(0,l.J)(e.target?"noreferrer":void 0)}">${t} </a>`:t}))} </ha-button-menu> `:""} </div> `:""} </ha-device-info-card> ${this.narrow?"":[_,b,w]} </div> <div class="column"> ${["control","sensor","notify","event","assist","config","diagnostic"].map((i=>n[i].length>0||0===a.length&&"control"===i?o.qy` <ha-device-entities-card .hass="${this.hass}" .header="${this.hass.localize(`ui.panel.config.devices.entities.${i}`)}" .deviceName="${t}" .entities="${n[i]}" .showHidden="${null!==e.disabled_by}"> </ha-device-entities-card> `:""))} <ha-device-via-devices-card .hass="${this.hass}" .deviceId="${this.deviceId}"></ha-device-via-devices-card> </div> <div class="column"> ${this.narrow?[_,b,w]:""} ${(0,c.x)(this.hass,"logbook")?o.qy` <ha-card outlined> <h1 class="card-header"> ${this.hass.localize("panel.logbook")} </h1> <ha-logbook .hass="${this.hass}" .time="${this._logbookTime}" .entityIds="${this._entityIds(a)}" .deviceIds="${this._deviceIdInList(this.deviceId)}" virtualize narrow no-icon></ha-logbook> </ha-card> `:""} </div> </div> </hass-subpage>`}},{kind:"method",key:"_getDiagnosticButtons",value:async function(e){if(!(0,c.x)(this.hass,"diagnostics"))return;const t=this.hass.devices[this.deviceId];if(!t)return;let i=await Promise.all(this._integrations(t,this.entries,this.manifests).map((async e=>{if("loaded"!==e.state)return!1;let t;try{t=await(0,w.g9)(this.hass,e.domain)}catch(e){if("not_found"===e.code)return!1;throw e}return!(!t.handlers.device&&!t.handlers.config_entry)&&{link:t.handlers.device?(0,w.It)(e.entry_id,this.deviceId):(0,w.WV)(e.entry_id),domain:e.domain}})));i=i.filter(Boolean),this._diagnosticDownloadLinks===e&&i.length>0&&(this._diagnosticDownloadLinks=i.map((e=>({href:e.link,icon:V,action:e=>this._signUrl(e),label:i.length>1?this.hass.localize("ui.panel.config.devices.download_diagnostics_integration",{integration:(0,x.p$)(this.hass.localize,e.domain)}):this.hass.localize("ui.panel.config.devices.download_diagnostics")}))))}},{kind:"method",key:"_getDeleteActions",value:function(){const e=this.hass.devices[this.deviceId];if(!e)return;const t=[];this._integrations(e,this.entries,this.manifests).forEach((i=>{"loaded"===i.state&&i.supports_remove_device&&t.push({action:async()=>{if(await(0,C.showConfirmationDialog)(this,{text:this._integrations(e,this.entries,this.manifests).length>1?this.hass.localize("ui.panel.config.devices.confirm_delete_integration",{integration:(0,x.p$)(this.hass.localize,i.domain)}):this.hass.localize("ui.panel.config.devices.confirm_delete"),confirmText:this.hass.localize("ui.common.delete"),dismissText:this.hass.localize("ui.common.cancel"),destructive:!0}))try{await(0,k.nO)(this.hass,this.deviceId,i.entry_id)}catch(e){(0,C.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.devices.error_delete"),text:e.message})}},classes:"warning",icon:T,label:this._integrations(e,this.entries,this.manifests).length>1?this.hass.localize("ui.panel.config.devices.delete_device_integration",{integration:(0,x.p$)(this.hass.localize,i.domain)}):this.hass.localize("ui.panel.config.devices.delete_device")})})),t.length>0&&(this._deleteButtons=t)}},{kind:"method",key:"_getDeviceActions",value:async function(){const e=this.hass.devices[this.deviceId];if(!e)return;const t=[],a=e.configuration_url?.startsWith("homeassistant://")||!1,n=a?e.configuration_url.replace("homeassistant://","/"):e.configuration_url;n&&t.push({href:n,target:a?void 0:"_blank",icon:P,label:this.hass.localize("ui.panel.config.devices.open_configuration_url"),trailingIcon:j});const s=this._entities(this.deviceId,this._entityReg).find((e=>"assist_satellite"===(0,u.m)(e.entity_id)));s&&(0,H.KC)(this.hass.states[s.entity_id])&&t.push({action:this._voiceAssistantSetup,label:"Set up voice assistant",icon:N});const o=this._integrations(e,this.entries,this.manifests).map((e=>e.domain));if(o.includes("mqtt")){const a=(await i.e(64278).then(i.bind(i,64278))).getMQTTDeviceActions(this,e);t.push(...a)}if(o.includes("zha")){const a=await i.e(54285).then(i.bind(i,54285)),n=await a.getZHADeviceActions(this,this.hass,e);t.push(...n)}if(o.includes("zwave_js")){const a=await i.e(63937).then(i.bind(i,63937)),n=await a.getZwaveDeviceActions(this,this.hass,e);t.push(...n)}if(o.includes("matter")){const a=await i.e(44439).then(i.bind(i,44439)),n=a.getMatterDeviceDefaultActions(this,this.hass,e);t.push(...n),a.getMatterDeviceActions(this,this.hass,e).then((e=>{this._deviceActions=[...e,...this._deviceActions||[]]}))}this._deviceActions=t}},{kind:"method",key:"_getDeviceAlerts",value:async function(){const e=this.hass.devices[this.deviceId];if(!e)return;const t=[];if(this._integrations(e,this.entries,this.manifests).map((e=>e.domain)).includes("zwave_js")){const a=await i.e(52052).then(i.bind(i,52052)),n=await a.getZwaveDeviceAlerts(this.hass,e);t.push(...n)}t.length&&(this._deviceAlerts=t)}},{kind:"method",key:"_computeEntityName",value:function(e){if(e.name)return e.name;const t=this.hass.states[e.entity_id];return t?(0,g.u)(t):null}},{kind:"method",key:"_onImageLoad",value:function(e){e.target.style.display="inline-block"}},{kind:"method",key:"_onImageError",value:function(e){e.target.style.display="none"}},{kind:"method",key:"_findRelated",value:async function(){this._related=await(0,A.f)(this.hass,"device",this.deviceId)}},{kind:"method",key:"_createScene",value:function(){const e={};this._entities(this.deviceId,this._entityReg).forEach((t=>{e[t.entity_id]=""})),(0,z.Tx)({entities:e})}},{kind:"method",key:"_showScriptDialog",value:function(){(0,D.V)(this,{device:this.hass.devices[this.deviceId],entityReg:this._entityReg,script:!0})}},{kind:"method",key:"_showAutomationDialog",value:function(){(0,D.V)(this,{device:this.hass.devices[this.deviceId],entityReg:this._entityReg,script:!1})}},{kind:"method",key:"_renderIntegrationInfo",value:function(e,t,a){const n=t.map((e=>e.domain));n.includes("zha")&&(i.e(21851).then(i.bind(i,21851)),a.push(o.qy` <ha-device-info-zha .hass="${this.hass}" .device="${e}"></ha-device-info-zha> `)),n.includes("zwave_js")&&(i.e(31219).then(i.bind(i,31219)),a.push(o.qy` <ha-device-info-zwave_js .hass="${this.hass}" .device="${e}"></ha-device-info-zwave_js> `)),n.includes("matter")&&(i.e(57471).then(i.bind(i,57471)),a.push(o.qy` <ha-device-info-matter .hass="${this.hass}" .device="${e}"></ha-device-info-matter> `))}},{kind:"method",key:"_showSettings",value:async function(){const e=this.hass.devices[this.deviceId];(0,S._)(this,{device:e,updateEntry:async t=>{const i=e.name_by_user||e.name,a=t.name_by_user;if("user"===t.disabled_by&&"user"!==e.disabled_by){for(const i of e.config_entries)if(!Object.values(this.hass.devices).some((t=>t.id!==e.id&&t.config_entries.includes(i)))){const e=this.entries.find((e=>e.entry_id===i));if(e&&!e.disabled_by&&await(0,C.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.devices.confirm_disable_config_entry",{entry_name:e.title}),confirmText:this.hass.localize("ui.common.yes"),dismissText:this.hass.localize("ui.common.no")})){let e;try{e=await(0,_.XQ)(this.hass,i)}catch(e){return void(0,C.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.integrations.config_entry.disable_error"),text:e.message})}e.require_restart&&(0,C.showAlertDialog)(this,{text:this.hass.localize("ui.panel.config.integrations.config_entry.disable_restart_confirm")}),delete t.disabled_by}}}else null!==t.disabled_by&&"user"!==t.disabled_by&&delete t.disabled_by;try{await(0,k.FB)(this.hass,this.deviceId,t)}catch(e){return void(0,C.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.devices.update_device_error"),text:e.message})}if(!i||!a||i===a)return;const n=this._entities(this.deviceId,this._entityReg);let s=!1,r=[];if(this.showAdvanced){const e=(0,f.Y)(i),t=(0,f.Y)(a);r=n.map((i=>{const a=i.entity_id;if(a.includes(e)){const i=a.replace(e,t);return{oldId:a,newId:i}}return{oldId:a}}));const l=r.filter((e=>e.newId)).map((e=>o.qy`<tr> <td>${e.oldId}</td> <td>${e.newId}</td> </tr>`)),d=r.filter((e=>!e.newId)).map((e=>o.qy`<li>${e.oldId}</li>`));l.length?s=await(0,C.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.devices.confirm_rename_entity_ids"),text:o.qy`${this.hass.localize("ui.panel.config.devices.confirm_rename_entity_ids_warning")} <br><br> <ha-expansion-panel outlined> <span slot="header">${this.hass.localize("ui.panel.config.devices.confirm_rename_entity_will_rename",{count:l.length})}</span> <div style="overflow:auto"> <table style="width:100%;text-align:var(--float-start)"> <tr> <th> ${this.hass.localize("ui.panel.config.devices.confirm_rename_old")} </th> <th> ${this.hass.localize("ui.panel.config.devices.confirm_rename_new")} </th> </tr> ${l} </table> </div> </ha-expansion-panel> ${d.length?o.qy`<ha-expansion-panel outlined> <span slot="header">${this.hass.localize("ui.panel.config.devices.confirm_rename_entity_wont_rename",{count:d.length,deviceSlug:e})}</span> ${d}</ha-expansion-panel>`:o.s6} `,confirmText:this.hass.localize("ui.common.rename"),dismissText:this.hass.localize("ui.common.no"),warning:!0}):d.length&&await(0,C.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.devices.confirm_rename_entity_no_renamable_entity_ids"),text:o.qy`<ha-expansion-panel outlined> <span slot="header">${this.hass.localize("ui.panel.config.devices.confirm_rename_entity_wont_rename",{deviceSlug:e,count:d.length})}</span> ${d} </ha-expansion-panel>`})}const l=n.map((e=>{const t=e.name||e.stateName;let n,o,l,d=!1;if(e.has_entity_name&&!e.name?l=!1:!e.has_entity_name||e.name!==i&&e.name!==a?t&&t.includes(i)?(l=!0,o=t.replace(i,a)):l=!1:(l=!0,o=null),s){const t=r?.find((t=>t.oldId===e.entity_id));t?.newId&&(d=!0,n=t.newId)}if(void 0!==o||void 0!==n)return(0,$.G_)(this.hass,e.entity_id,{name:l?o:void 0,new_entity_id:d?n:void 0})}));await Promise.all(l)}})}},{kind:"method",key:"_enableDevice",value:async function(){await(0,k.FB)(this.hass,this.deviceId,{disabled_by:null})}},{kind:"method",key:"_signUrl",value:async function(e){const t=e.currentTarget.closest("a"),i=await(0,y.e0)(this.hass,t.getAttribute("href"));(0,E.R)(i.path)}},{kind:"method",key:"_deviceActionClicked",value:function(e){e.currentTarget.action&&(e.preventDefault(),e.currentTarget.action(e))}},{kind:"field",key:"_voiceAssistantSetup",value(){return()=>{(0,Z.L)(this,{deviceId:this.deviceId})}}},{kind:"get",static:!0,key:"styles",value:function(){return[M.RF,o.AH`.container{display:flex;flex-wrap:wrap;margin:auto;max-width:1000px;margin-top:32px;margin-bottom:32px}.card-header{display:flex;align-items:center;justify-content:space-between;padding-bottom:12px}.card-header ha-icon-button{margin-right:-8px;margin-inline-end:-8px;margin-inline-start:initial;color:var(--primary-color);height:auto;direction:var(--direction)}.device-info{padding:16px}h1{margin:0;font-family:var(--paper-font-headline_-_font-family);-webkit-font-smoothing:var(--paper-font-headline_-_-webkit-font-smoothing);font-size:var(--paper-font-headline_-_font-size);font-weight:var(--paper-font-headline_-_font-weight);letter-spacing:var(--paper-font-headline_-_letter-spacing);line-height:var(--paper-font-headline_-_line-height);opacity:var(--dark-primary-opacity)}.header{display:flex;justify-content:space-between}.header-name{display:flex;align-items:center;padding-left:8px;padding-inline-start:8px;direction:var(--direction)}.column,.fullwidth{padding:8px;box-sizing:border-box}.column{width:33%;flex-grow:1}.fullwidth{width:100%;flex-grow:1}.header-right{align-self:center}.header-right img{height:30px}.header-right{display:flex}.header-right:first-child{width:100%;justify-content:flex-end}.header-right>:not(:first-child){margin-left:16px;margin-inline-start:16px;margin-inline-end:initial;direction:var(--direction)}.battery{align-self:center;align-items:center;display:flex;white-space:nowrap}.column>:not(:first-child){margin-top:16px}:host([narrow]) .column{width:100%}:host([narrow]) .container{margin-top:0}a{text-decoration:none;color:var(--primary-color)}ha-card a{color:var(--primary-text-color)}ha-svg-icon[slot=trailingIcon]{display:block;width:18px;height:18px}ha-svg-icon[slot=meta]{width:18px;height:18px}.items{padding-bottom:16px}ha-card:has(ha-logbook){padding-bottom:var(--ha-card-border-radius,12px)}ha-logbook{height:400px}:host([narrow]) ha-logbook{height:235px}.card-actions{display:flex;justify-content:space-between;align-items:center}`]}}]}}),o.WF);t()}catch(e){t(e)}}))},35827:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(36312),n=i(68689),s=(i(89655),i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435),i(253),i(5186),i(2075),i(94438),i(54846),i(16891),i(4525),i(74860),i(71011),i(71174),i(68816)),o=(i(7986),i(15112)),r=i(56738),l=i(77706),d=i(94100),c=i(86188),h=i(8581),u=i(96979),m=i(65459),g=i(44721),p=i(16312),f=i(80804),v=(i(23449),i(72731),i(13292),i(26790),i(98515),i(36885),i(45395),i(56388),i(71177),i(27620),i(77104),i(68741),i(28066),i(37849),i(72418),i(96915)),y=i(31265),_=i(26885),b=i(92119),k=i(10725),w=i(94929),$=i(21668),x=i(6121),z=(i(35579),i(20712)),A=i(55321),C=i(51842),M=i(47293),L=i(25473),E=(i(30319),i(49029)),F=i(58331),q=e([h]);h=(q.then?(await q)():q)[0];const D="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",S="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",Z="M7,10L12,15L17,10H7Z",H="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",I="M20 2H4C2.9 2 2 2.9 2 4V20C2 21.11 2.9 22 4 22H20C21.11 22 22 21.11 22 20V4C22 2.9 21.11 2 20 2M4 6L6 4H10.9L4 10.9V6M4 13.7L13.7 4H18.6L4 18.6V13.7M20 18L18 20H13.1L20 13.1V18M20 10.3L10.3 20H5.4L20 5.4V10.3Z";(0,a.A)([(0,l.EM)("ha-config-devices-dashboard")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,l.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)({type:Boolean})],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"entries",value:void 0},{kind:"field",decorators:[(0,l.wk)(),(0,s.Fg)({context:_.ih,subscribe:!0})],key:"entities",value:void 0},{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"manifests",value:void 0},{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"route",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_searchParms",value:()=>new URLSearchParams(window.location.search)},{kind:"field",decorators:[(0,l.wk)()],key:"_selected",value:()=>[]},{kind:"field",decorators:[(0,u.I)({storage:"sessionStorage",key:"devices-table-search",state:!0,subscribe:!1})],key:"_filter",value:()=>history.state?.filter||""},{kind:"field",decorators:[(0,u.I)({storage:"sessionStorage",key:"devices-table-filters-full",state:!0,subscribe:!1,serializer:b.i,deserializer:b.D})],key:"_filters",value:()=>({})},{kind:"field",decorators:[(0,l.wk)()],key:"_expandedFilter",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_labels",value:void 0},{kind:"field",decorators:[(0,u.I)({key:"devices-table-sort",state:!1,subscribe:!1})],key:"_activeSorting",value:void 0},{kind:"field",decorators:[(0,u.I)({key:"devices-table-grouping",state:!1,subscribe:!1})],key:"_activeGrouping",value:void 0},{kind:"field",decorators:[(0,u.I)({key:"devices-table-collapsed",state:!1,subscribe:!1})],key:"_activeCollapsed",value:void 0},{kind:"field",decorators:[(0,u.I)({key:"devices-table-column-order",state:!1,subscribe:!1})],key:"_activeColumnOrder",value:void 0},{kind:"field",decorators:[(0,u.I)({key:"devices-table-hidden-columns",state:!1,subscribe:!1})],key:"_activeHiddenColumns",value:void 0},{kind:"field",key:"_sizeController",value(){return new r.P(this,{callback:e=>e[0]?.contentRect.width})}},{kind:"field",key:"_ignoreLocationChange",value:()=>!1},{kind:"method",key:"connectedCallback",value:function(){(0,n.A)(i,"connectedCallback",this,3)([]),window.addEventListener("location-changed",this._locationChanged),window.addEventListener("popstate",this._popState)}},{kind:"method",key:"disconnectedCallback",value:function(){(0,n.A)(i,"disconnectedCallback",this,3)([]),window.removeEventListener("location-changed",this._locationChanged),window.removeEventListener("popstate",this._popState)}},{kind:"field",key:"_locationChanged",value(){return()=>{this._ignoreLocationChange?this._ignoreLocationChange=!1:window.location.search.substring(1)!==this._searchParms.toString()&&(this._searchParms=new URLSearchParams(window.location.search),this._setFiltersFromUrl())}}},{kind:"field",key:"_popState",value(){return()=>{window.location.search.substring(1)!==this._searchParms.toString()&&(this._searchParms=new URLSearchParams(window.location.search),this._setFiltersFromUrl())}}},{kind:"field",key:"_states",value:()=>(0,d.A)((e=>[{value:"disabled",label:e("ui.panel.config.devices.data_table.disabled_by")}]))},{kind:"method",key:"willUpdate",value:function(e){(0,n.A)(i,"willUpdate",this,3)([e]),this.hasUpdated||this._setFiltersFromUrl()}},{kind:"method",key:"_setFiltersFromUrl",value:function(){const e=this._searchParms.get("domain"),t=this._searchParms.get("config_entry");(e||t)&&(this._filter=history.state?.filter||"",this._filters={"ha-filter-states":{value:[...this._filters["ha-filter-states"]?.value||[],"disabled"],items:void 0},"ha-filter-integrations":{value:e?[e]:[],items:void 0},config_entry:{value:t?[t]:[],items:void 0}},this._searchParms.has("label")&&this._filterLabel())}},{kind:"method",key:"_filterLabel",value:function(){const e=this._searchParms.get("label");e&&(this._filters={...this._filters,"ha-filter-labels":{value:[e],items:void 0}})}},{kind:"method",key:"_clearFilter",value:function(){this._filters={}}},{kind:"field",key:"_devicesAndFilterDomains",value(){return(0,d.A)(((e,t,i,a,n,s,o,r)=>{let l=Object.values(e).map((e=>({...e,label_entries:[]})));const d={};for(const e of i)e.device_id&&(e.device_id in d||(d[e.device_id]=[]),d[e.device_id].push(e));const c={};for(const e of t)c[e.entry_id]=e;const h={};for(const e of n)h[e.domain]=e;let u;const m=new Set;Object.entries(s).forEach((([e,i])=>{if("config_entry"===e&&Array.isArray(i.value)&&i.value.length){l=l.filter((e=>e.config_entries.some((e=>i.value.includes(e)))));const e=t.filter((e=>e.entry_id&&i.value.includes(e.entry_id)));e.forEach((e=>{m.add(e.domain)})),1===e.length&&(u=e[0])}else if("ha-filter-integrations"===e&&Array.isArray(i.value)&&i.value.length){const e=t.filter((e=>i.value.includes(e.domain))).map((e=>e.entry_id));l=l.filter((t=>t.config_entries.some((t=>e.includes(t))))),i.value.forEach((e=>m.add(e)))}else"ha-filter-labels"===e&&Array.isArray(i.value)&&i.value.length?l=l.filter((e=>e.labels.some((e=>i.value.includes(e))))):i.items&&(l=l.filter((e=>i.items.has(e.id))))}));const g=s["ha-filter-states"]?.value;g?.length&&g.includes("disabled")||(l=l.filter((e=>!e.disabled_by)));return{devicesOutput:l.map((e=>{const t=(0,y.JW)(e.config_entries.filter((e=>e in c)).map((e=>c[e])),e.primary_config_entry),i=(r&&e?.labels||[]).map((e=>r.find((t=>t.label_id===e))));return{...e,name:(0,k.xn)(e,this.hass,d[e.id]),model:e.model||`<${o("ui.panel.config.devices.data_table.unknown")}>`,manufacturer:e.manufacturer||`<${o("ui.panel.config.devices.data_table.unknown")}>`,area:e.area_id&&a[e.area_id]?a[e.area_id].name:"—",integration:t.length?t.map((e=>o(`component.${e.domain}.title`)||e.domain)).join(", "):this.hass.localize("ui.panel.config.devices.data_table.no_integration"),domains:t.map((e=>e.domain)),battery_entity:[this._batteryEntity(e.id,d),this._batteryChargingEntity(e.id,d)],battery_level:this.hass.states[this._batteryEntity(e.id,d)||""]?.state,label_entries:i}})),filteredConfigEntry:u,filteredDomains:m}}))}},{kind:"field",key:"_columns",value(){return(0,d.A)((e=>({icon:{title:"",label:e("ui.panel.config.devices.data_table.icon"),type:"icon",moveable:!1,showNarrow:!0,template:e=>e.domains.length?o.qy`<img alt="" crossorigin="anonymous" referrerpolicy="no-referrer" src="${(0,C.MR)({domain:e.domains[0],type:"icon",darkOptimized:this.hass.themes?.darkMode})}">`:""},name:{title:e("ui.panel.config.devices.data_table.device"),main:!0,sortable:!0,filterable:!0,direction:"asc",grows:!0,flex:2,minWidth:"150px",extraTemplate:e=>o.qy` ${e.label_entries.length?o.qy` <ha-data-table-labels .labels="${e.label_entries}"></ha-data-table-labels> `:o.s6} `},manufacturer:{title:e("ui.panel.config.devices.data_table.manufacturer"),sortable:!0,filterable:!0,groupable:!0,minWidth:"120px"},model:{title:e("ui.panel.config.devices.data_table.model"),sortable:!0,filterable:!0,minWidth:"120px"},area:{title:e("ui.panel.config.devices.data_table.area"),sortable:!0,filterable:!0,groupable:!0,minWidth:"120px"},integration:{title:e("ui.panel.config.devices.data_table.integration"),sortable:!0,filterable:!0,groupable:!0,minWidth:"120px"},battery_entity:{title:e("ui.panel.config.devices.data_table.battery"),showNarrow:!0,sortable:!0,filterable:!0,type:"numeric",maxWidth:"101px",minWidth:"101px",valueColumn:"battery_level",template:e=>{const t=e.battery_entity,i=t&&t[0]?this.hass.states[t[0]]:void 0,a=i?(0,m.t)(i):void 0,n=t&&t[1]?this.hass.states[t[1]]:void 0;return!i||"binary_sensor"!==a&&isNaN(i.state)?"—":o.qy` ${"sensor"===a?this.hass.formatEntityState(i):o.s6} <ha-battery-icon .hass="${this.hass}" .batteryStateObj="${i}" .batteryChargingStateObj="${n}"></ha-battery-icon> `}},created_at:{title:e("ui.panel.config.generic.headers.created_at"),defaultHidden:!0,sortable:!0,filterable:!0,minWidth:"128px",template:e=>e.created_at?(0,h.ZS)(new Date(1e3*e.created_at),this.hass.locale,this.hass.config):"—"},modified_at:{title:e("ui.panel.config.generic.headers.modified_at"),defaultHidden:!0,sortable:!0,filterable:!0,minWidth:"128px",template:e=>e.modified_at?(0,h.ZS)(new Date(1e3*e.modified_at),this.hass.locale,this.hass.config):"—"},disabled_by:{title:"",label:e("ui.panel.config.devices.data_table.disabled_by"),hidden:!0,template:e=>e.disabled_by?this.hass.localize("ui.panel.config.devices.disabled"):""},labels:{title:"",hidden:!0,filterable:!0,template:e=>e.label_entries.map((e=>e.name)).join(" ")}})))}},{kind:"method",key:"hassSubscribe",value:function(){return[(0,$.o5)(this.hass.connection,(e=>{this._labels=e}))]}},{kind:"method",key:"render",value:function(){const{devicesOutput:e}=this._devicesAndFilterDomains(this.hass.devices,this.entries,this.entities,this.hass.areas,this.manifests,this._filters,this.hass.localize,this._labels),t=this._sizeController.value&&this._sizeController.value<700||!this._sizeController.value&&"docked"===this.hass.dockedSidebar,i=o.qy`${Object.values(this.hass.areas).map((e=>o.qy`<ha-md-menu-item .value="${e.area_id}" @click="${this._handleBulkArea}"> ${e.icon?o.qy`<ha-icon slot="start" .icon="${e.icon}"></ha-icon>`:o.qy`<ha-svg-icon slot="start" .path="${I}"></ha-svg-icon>`} <div slot="headline">${e.name}</div> </ha-md-menu-item>`))} <ha-md-menu-item .value="${null}" @click="${this._handleBulkArea}"> <div slot="headline"> ${this.hass.localize("ui.panel.config.devices.picker.bulk_actions.no_area")} </div> </ha-md-menu-item> <ha-md-divider role="separator" tabindex="-1"></ha-md-divider> <ha-md-menu-item @click="${this._bulkCreateArea}"> <div slot="headline"> ${this.hass.localize("ui.panel.config.devices.picker.bulk_actions.add_area")} </div> </ha-md-menu-item>`,a=o.qy`${this._labels?.map((e=>{const t=e.color?(0,c.M)(e.color):void 0,i=this._selected.every((t=>this.hass.devices[t]?.labels.includes(e.label_id))),a=!i&&this._selected.some((t=>this.hass.devices[t]?.labels.includes(e.label_id)));return o.qy`<ha-md-menu-item .value="${e.label_id}" .action="${i?"remove":"add"}" @click="${this._handleBulkLabel}" keep-open> <ha-checkbox slot="start" .checked="${i}" .indeterminate="${a}" reducedTouchTarget></ha-checkbox> <ha-label style="${t?`--color: ${t}`:""}"> ${e.icon?o.qy`<ha-icon slot="icon" .icon="${e.icon}"></ha-icon>`:o.s6} ${e.name} </ha-label> </ha-md-menu-item>`}))} <ha-md-divider role="separator" tabindex="-1"></ha-md-divider> <ha-md-menu-item @click="${this._bulkCreateLabel}"> <div slot="headline"> ${this.hass.localize("ui.panel.config.labels.add_label")} </div></ha-md-menu-item>`;return o.qy` <hass-tabs-subpage-data-table .hass="${this.hass}" .narrow="${this.narrow}" .backPath="${this._searchParms.has("historyBack")?void 0:"/config"}" .tabs="${L.configSections.devices}" .route="${this.route}" .searchLabel="${this.hass.localize("ui.panel.config.devices.picker.search",{number:e.length})}" .columns="${this._columns(this.hass.localize)}" .data="${e}" selectable .selected="${this._selected.length}" @selection-changed="${this._handleSelectionChanged}" .filter="${this._filter}" hasFilters .filters="${Object.values(this._filters).filter((e=>Array.isArray(e.value)?e.value.length:e.value&&Object.values(e.value).some((e=>Array.isArray(e)?e.length:e)))).length}" .initialGroupColumn="${this._activeGrouping}" .initialCollapsedGroups="${this._activeCollapsed}" .initialSorting="${this._activeSorting}" .columnOrder="${this._activeColumnOrder}" .hiddenColumns="${this._activeHiddenColumns}" @columns-changed="${this._handleColumnsChanged}" @clear-filter="${this._clearFilter}" @search-changed="${this._handleSearchChange}" @sorting-changed="${this._handleSortingChanged}" @grouping-changed="${this._handleGroupingChanged}" @collapsed-changed="${this._handleCollapseChanged}" @row-click="${this._handleRowClicked}" clickable hasFab class="${this.narrow?"narrow":""}"> <ha-integration-overflow-menu .hass="${this.hass}" slot="toolbar-icon"></ha-integration-overflow-menu> <ha-fab slot="fab" .label="${this.hass.localize("ui.panel.config.devices.add_device")}" extended @click="${this._addDevice}"> <ha-svg-icon slot="icon" .path="${H}"></ha-svg-icon> </ha-fab> ${Array.isArray(this._filters.config_entry?.value)&&this._filters.config_entry?.value.length?o.qy`<ha-alert slot="filter-pane"> Filtering by config entry ${this.entries?.find((e=>e.entry_id===this._filters.config_entry.value[0]))?.title||this._filters.config_entry.value[0]} </ha-alert>`:o.s6} <ha-filter-floor-areas .hass="${this.hass}" type="device" .value="${this._filters["ha-filter-floor-areas"]?.value}" @data-table-filter-changed="${this._filterChanged}" slot="filter-pane" .expanded="${"ha-filter-floor-areas"===this._expandedFilter}" .narrow="${this.narrow}" @expanded-changed="${this._filterExpanded}"></ha-filter-floor-areas> <ha-filter-integrations .hass="${this.hass}" .value="${this._filters["ha-filter-integrations"]?.value}" @data-table-filter-changed="${this._filterChanged}" slot="filter-pane" .expanded="${"ha-filter-integrations"===this._expandedFilter}" .narrow="${this.narrow}" @expanded-changed="${this._filterExpanded}"></ha-filter-integrations> <ha-filter-states .hass="${this.hass}" .value="${this._filters["ha-filter-states"]?.value}" .states="${this._states(this.hass.localize)}" .label="${this.hass.localize("ui.panel.config.devices.picker.state")}" @data-table-filter-changed="${this._filterChanged}" slot="filter-pane" .expanded="${"ha-filter-states"===this._expandedFilter}" .narrow="${this.narrow}" @expanded-changed="${this._filterExpanded}"></ha-filter-states> <ha-filter-labels .hass="${this.hass}" .value="${this._filters["ha-filter-labels"]?.value}" @data-table-filter-changed="${this._filterChanged}" slot="filter-pane" .expanded="${"ha-filter-labels"===this._expandedFilter}" .narrow="${this.narrow}" @expanded-changed="${this._filterExpanded}"></ha-filter-labels> ${this.narrow?o.s6:o.qy`<ha-md-button-menu slot="selection-bar"> <ha-assist-chip slot="trigger" .label="${this.hass.localize("ui.panel.config.automation.picker.bulk_actions.add_label")}"> <ha-svg-icon slot="trailing-icon" .path="${Z}"></ha-svg-icon> </ha-assist-chip> ${a} </ha-md-button-menu> ${t?o.s6:o.qy`<ha-md-button-menu slot="selection-bar"> <ha-assist-chip slot="trigger" .label="${this.hass.localize("ui.panel.config.devices.picker.bulk_actions.move_area")}"> <ha-svg-icon slot="trailing-icon" .path="${Z}"></ha-svg-icon> </ha-assist-chip> ${i} </ha-md-button-menu>`}`} ${this.narrow||t?o.qy`<ha-md-button-menu has-overflow slot="selection-bar"> ${this.narrow?o.qy`<ha-assist-chip .label="${this.hass.localize("ui.panel.config.automation.picker.bulk_action")}" slot="trigger"> <ha-svg-icon slot="trailing-icon" .path="${Z}"></ha-svg-icon> </ha-assist-chip>`:o.qy`<ha-icon-button .path="${S}" .label="${"ui.panel.config.automation.picker.bulk_action"}" slot="trigger"></ha-icon-button>`} ${this.narrow?o.qy` <ha-sub-menu> <ha-md-menu-item slot="item"> <div slot="headline"> ${this.hass.localize("ui.panel.config.automation.picker.bulk_actions.add_label")} </div> <ha-svg-icon slot="end" .path="${D}"></ha-svg-icon> </ha-md-menu-item> <ha-menu slot="menu">${a}</ha-menu> </ha-sub-menu>`:o.s6} <ha-sub-menu> <ha-md-menu-item slot="item"> <div slot="headline"> ${this.hass.localize("ui.panel.config.devices.picker.bulk_actions.move_area")} </div> <ha-svg-icon slot="end" .path="${D}"></ha-svg-icon> </ha-md-menu-item> <ha-menu slot="menu">${i}</ha-menu> </ha-sub-menu> </ha-md-button-menu>`:o.s6} </hass-tabs-subpage-data-table> `}},{kind:"method",key:"_filterExpanded",value:function(e){e.detail.expanded?this._expandedFilter=e.target.localName:this._expandedFilter===e.target.localName&&(this._expandedFilter=void 0)}},{kind:"method",key:"_filterChanged",value:function(e){const t=e.target.localName;this._filters={...this._filters,[t]:e.detail}}},{kind:"method",key:"_batteryEntity",value:function(e,t){const i=(0,w.Er)(this.hass,t[e]||[]);return i?i.entity_id:void 0}},{kind:"method",key:"_batteryChargingEntity",value:function(e,t){const i=(0,w.DW)(this.hass,t[e]||[]);return i?i.entity_id:void 0}},{kind:"method",key:"_handleRowClicked",value:function(e){const t=e.detail.id;this._ignoreLocationChange=!0,(0,p.o)(`/config/devices/device/${t}`)}},{kind:"method",key:"_handleSearchChange",value:function(e){this._filter=e.detail.value,history.replaceState({filter:this._filter},"")}},{kind:"method",key:"_addDevice",value:function(){const{filteredConfigEntry:e,filteredDomains:t}=this._devicesAndFilterDomains(this.hass.devices,this.entries,this.entities,this.hass.areas,this.manifests,this._filters,this.hass.localize,this._labels);1===t.size&&g.x.includes([...t][0])?(0,g.P)(this,this.hass,[...t][0],{config_entry:e?.entry_id}):(0,E.X)(this,{domain:this._searchParms.get("domain")||void 0})}},{kind:"method",key:"_handleSelectionChanged",value:function(e){this._selected=e.detail.value}},{kind:"method",key:"_handleBulkArea",value:async function(e){const t=e.currentTarget.value;this._bulkAddArea(t)}},{kind:"method",key:"_bulkAddArea",value:async function(e){const t=[];this._selected.forEach((i=>{t.push((0,k.FB)(this.hass,i,{area_id:e}))}));const i=await Promise.allSettled(t);if((0,f.$)(i)){const e=(0,f.N)(i);(0,x.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.common.multiselect.failed",{number:e.length}),text:o.qy`<pre>
${e.map((e=>e.reason.message||e.reason.code||e.reason)).join("\r\n")}</pre>`})}}},{kind:"method",key:"_bulkCreateArea",value:async function(){(0,M.J)(this,{createEntry:async e=>{const t=await(0,v.L3)(this.hass,e);return this._bulkAddArea(t.area_id),t}})}},{kind:"method",key:"_handleBulkLabel",value:async function(e){const t=e.currentTarget.value,i=e.currentTarget.action;this._bulkLabel(t,i)}},{kind:"method",key:"_bulkLabel",value:async function(e,t){const i=[];this._selected.forEach((a=>{i.push((0,k.FB)(this.hass,a,{labels:"add"===t?this.hass.devices[a].labels.concat(e):this.hass.devices[a].labels.filter((t=>t!==e))}))}));const a=await Promise.allSettled(i);if((0,f.$)(a)){const e=(0,f.N)(a);(0,x.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.common.multiselect.failed",{number:e.length}),text:o.qy`<pre>
${e.map((e=>e.reason.message||e.reason.code||e.reason)).join("\r\n")}</pre>`})}}},{kind:"method",key:"_bulkCreateLabel",value:function(){(0,F.f)(this,{createEntry:async e=>{const t=await(0,$._9)(this.hass,e);return this._bulkLabel(t.label_id,"add"),t}})}},{kind:"method",key:"_handleSortingChanged",value:function(e){this._activeSorting=e.detail}},{kind:"method",key:"_handleGroupingChanged",value:function(e){this._activeGrouping=e.detail.value}},{kind:"method",key:"_handleCollapseChanged",value:function(e){this._activeCollapsed=e.detail.value}},{kind:"method",key:"_handleColumnsChanged",value:function(e){this._activeColumnOrder=e.detail.columnOrder,this._activeHiddenColumns=e.detail.hiddenColumns}},{kind:"get",static:!0,key:"styles",value:function(){return[o.AH`:host{display:block}hass-tabs-subpage-data-table{--data-table-row-height:60px}hass-tabs-subpage-data-table.narrow{--data-table-row-height:72px}ha-button-menu{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial}.clear{color:var(--primary-color);padding-left:8px;padding-inline-start:8px;text-transform:uppercase;direction:var(--direction)}ha-assist-chip{--ha-assist-chip-container-shape:10px}ha-md-button-menu ha-assist-chip{--md-assist-chip-trailing-space:8px}ha-label{--ha-label-background-color:var(--color, var(--grey-color));--ha-label-background-opacity:0.5}`,A.RF]}}]}}),(0,z.E)(o.WF));t()}catch(e){t(e)}}))},62746:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.r(t);var n=i(36312),s=i(68689),o=i(77706),r=i(31265),l=i(46092),d=i(32046),c=i(45383),h=i(35827),u=e([c,h]);[c,h]=u.then?(await u)():u;(0,n.A)([(0,o.EM)("ha-config-devices")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"showAdvanced",value:()=>!1},{kind:"field",key:"routerOptions",value:()=>({defaultPage:"dashboard",routes:{dashboard:{tag:"ha-config-devices-dashboard",cache:!0},device:{tag:"ha-config-device-page"}}})},{kind:"field",decorators:[(0,o.wk)()],key:"_configEntries",value:()=>[]},{kind:"field",decorators:[(0,o.wk)()],key:"_manifests",value:()=>[]},{kind:"method",key:"firstUpdated",value:function(e){(0,s.A)(i,"firstUpdated",this,3)([e]),this._loadData()}},{kind:"method",key:"updatePageEl",value:function(e){e.hass=this.hass,"device"===this._currentPage&&(e.deviceId=this.routeTail.path.substr(1)),e.entries=this._configEntries,e.manifests=this._manifests,e.narrow=this.narrow,e.isWide=this.isWide,e.showAdvanced=this.showAdvanced,e.route=this.routeTail}},{kind:"method",key:"_loadData",value:async function(){this._configEntries=await(0,r.VN)(this.hass),this._manifests=await(0,l.fK)(this.hass)}}]}}),d.a);a()}catch(e){a(e)}}))},57273:(e,t,i)=>{i.d(t,{L:()=>n,z:()=>s});var a=i(99890);const n=["input_boolean","input_button","input_text","input_number","input_datetime","input_select","counter","timer","schedule"],s=(0,a.g)(n)},30319:(e,t,i)=>{var a=i(36312),n=i(15112),s=i(77706);i(26790),i(26207),i(28066);(0,a.A)([(0,s.EM)("ha-integration-overflow-menu")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"method",key:"render",value:function(){return n.qy` <ha-button-menu activatable> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"}"></ha-icon-button> <ha-clickable-list-item href="/config/application_credentials"> ${this.hass.localize("ui.panel.config.application_credentials.caption")} </ha-clickable-list-item> </ha-button-menu> `}}]}}),n.WF)},73218:(e,t,i)=>{i.d(t,{g:()=>s});var a=i(34897);const n=()=>Promise.all([i.e(94511),i.e(16882),i.e(16919),i.e(87656),i.e(49721)]).then(i.bind(i,49721)),s=e=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-matter-add-device",dialogImport:n,dialogParams:{}})}},24520:(e,t,i)=>{i.d(t,{X:()=>s});var a=i(34897);const n=()=>Promise.all([i.e(94131),i.e(14121),i.e(63893),i.e(10963),i.e(94511),i.e(23766),i.e(29654),i.e(99196),i.e(3051),i.e(66419),i.e(31444),i.e(32795)]).then(i.bind(i,32795)),s=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-zwave_js-add-node",dialogImport:n,dialogParams:t})}},49029:(e,t,i)=>{i.d(t,{X:()=>n,n:()=>s});var a=i(34897);const n=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-add-integration",dialogImport:()=>Promise.all([i.e(10963),i.e(94366),i.e(10619)]).then(i.bind(i,10619)),dialogParams:t})},s=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"dialog-yaml-integration",dialogImport:()=>i.e(28877).then(i.bind(i,28877)),dialogParams:t})}},45657:(e,t,i)=>{i.d(t,{KT:()=>v,Bi:()=>f,ZI:()=>p,Yp:()=>y});i(89655),i(54774),i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435),i(253),i(2075),i(94438),i(54846),i(16891);var a=i(94872),n=i(213),s=i(65459),o=i(19244);var r=i(7127),l=i(2682),d=i(96915),c=i(46092),h=i(71443),u=i(57273);const m=new Set(["automation","configurator","device_tracker","event","geo_location","notify","persistent_notification","script","sun","tag","todo","zone",...a.gt]),g=new Set(["mobile_app"]),p=(e,t)=>({type:"grid",cards:e.map((e=>({type:"tile",entity:e,show_entity_picture:["camera","image","person"].includes((0,n.m)(e))||void 0}))),...t}),f=(e,t,i,s=!0)=>{const d=[],c=[],h=i.title?i.title.toLowerCase():void 0,u=[];for(const i of t){const t=e[i],a=(0,n.m)(i);if("alarm_control_panel"===a){const e={type:"alarm-panel",entity:i};d.push(e)}else if("camera"===a){const e={type:"picture-entity",entity:i};d.push(e)}else if("image"===a){const e={type:"picture",image_entity:i};d.push(e)}else if("climate"===a){const t={type:"thermostat",entity:i,features:(e[i]?.attributes?.hvac_modes?.length??0)>1?[{type:"climate-hvac-modes",hvac_modes:e[i]?.attributes?.hvac_modes}]:void 0};d.push(t)}else if("humidifier"===a){const e={type:"humidifier",entity:i,features:[{type:"humidifier-toggle"}]};d.push(e)}else if("media_player"===a){const e={type:"media-control",entity:i};d.push(e)}else if("plant"===a){const e={type:"plant-status",entity:i};d.push(e)}else if("weather"===a){const e={type:"weather-forecast",entity:i,show_forecast:!1};d.push(e)}else if(!s||"scene"!==a&&"script"!==a){let e;const a=h&&t&&(e=(0,r.p)((0,o.u)(t),h))?{entity:i,name:e}:i;c.push(a)}else{const e={entity:i,show_icon:!0,show_name:!0};let a;h&&t&&(a=(0,r.p)((0,o.u)(t),h))&&(e.name=a),u.push(e)}}if(c.sort(((t,i)=>{const s="string"==typeof t?t:t.entity,r="string"==typeof i?i:i.entity,d=a.JF.includes((0,n.m)(s))?"sensor":"control";return d!==(a.JF.includes((0,n.m)(r))?"sensor":"control")?"sensor"===d?1:-1:(0,l.x)("string"==typeof t?e[t]?(0,o.u)(e[t]):"":t.name||"","string"==typeof i?e[i]?(0,o.u)(e[i]):"":i.name||"")})),0===c.length&&u.length>0)return f(e,t,i,!1);if(c.length>0||u.length>0){const e={type:"entities",entities:c,...i};u.length>0&&(e.footer={type:"buttons",entities:u}),d.unshift(e)}return d.length<2?d:[{type:"grid",square:!1,columns:1,cards:d}]},v=(e,t)=>{const i=[];for(const e of t){const t={type:"entity",entity:e};i.push(t)}return i},y=(e,t,i,a,r,p,v,y,_)=>{const b=((e,t)=>{const i={},a=new Set(Object.values(t).filter((e=>e.entity_category||e.platform&&g.has(e.platform)||e.hidden)).map((e=>e.entity_id)));for(const t of Object.keys(e)){const n=e[t];m.has((0,s.t)(n))||a.has(n.entity_id)||(i[t]=e[t])}return i})(a,i),k={};for(const e of Object.keys(b)){const t=b[e];t.attributes.order&&(k[e]=t.attributes.order)}const w=((e,t,i,a)=>{const n={...a},s={},o={};for(const a of Object.values(i)){const i=a.area_id||a.device_id&&t[a.device_id]?.area_id;i&&i in e&&a.entity_id in n?(i in s||(s[i]=[]),s[i].push(n[a.entity_id]),delete n[a.entity_id]):a.device_id&&a.device_id in t&&a.entity_id in n&&(a.device_id in o||(o[a.device_id]=[]),o[a.device_id].push(n[a.entity_id]),delete n[a.entity_id])}for(const[e,t]of Object.entries(o))1===t.length&&(n[t[0].entity_id]=t[0],delete o[e]);return{areasWithEntities:s,devicesWithEntities:o,otherEntities:n}})(e,t,i,b);if(v?.hidden)for(const e of v.hidden)delete w.areasWithEntities[e];y&&(w.devicesWithEntities={},w.otherEntities={});const $=(e=>{const t=[],i={};return Object.keys(e).forEach((a=>{const s=e[a];"group"===(0,n.m)(a)?t.push(s):i[a]=s})),t.forEach((e=>e.attributes.entity_id.forEach((e=>{delete i[e]})))),{groups:t,ungrouped:i}})(w.otherEntities);$.groups.sort(((e,t)=>k[e.entity_id]-k[t.entity_id]));const x=[];for(const e of $.groups)x.push(...f(a,e.attributes.entity_id,{title:(0,o.u)(e),show_header_toggle:"hidden"!==e.attributes.control}));const z=((e,t,i,a,n)=>{const r={};for(const e of Object.keys(n)){const t=n[e],i=(0,s.t)(t);i in r||(r[i]=[]),r[i].push(t.entity_id)}const d=[];if("person"in r){const e=[];if(1===r.person.length)d.push({type:"entities",entities:r.person});else{let t,i="";for(const a of r.person){const s=n[a];let o=s.attributes.entity_picture;if(!o){if(void 0===t){const e=getComputedStyle(document.body);t=encodeURIComponent(e.getPropertyValue("--light-primary-color").trim()),i=encodeURIComponent((e.getPropertyValue("--text-light-primary-color")||e.getPropertyValue("--primary-text-color")).trim())}o=`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 50 50' width='50' height='50' style='background-color:${t}'%3E%3Cg%3E%3Ctext font-family='roboto' x='50%25' y='50%25' text-anchor='middle' stroke='${i}' font-size='1.3em' dy='.3em'%3E${(0,h._2)(s.attributes.friendly_name||"")}%3C/text%3E%3C/g%3E%3C/svg%3E`}e.push({type:"picture-entity",entity:a,aspect_ratio:"1",show_name:!1,image:o})}d.push({type:"grid",square:!0,columns:3,cards:e})}delete r.person}const m=[];for(const e of u.L)e in r&&(m.push(...r[e]),delete r[e]);const g={};for(const t of Object.keys(r))g[t]=(0,c.p$)(e,t);m.length&&(r._helpers=m,g._helpers=e("ui.panel.lovelace.strategy.original-states.helpers")),Object.keys(r).sort(((e,t)=>(0,l.x)(g[e],g[t]))).forEach((e=>{d.push(...f(n,r[e].sort(((e,t)=>(0,l.x)((0,o.u)(n[e]),(0,o.u)(n[t])))),{title:g[e]}))}));const p={path:t,title:i,cards:d};return a&&(p.icon=a),p})(r,"default_view","Home",undefined,$.ungrouped),A=[],C=Object.keys(w.areasWithEntities).sort((0,d.dj)(e,v?.order));for(const t of C){const i=w.areasWithEntities[t],n=e[t];A.push(...f(a,i.map((e=>e.entity_id)),{title:n.name}))}const M=[],L=Object.entries(w.devicesWithEntities).sort(((e,i)=>{const a=t[e[0]],n=t[i[0]];return(0,l.x)(a.name_by_user||a.name||"",n.name_by_user||n.name||"")}));for(const[e,i]of L){const n=t[e];M.push(...f(a,i.map((e=>e.entity_id)),{title:n.name_by_user||n.name||r("ui.panel.config.devices.unnamed_device",{type:r(`ui.panel.config.devices.type.${n.entry_type||"device"}`)})}))}let E;if(p&&!_){const e=p.energy_sources.find((e=>"grid"===e.type));e&&e.flow_from.length>0&&(E={title:r("ui.panel.lovelace.cards.energy.energy_distribution.title_today"),type:"energy-distribution",link_dashboard:!0})}return z.cards.unshift(...A,...x,...E?[E]:[]),z.cards.push(...M),z}},17678:(e,t,i)=>{i.d(t,{G9:()=>o,Ue:()=>c,Vd:()=>h,gh:()=>u,x_:()=>s});var a=i(34897),n=i(33257);const s=(e,t)=>({type:"error",error:e,origConfig:t}),o=(e,t)=>({type:"error",error:e,origConfig:t}),r=(e,t)=>{const i=document.createElement(e);return i.setConfig(t),i},l=(e,t,a)=>"badge"===e?(e=>{const t=document.createElement("hui-error-badge");return customElements.get("hui-error-badge")?t.setConfig(e):(Promise.all([i.e(24500),i.e(61060),i.e(51431),i.e(81625),i.e(21037),i.e(36185),i.e(16204),i.e(97570),i.e(24014),i.e(84069),i.e(54083),i.e(35212),i.e(27538),i.e(8841)]).then(i.bind(i,78649)),customElements.whenDefined("hui-error-badge").then((()=>{customElements.upgrade(t),t.setConfig(e)}))),t})(o(t,a)):"heading-badge"===e?(e=>{const t=document.createElement("hui-error-heading-badge");return customElements.get("hui-error-heading-badge")?t.setConfig(e):(Promise.all([i.e(24500),i.e(61060),i.e(51431),i.e(81625),i.e(21037),i.e(36185),i.e(16204),i.e(97570),i.e(24014),i.e(84069),i.e(54083),i.e(35212),i.e(27538),i.e(11823)]).then(i.bind(i,22175)),customElements.whenDefined("hui-error-heading-badge").then((()=>{customElements.upgrade(t),t.setConfig(e)}))),t})(((e,t)=>({type:"error",error:e,origConfig:t}))(t,a)):(e=>{const t=document.createElement("hui-error-card");return customElements.get("hui-error-card")?t.setConfig(e):(Promise.all([i.e(61060),i.e(51431),i.e(31023)]).then(i.bind(i,31023)),customElements.whenDefined("hui-error-card").then((()=>{customElements.upgrade(t),t.setConfig(e)}))),t})(s(t,a)),d=e=>(0,n.c8)(e)?(0,n.Iu)(e):void 0,c=(e,t,i,a,n,s)=>{try{return h(e,t,i,a,n,s)}catch(i){return console.error(e,t.type,i),l(e,i.message,t)}},h=(e,t,i,n,s,o)=>{if(!t||"object"!=typeof t)throw new Error("Config is not an object");if(!(t.type||o||s&&"entity"in t))throw new Error("No card type configured");const c=t.type?d(t.type):void 0;if(c)return((e,t,i)=>{if(customElements.get(t))return r(t,i);const n=l(e,`Custom element doesn't exist: ${t}.`,i);if(!t.includes("-"))return n;n.style.display="None";const s=window.setTimeout((()=>{n.style.display=""}),2e3);return customElements.whenDefined(t).then((()=>{clearTimeout(s),(0,a.r)(n,"ll-rebuild")})),n})(e,c,t);let h;if(s&&!t.type&&t.entity){h=`${s[t.entity.split(".",1)[0]]||s._domain_not_found}-entity`}else h=t.type||o;if(void 0===h)throw new Error("No type specified");const u=`hui-${h}-${e}`;if(n&&h in n)return n[h](),((e,t)=>{if(customElements.get(e))return r(e,t);const i=document.createElement(e);return customElements.whenDefined(e).then((()=>{try{customElements.upgrade(i),(0,a.r)(i,"ll-upgrade"),i.setConfig(t)}catch(e){(0,a.r)(i,"ll-rebuild")}})),i})(u,t);if(i&&i.has(h))return r(u,t);throw new Error(`Unknown type encountered: ${h}`)},u=async(e,t,i,a)=>{const n=d(e);if(n){const e=customElements.get(n);if(e)return e;if(!n.includes("-"))throw new Error(`Custom element not found: ${n}`);return new Promise(((e,t)=>{setTimeout((()=>t(new Error(`Custom element not found: ${n}`))),2e3),customElements.whenDefined(n).then((()=>e(customElements.get(n))))}))}const s=`hui-${e}-${t}`,o=customElements.get(s);if(i&&i.has(e))return o;if(a&&e in a)return o||a[e]().then((()=>customElements.get(s)));throw new Error(`Unknown type: ${e}`)}},31271:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{T:()=>v,t:()=>y});i(24545),i(51855),i(82130),i(31743),i(22328),i(4959),i(62435);var n=i(91217),s=i(47245),o=i(8525),r=i(16254),l=i(51805),d=i(26649),c=i(18419),h=i(92207),u=(i(13749),i(16383),i(17678)),m=e([n,s,o,r,l,d,c,h]);[n,s,o,r,l,d,c,h]=m.then?(await m)():m;const g=new Set(["media-player-entity","scene-entity","script-entity","sensor-entity","simple-entity","toggle-entity","button","call-service"]),p={"button-entity":()=>i.e(62735).then(i.bind(i,62735)),"climate-entity":()=>i.e(30036).then(i.bind(i,30036)),"cover-entity":()=>i.e(82e3).then(i.bind(i,82e3)),"date-entity":()=>Promise.all([i.e(94131),i.e(24791)]).then(i.bind(i,24791)),"datetime-entity":()=>Promise.all([i.e(94131),i.e(14691),i.e(24500),i.e(59089),i.e(3316),i.e(93106)]).then(i.bind(i,99472)),"event-entity":()=>Promise.resolve().then(i.bind(i,91217)),"group-entity":()=>i.e(27764).then(i.bind(i,27764)),"input-button-entity":()=>i.e(23646).then(i.bind(i,23646)),"humidifier-entity":()=>i.e(58551).then(i.bind(i,80932)),"input-datetime-entity":()=>Promise.all([i.e(94131),i.e(14691),i.e(24500),i.e(3316),i.e(24215)]).then(i.bind(i,46641)),"input-number-entity":()=>Promise.all([i.e(94131),i.e(69489)]).then(i.bind(i,69489)),"input-select-entity":()=>Promise.all([i.e(14691),i.e(24500),i.e(73094)]).then(i.bind(i,73094)),"input-text-entity":()=>Promise.all([i.e(94131),i.e(4103)]).then(i.bind(i,4103)),"lock-entity":()=>i.e(27358).then(i.bind(i,27358)),"number-entity":()=>Promise.all([i.e(94131),i.e(84896)]).then(i.bind(i,84896)),"select-entity":()=>Promise.all([i.e(14691),i.e(24500),i.e(68939)]).then(i.bind(i,68939)),"text-entity":()=>Promise.all([i.e(94131),i.e(73946)]).then(i.bind(i,73946)),"time-entity":()=>Promise.all([i.e(94131),i.e(14691),i.e(24500),i.e(3316),i.e(34166)]).then(i.bind(i,42644)),"timer-entity":()=>i.e(70158).then(i.bind(i,70158)),"update-entity":()=>i.e(89244).then(i.bind(i,89244)),"valve-entity":()=>i.e(33871).then(i.bind(i,89109)),conditional:()=>i.e(22235).then(i.bind(i,22235)),"weather-entity":()=>i.e(95861).then(i.bind(i,95861)),divider:()=>i.e(33146).then(i.bind(i,33146)),section:()=>i.e(95796).then(i.bind(i,95796)),weblink:()=>i.e(39521).then(i.bind(i,39521)),cast:()=>i.e(80914).then(i.bind(i,80914)),buttons:()=>Promise.all([i.e(60003),i.e(1010)]).then(i.bind(i,1010)),attribute:()=>Promise.resolve().then(i.bind(i,92207)),text:()=>i.e(7762).then(i.bind(i,7762))},f={_domain_not_found:"simple",alert:"toggle",automation:"toggle",button:"button",climate:"climate",cover:"cover",date:"date",datetime:"datetime",event:"event",fan:"toggle",group:"group",humidifier:"humidifier",input_boolean:"toggle",input_button:"input-button",input_datetime:"input-datetime",input_number:"input-number",input_select:"input-select",input_text:"input-text",light:"toggle",lock:"lock",media_player:"media-player",number:"number",remote:"toggle",scene:"scene",script:"script",select:"select",sensor:"sensor",siren:"toggle",switch:"toggle",text:"text",time:"time",timer:"timer",update:"update",vacuum:"toggle",valve:"valve",water_heater:"climate",weather:"weather"},v=e=>(0,u.Ue)("row",e,g,p,f,void 0),y=e=>(0,u.gh)(e,"row",g,p);a()}catch(e){a(e)}}))},7950:(e,t,i)=>{i.d(t,{Q:()=>l});i(253),i(2075);var a=i(50118),n=i(57216),s=i(6121),o=i(84048),r=i(45111);const l=async(e,t,i,l,d)=>{t.loadFragmentTranslation("lovelace");const c=await(0,n.SJ)(t),h=c.filter((e=>"storage"===e.mode)),u=t.panels.lovelace?.config?.mode;if("storage"!==u&&!h.length)return void(0,o.Q)(e,{cardConfig:i,entities:d,yaml:!0});let m,g=null;if("storage"===u)try{m=await(0,a.Dz)(t.connection,null,!1)}catch(e){}if(!m&&h.length)for(const e of h)try{m=await(0,a.Dz)(t.connection,e.url_path,!1),g=e.url_path;break}catch(e){}m?h.length||m.views?.length?h.length||1!==m.views.length?(0,r.X)(e,{lovelaceConfig:m,urlPath:g,allowDashboardChange:!0,actionLabel:t.localize("ui.common.next"),dashboards:c,viewSelectedCallback:(n,s,r)=>{(0,o.Q)(e,{cardConfig:i,sectionConfig:l,lovelaceConfig:s,saveConfig:async e=>{try{await(0,a.ql)(t,n,e)}catch{alert(t.localize("ui.panel.lovelace.add_entities.saving_failed"))}},path:[r],entities:d})}}):(0,o.Q)(e,{cardConfig:i,sectionConfig:l,lovelaceConfig:m,saveConfig:async e=>{try{await(0,a.ql)(t,null,e)}catch(e){alert(t.localize("ui.panel.lovelace.add_entities.saving_failed"))}},path:[0],entities:d}):(0,s.showAlertDialog)(e,{text:"You don't have any Lovelace views, first create a view in Lovelace."}):c.length>h.length?(0,o.Q)(e,{cardConfig:i,sectionConfig:l,entities:d,yaml:!0}):(0,s.showAlertDialog)(e,{text:"You don't seem to be in control of any dashboard, please take control first."})}},84048:(e,t,i)=>{i.d(t,{Q:()=>s});var a=i(34897);const n=()=>Promise.all([i.e(24500),i.e(99196),i.e(61060),i.e(16882),i.e(51431),i.e(66419),i.e(81625),i.e(73767),i.e(17590),i.e(21037),i.e(30534),i.e(36185),i.e(97570),i.e(24014),i.e(84069),i.e(97243),i.e(73789),i.e(23994)]).then(i.bind(i,80675)),s=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"hui-dialog-suggest-card",dialogImport:n,dialogParams:t})}},45111:(e,t,i)=>{i.d(t,{X:()=>n});var a=i(34897);const n=(e,t)=>{(0,a.r)(e,"show-dialog",{dialogTag:"hui-dialog-select-view",dialogImport:()=>Promise.all([i.e(10963),i.e(14691),i.e(24500),i.e(3051),i.e(53779)]).then(i.bind(i,53779)),dialogParams:t})}},13265:(e,t,i)=>{i.a(e,(async(e,t)=>{try{i(89655);var a=i(4604),n=i(41344),s=i(51141),o=i(5269),r=i(12124),l=i(78008),d=i(12653),c=i(74264),h=i(48815),u=i(44129);const e=async()=>{const e=(0,h.wb)(),t=[];(0,s.Z)()&&await Promise.all([i.e(17500),i.e(59699)]).then(i.bind(i,59699)),(0,r.Z)()&&await Promise.all([i.e(97555),i.e(17500),i.e(70548)]).then(i.bind(i,70548)),(0,a.Z)(e)&&t.push(Promise.all([i.e(97555),i.e(43028)]).then(i.bind(i,43028)).then((()=>(0,u.T)()))),(0,n.Z6)(e)&&t.push(Promise.all([i.e(97555),i.e(24904)]).then(i.bind(i,24904))),(0,o.Z)(e)&&t.push(Promise.all([i.e(97555),i.e(70307)]).then(i.bind(i,70307))),(0,l.Z)(e)&&t.push(Promise.all([i.e(97555),i.e(56336)]).then(i.bind(i,56336))),(0,d.Z)(e)&&t.push(Promise.all([i.e(97555),i.e(50027)]).then(i.bind(i,50027)).then((()=>i.e(99135).then(i.t.bind(i,99135,23))))),(0,c.Z)(e)&&t.push(Promise.all([i.e(97555),i.e(36368)]).then(i.bind(i,36368))),0!==t.length&&await Promise.all(t).then((()=>(0,u.K)(e)))};await e(),t()}catch(e){t(e)}}),1)},84976:(e,t,i)=>{i.d(t,{o:()=>a});const a=(e,t)=>`https://${e.config.version.includes("b")?"rc":e.config.version.includes("dev")?"next":"www"}.home-assistant.io${t}`},30489:(e,t,i)=>{i.d(t,{R:()=>a});const a=(e,t="")=>{const i=document.createElement("a");i.target="_blank",i.href=e,i.download=t,document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click")),document.body.removeChild(i)}}};
//# sourceMappingURL=32665.EJNHHb2woKY.js.map