export const id=57864;export const ids=[57864];export const modules={77661:(s,e,t)=>{var i=t(36312),a=(t(7986),t(15112)),o=t(77706);t(88400);(0,i.A)([(0,o.EM)("ha-help-tooltip")],(function(s,e){return{F:class extends e{constructor(...e){super(...e),s(this)}},d:[{kind:"field",decorators:[(0,o.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,o.MZ)()],key:"position",value:()=>"top"},{kind:"method",key:"render",value:function(){return a.qy` <ha-svg-icon .path="${"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"}"></ha-svg-icon> <simple-tooltip offset="4" .position="${this.position}" .fitToVisibleBounds="${!0}">${this.label}</simple-tooltip> `}},{kind:"get",static:!0,key:"styles",value:function(){return a.AH`ha-svg-icon{--mdc-icon-size:var(--ha-help-tooltip-size, 14px);color:var(--ha-help-tooltip-color,var(--disabled-text-color))}`}}]}}),a.WF)},57864:(s,e,t)=>{t.r(e);var i=t(36312),a=(t(253),t(54846),t(16891),t(63893),t(67056),t(15112)),o=t(77706),l=t(34897),n=t(3276),c=(t(15720),t(77661),t(88400),t(10725)),d=t(97247),r=t(55321);(0,i.A)([(0,o.EM)("dialog-zwave_js-node-statistics")],(function(s,e){return{F:class extends e{constructor(...e){super(...e),s(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"device",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_nodeStatistics",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_deviceIDsToName",value:()=>({})},{kind:"field",decorators:[(0,o.wk)()],key:"_workingRoutes",value:()=>({})},{kind:"field",key:"_subscribedNodeStatistics",value:void 0},{kind:"field",key:"_subscribedDeviceRegistry",value:void 0},{kind:"method",key:"showDialog",value:function(s){this.device=s.device,this._subscribeDeviceRegistry(),this._subscribeNodeStatistics()}},{kind:"method",key:"closeDialog",value:function(){this._nodeStatistics=void 0,this.device=void 0,this._unsubscribe(),(0,l.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){return this.device?a.qy` <ha-dialog open @closed="${this.closeDialog}" .heading="${(0,n.l)(this.hass,this.hass.localize("ui.panel.config.zwave_js.node_statistics.title"))}"> <mwc-list noninteractive> <mwc-list-item twoline hasmeta> <span> ${this.hass.localize("ui.panel.config.zwave_js.node_statistics.commands_tx.label")}</span> <span slot="secondary"> ${this.hass.localize("ui.panel.config.zwave_js.node_statistics.commands_tx.tooltip")} </span> <span slot="meta">${this._nodeStatistics?.commands_tx}</span> </mwc-list-item> <mwc-list-item twoline hasmeta> <span> ${this.hass.localize("ui.panel.config.zwave_js.node_statistics.commands_rx.label")}</span> <span slot="secondary"> ${this.hass.localize("ui.panel.config.zwave_js.node_statistics.commands_rx.tooltip")} </span> <span slot="meta">${this._nodeStatistics?.commands_rx}</span> </mwc-list-item> <mwc-list-item twoline hasmeta> <span> ${this.hass.localize("ui.panel.config.zwave_js.node_statistics.commands_dropped_tx.label")}</span> <span slot="secondary"> ${this.hass.localize("ui.panel.config.zwave_js.node_statistics.commands_dropped_tx.tooltip")} </span> <span slot="meta">${this._nodeStatistics?.commands_dropped_tx}</span> </mwc-list-item> <mwc-list-item twoline hasmeta> <span> ${this.hass.localize("ui.panel.config.zwave_js.node_statistics.commands_dropped_rx.label")}</span> <span slot="secondary"> ${this.hass.localize("ui.panel.config.zwave_js.node_statistics.commands_dropped_rx.tooltip")} </span> <span slot="meta">${this._nodeStatistics?.commands_dropped_rx}</span> </mwc-list-item> <mwc-list-item twoline hasmeta> <span> ${this.hass.localize("ui.panel.config.zwave_js.node_statistics.timeout_response.label")}</span> <span slot="secondary"> ${this.hass.localize("ui.panel.config.zwave_js.node_statistics.timeout_response.tooltip")} </span> <span slot="meta">${this._nodeStatistics?.timeout_response}</span> </mwc-list-item> ${this._nodeStatistics?.rtt?a.qy`<mwc-list-item twoline hasmeta> <span> ${this.hass.localize("ui.panel.config.zwave_js.node_statistics.rtt.label")}</span> <span slot="secondary"> ${this.hass.localize("ui.panel.config.zwave_js.node_statistics.rtt.tooltip")} </span> <span slot="meta">${this._nodeStatistics.rtt}</span> </mwc-list-item>`:""} ${this._nodeStatistics?.rssi_translated?a.qy`<mwc-list-item twoline hasmeta> <span> ${this.hass.localize("ui.panel.config.zwave_js.node_statistics.rssi.label")}</span> <span slot="secondary"> ${this.hass.localize("ui.panel.config.zwave_js.node_statistics.rssi.tooltip")} </span> <span slot="meta">${this._nodeStatistics.rssi_translated}</span> </mwc-list-item>`:""} </mwc-list> ${Object.entries(this._workingRoutes).map((([s,e])=>e?a.qy` <ha-expansion-panel .header="${this.hass.localize(`ui.panel.config.zwave_js.node_statistics.${s}`)}"> <div class="row"> <span> ${this.hass.localize("ui.panel.config.zwave_js.route_statistics.protocol.label")}<ha-help-tooltip .label="${this.hass.localize("ui.panel.config.zwave_js.route_statistics.protocol.tooltip")}"> </ha-help-tooltip></span> <span>${this.hass.localize(`ui.panel.config.zwave_js.route_statistics.protocol.protocol_data_rate.${d.dZ[e.protocol_data_rate]}`)}</span> </div> <div class="row"> <span> ${this.hass.localize("ui.panel.config.zwave_js.route_statistics.data_rate.label")}<ha-help-tooltip .label="${this.hass.localize("ui.panel.config.zwave_js.route_statistics.data_rate.tooltip")}"> </ha-help-tooltip></span> <span>${this.hass.localize(`ui.panel.config.zwave_js.route_statistics.data_rate.protocol_data_rate.${d.dZ[e.protocol_data_rate]}`)}</span> </div> ${e.rssi_translated?a.qy`<div class="row"> <span> ${this.hass.localize("ui.panel.config.zwave_js.route_statistics.rssi.label")}<ha-help-tooltip .label="${this.hass.localize("ui.panel.config.zwave_js.route_statistics.rssi.tooltip")}"> </ha-help-tooltip></span> <span>${e.rssi_translated}</span> </div>`:""} <div class="row"> <span> ${this.hass.localize("ui.panel.config.zwave_js.route_statistics.route_failed_between.label")}<ha-help-tooltip .label="${this.hass.localize("ui.panel.config.zwave_js.route_statistics.route_failed_between.tooltip")}"> </ha-help-tooltip></span> <span> ${e.route_failed_between_translated?a.qy`${e.route_failed_between_translated[0]}<ha-svg-icon .path="${"M21,9L17,5V8H10V10H17V13M7,11L3,15L7,19V16H14V14H7V11Z"}"></ha-svg-icon>${e.route_failed_between_translated[1]}`:this.hass.localize("ui.panel.config.zwave_js.route_statistics.route_failed_between.not_applicable")} </span> </div> <div class="row"> <span> ${this.hass.localize("ui.panel.config.zwave_js.route_statistics.repeaters.label")}<ha-help-tooltip .label="${this.hass.localize("ui.panel.config.zwave_js.route_statistics.repeaters.tooltip")}"> </ha-help-tooltip></span><span> ${e.repeater_rssi_table?a.qy`<div class="row"> <span class="key-cell"><b>${this.hass.localize("ui.panel.config.zwave_js.route_statistics.repeaters.repeaters")}:</b></span> <span class="value-cell"><b>${this.hass.localize("ui.panel.config.zwave_js.route_statistics.repeaters.rssi")}:</b></span> </div> ${e.repeater_rssi_table}`:a.qy`${this.hass.localize("ui.panel.config.zwave_js.route_statistics.repeaters.direct")}`}</span> </div> </ha-expansion-panel> `:""))} </ha-dialog> `:a.s6}},{kind:"method",key:"_computeRSSI",value:function(s,e){return Object.values(d.au).includes(s)?a.qy`<ha-help-tooltip .label="${this.hass.localize(`ui.panel.config.zwave_js.rssi.rssi_error.${d.au[s]}`)}"></ha-help-tooltip>`:e?`${s}\n      ${this.hass.localize("ui.panel.config.zwave_js.rssi.unit")}`:s.toString()}},{kind:"method",key:"_computeDeviceNameById",value:function(s){if(!this._deviceIDsToName)return"unknown device";return this._deviceIDsToName[s]&&this._deviceIDsToName[s]||"unknown device"}},{kind:"method",key:"_subscribeNodeStatistics",value:function(){this.hass&&(this._subscribedNodeStatistics=(0,d.jF)(this.hass,this.device.id,(s=>{this._nodeStatistics={...s,rssi_translated:s.rssi?this._computeRSSI(s.rssi,!1):void 0};const e=[["lwr",this._nodeStatistics?.lwr],["nlwr",this._nodeStatistics?.nlwr]],t={};e.forEach((([s,e])=>{t[s]=e,e&&(e.rssi&&(e.rssi_translated=this._computeRSSI(e.rssi,!0)),e.route_failed_between&&(e.route_failed_between_translated=[this._computeDeviceNameById(e.route_failed_between[0]),this._computeDeviceNameById(e.route_failed_between[1])]),e.repeaters&&e.repeaters.length&&(e.repeater_rssi_table=a.qy`${e.repeaters.map(((s,t)=>a.qy`<div class="row"> <span class="key-cell">${this._computeDeviceNameById(e.repeaters[t])}:</span> <span class="value-cell">${this._computeRSSI(e.repeater_rssi[t],!0)}</span> </div>`))}`))})),this._workingRoutes=t})))}},{kind:"method",key:"_subscribeDeviceRegistry",value:function(){this.hass&&(this._subscribedDeviceRegistry=(0,c.Ag)(this.hass.connection,(s=>{const e={};s.forEach((s=>{e[s.id]=(0,c.xn)(s,this.hass)})),this._deviceIDsToName=e})))}},{kind:"method",key:"_unsubscribe",value:function(){this._subscribedNodeStatistics&&(this._subscribedNodeStatistics.then((s=>s())),this._subscribedNodeStatistics=void 0),this._subscribedDeviceRegistry&&(this._subscribedDeviceRegistry(),this._subscribedDeviceRegistry=void 0)}},{kind:"get",static:!0,key:"styles",value:function(){return[r.nA,a.AH`mwc-list-item{height:60px}.row{display:flex;justify-content:space-between}.table{display:table}.key-cell{display:table-cell;padding-right:5px;padding-inline-end:5px;padding-inline-start:initial}.value-cell{display:table-cell;padding-left:5px;padding-inline-start:5px;padding-inline-end:initial}span[slot=meta]{font-size:.95em;color:var(--primary-text-color)}`]}}]}}),a.WF)}};
//# sourceMappingURL=57864.vIR7PR3tDyU.js.map