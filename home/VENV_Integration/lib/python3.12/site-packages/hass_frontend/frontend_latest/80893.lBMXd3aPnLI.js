export const id=80893;export const ids=[80893];export const modules={80893:(e,s,o)=>{o.r(s),o.d(s,{CloudForgotPassword:()=>n});var a=o(36312),t=o(15112),r=o(77706),i=o(34897),d=(o(68690),o(13292),o(13082),o(90431),o(86127)),l=(o(77980),o(55321));let n=(0,a.A)([(0,r.EM)("cloud-forgot-password")],(function(e,s){return{F:class extends s{constructor(...s){super(...s),e(this)}},d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,r.MZ)()],key:"email",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_requestInProgress",value:()=>!1},{kind:"field",decorators:[(0,r.wk)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,r.P)("#email",!0)],key:"_emailField",value:void 0},{kind:"method",key:"render",value:function(){return t.qy` <hass-subpage .hass="${this.hass}" .narrow="${this.narrow}" .header="${this.hass.localize("ui.panel.config.cloud.forgot_password.title")}"> <div class="content"> <ha-card outlined .header="${this.hass.localize("ui.panel.config.cloud.forgot_password.subtitle")}"> <div class="card-content"> <p> ${this.hass.localize("ui.panel.config.cloud.forgot_password.instructions")} </p> ${this._error?t.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:""} <ha-textfield autofocus id="email" label="${this.hass.localize("ui.panel.config.cloud.forgot_password.email")}" .value="${this.email}" type="email" required @keydown="${this._keyDown}" .validationMessage="${this.hass.localize("ui.panel.config.cloud.forgot_password.email_error_msg")}"></ha-textfield> </div> <div class="card-actions"> <ha-progress-button @click="${this._handleEmailPasswordReset}" .progress="${this._requestInProgress}"> ${this.hass.localize("ui.panel.config.cloud.forgot_password.send_reset_email")} </ha-progress-button> </div> </ha-card> </div> </hass-subpage> `}},{kind:"method",key:"_keyDown",value:function(e){"Enter"===e.key&&this._handleEmailPasswordReset()}},{kind:"method",key:"_handleEmailPasswordReset",value:async function(){const e=this._emailField,s=e.value;if(!e.reportValidity())return void e.focus();this._requestInProgress=!0;const o=async e=>{try{await(0,d.Ut)(this.hass,e),(0,i.r)(this,"email-changed",{value:e}),this._requestInProgress=!1,(0,i.r)(this,"cloud-done",{flashMessage:this.hass.localize("ui.panel.config.cloud.forgot_password.check_your_email")})}catch(s){this._requestInProgress=!1;"usernotfound"===(s&&s.body&&s.body.code)&&e!==e.toLowerCase()?await o(e.toLowerCase()):this._error=s&&s.body&&s.body.message?s.body.message:"Unknown error"}};await o(s)}},{kind:"get",static:!0,key:"styles",value:function(){return[l.RF,t.AH`.content{padding-bottom:24px}ha-card{max-width:600px;margin:0 auto;margin-top:24px}h1{margin:0}ha-textfield{width:100%}.card-actions{display:flex;justify-content:space-between;align-items:center}.card-actions a{color:var(--primary-text-color)}`]}}]}}),t.WF)}};
//# sourceMappingURL=80893.lBMXd3aPnLI.js.map