/*! For license information please see 90548.U7Dj7j4rZUU.js.LICENSE.txt */
export const id=90548;export const ids=[90548];export const modules={93725:(e,t,s)=>{s.a(e,(async(e,i)=>{try{s.r(t),s.d(t,{EnergySetupWizard:()=>v});var n=s(36312),h=(s(72606),s(15112)),r=s(77706),a=s(34897),c=s(47076),o=s(6121),d=s(55321),l=s(42088),u=s(95005),_=s(97208),p=s(48039),f=s(77028),$=s(62206),g=e([c,l,u,_,p,f,$]);[c,l,u,_,p,f,$]=g.then?(await g)():g;let v=(0,n.A)([(0,r.EM)("energy-setup-wizard-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"lovelace",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_info",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_step",value:()=>0},{kind:"field",decorators:[(0,r.wk)()],key:"_preferences",value:()=>({energy_sources:[],device_consumption:[]})},{kind:"method",key:"getCardSize",value:function(){return 10}},{kind:"method",key:"setConfig",value:function(e){e.preferences&&(this._preferences=e.preferences)}},{kind:"method",key:"firstUpdated",value:function(){this.hass.loadFragmentTranslation("config"),this._fetchconfig()}},{kind:"method",key:"render",value:function(){return h.qy` <p> ${this.hass.localize("ui.panel.energy.setup.step",{step:this._step+1,steps:6})} </p> ${0===this._step?h.qy`<ha-energy-grid-settings .hass="${this.hass}" .preferences="${this._preferences}" @value-changed="${this._prefsChanged}"></ha-energy-grid-settings>`:1===this._step?h.qy`<ha-energy-solar-settings .hass="${this.hass}" .preferences="${this._preferences}" .info="${this._info}" @value-changed="${this._prefsChanged}"></ha-energy-solar-settings>`:2===this._step?h.qy`<ha-energy-battery-settings .hass="${this.hass}" .preferences="${this._preferences}" @value-changed="${this._prefsChanged}"></ha-energy-battery-settings>`:3===this._step?h.qy`<ha-energy-gas-settings .hass="${this.hass}" .preferences="${this._preferences}" @value-changed="${this._prefsChanged}"></ha-energy-gas-settings>`:4===this._step?h.qy`<ha-energy-water-settings .hass="${this.hass}" .preferences="${this._preferences}" @value-changed="${this._prefsChanged}"></ha-energy-water-settings>`:h.qy`<ha-energy-device-settings .hass="${this.hass}" .preferences="${this._preferences}" @value-changed="${this._prefsChanged}"></ha-energy-device-settings>`} <div class="buttons"> ${this._step>0?h.qy`<mwc-button outlined @click="${this._back}">${this.hass.localize("ui.panel.energy.setup.back")}</mwc-button>`:h.qy`<div></div>`} ${this._step<4?h.qy`<mwc-button unelevated @click="${this._next}">${this.hass.localize("ui.panel.energy.setup.next")}</mwc-button>`:h.qy`<mwc-button unelevated @click="${this._setupDone}"> ${this.hass.localize("ui.panel.energy.setup.done")} </mwc-button>`} </div> `}},{kind:"method",key:"_fetchconfig",value:async function(){this._info=await(0,c.BV)(this.hass)}},{kind:"method",key:"_prefsChanged",value:function(e){this._preferences=e.detail.value}},{kind:"method",key:"_back",value:function(){0!==this._step&&this._step--}},{kind:"method",key:"_next",value:function(){5!==this._step&&this._step++}},{kind:"method",key:"_setupDone",value:async function(){if(this._preferences)if(0!==this._preferences.device_consumption.length||0!==this._preferences.energy_sources.length){try{this._preferences=await(0,c.WN)(this.hass,this._preferences)}catch(e){(0,o.showAlertDialog)(this,{title:`Failed to save config: ${e.message}`})}(0,a.r)(this,"reload-energy-panel")}else(0,o.showAlertDialog)(this,{title:this.hass.localize("ui.panel.energy.setup.no_statistics_selected_title"),text:this.hass.localize("ui.panel.energy.setup.no_statistics_selected_description")})}},{kind:"get",static:!0,key:"styles",value:function(){return[d.RF,h.AH`:host{display:block;padding:16px;max-width:700px;margin:0 auto}mwc-button{margin-top:8px}.buttons{display:flex;justify-content:space-between}`]}}]}}),h.WF);i()}catch(e){i(e)}}))},62774:(e,t,s)=>{s.d(t,{Kq:()=>l});s(24545),s(51855),s(82130),s(31743),s(22328),s(4959),s(62435);var i=s(32559),n=s(68063);const h=(e,t)=>{var s,i;const n=e._$AN;if(void 0===n)return!1;for(const e of n)null===(i=(s=e)._$AO)||void 0===i||i.call(s,t,!1),h(e,t);return!0},r=e=>{let t,s;do{if(void 0===(t=e._$AM))break;s=t._$AN,s.delete(e),e=t}while(0===(null==s?void 0:s.size))},a=e=>{for(let t;t=e._$AM;e=t){let s=t._$AN;if(void 0===s)t._$AN=s=new Set;else if(s.has(e))break;s.add(e),d(t)}};function c(e){void 0!==this._$AN?(r(this),this._$AM=e,a(this)):this._$AM=e}function o(e,t=!1,s=0){const i=this._$AH,n=this._$AN;if(void 0!==n&&0!==n.size)if(t)if(Array.isArray(i))for(let e=s;e<i.length;e++)h(i[e],!1),r(i[e]);else null!=i&&(h(i,!1),r(i));else h(this,e)}const d=e=>{var t,s,i,h;e.type==n.OA.CHILD&&(null!==(t=(i=e)._$AP)&&void 0!==t||(i._$AP=o),null!==(s=(h=e)._$AQ)&&void 0!==s||(h._$AQ=c))};class l extends n.WL{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,s){super._$AT(e,t,s),a(this),this.isConnected=e._$AU}_$AO(e,t=!0){var s,i;e!==this.isConnected&&(this.isConnected=e,e?null===(s=this.reconnected)||void 0===s||s.call(this):null===(i=this.disconnected)||void 0===i||i.call(this)),t&&(h(this,e),r(this))}setValue(e){if((0,i.Rt)(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}},10296:(e,t,s)=>{s.d(t,{T:()=>u});s(253),s(94438);var i=s(2501),n=s(32559),h=s(62774);class r{constructor(e){this.G=e}disconnect(){this.G=void 0}reconnect(e){this.G=e}deref(){return this.G}}class a{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){var e;null!==(e=this.Y)&&void 0!==e||(this.Y=new Promise((e=>this.Z=e)))}resume(){var e;null===(e=this.Z)||void 0===e||e.call(this),this.Y=this.Z=void 0}}var c=s(68063);const o=e=>!(0,n.sO)(e)&&"function"==typeof e.then,d=1073741823;class l extends h.Kq{constructor(){super(...arguments),this._$C_t=d,this._$Cwt=[],this._$Cq=new r(this),this._$CK=new a}render(...e){var t;return null!==(t=e.find((e=>!o(e))))&&void 0!==t?t:i.c0}update(e,t){const s=this._$Cwt;let n=s.length;this._$Cwt=t;const h=this._$Cq,r=this._$CK;this.isConnected||this.disconnected();for(let e=0;e<t.length&&!(e>this._$C_t);e++){const i=t[e];if(!o(i))return this._$C_t=e,i;e<n&&i===s[e]||(this._$C_t=d,n=0,Promise.resolve(i).then((async e=>{for(;r.get();)await r.get();const t=h.deref();if(void 0!==t){const s=t._$Cwt.indexOf(i);s>-1&&s<t._$C_t&&(t._$C_t=s,t.setValue(e))}})))}return i.c0}disconnected(){this._$Cq.disconnect(),this._$CK.pause()}reconnected(){this._$Cq.reconnect(this),this._$CK.resume()}}const u=(0,c.u$)(l)}};
//# sourceMappingURL=90548.U7Dj7j4rZUU.js.map